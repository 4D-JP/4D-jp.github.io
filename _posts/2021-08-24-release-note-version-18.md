---
layout: fix
title: "4D v18 修正リスト"
date: 2021-10-12 08:00:00
categories: 修正リスト
tags: "18.5"
build: 271834
version: 18.5
permalink: /236/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0102031 `4DSCRIPT`の実行コンテキストで２回以上`SET DATABASE PARAMETER`の`SQL Engine case sensitivity`を変更した場合，デッドロックが発生し，アプリケーションがハングしました。

* ACI0101978 LDAPの`objectGUID`が文字化けしたテキスト形式で返されました。`LDAP Search`は，数値を文字列に変換して返しますが，GUIDはバイナリ形式のデータが無効な文字列に変換されます。

* ACI0102369 クライアント/サーバー版のみ。日付型と似たような形式（`nnnn-nn-nn`）の文字列を検索条件の値として渡した場合，`dataClass.query()`が正しい結果を返しませんでした。文字列が日付として評価されているようです。プレースホルダーを使用した場合に問題が発生します。文字列リテラルであれば問題ありません。

* ACI0102353 ランタイムエクスプローラーのウォッチ式にローカル変数が入力された状態で監視プロセスを切り替えた場合，そのプロセスがすでにアポートされているとアプリケーションがクラッシュしました。表示の更新周期を短いと問題が発生しやすくなります。

* ACI0102285 ストラクチャ設定で「最新のバックアップのみ保存`n`バックアップファイル」を設定しても，*backupHistory.json*ファイルには過去のバックアップ履歴がすべて残されており，ファイルが際限なく肥大化しました。
 
* ACI0102209 プロジェクトモードのみ。ビルド版アプリケーションでユーザーが`command`+`shift`+`F9`のキーコンビネーションを入力してランタイムエクスプローラーが表示することを阻止する手段がありませんでした。カレントユーザーは常に*Designer*であるためです。

**注記**: 修正により，シングルユーザーのビルド版アプリケーションではキーコンビネーションでランタイムエクスプローラーが表示できないようになりました。表示するには新コマンド`OPEN RUNTIME EXPLORER`を使用してください。

* ACI0102262 アプリケーションをプロジェクトモードにエクスポートした場合，ハイライトボタンは透明ボタンに変換されますが，同時に*On Mouse Move*イベントが有効に設定されました。

**注記**: 修正により，オブジェクトにヘルプTipsが設定されている場合を除き，イベントは処理されないようになりました。*On Mouse Move*イベントは，ヘルプTipsを表示するために必要です。

* ACI0102233 ラベルエディターでラベルに挿入した式（例：`[Table_1]Field_2+"bbb"`）やフォーマット付きのフィールド（例：`String:C10([Table_1]Field_3;"### ### ##0.000")`）が正しく出力されませんでした。フィールドの値だけが出力されました。

* ACI0101912 ラベルエディターにドラッグ＆ドロップ操作でフィールドを追加したり，フィールドにフィールドを連結したりすることはできますが，すでに挿入された式を編集した場合，確定した内容が保存されませんでした。

* ACI0101759 ラベルエディターでラベルに挿入したフィールドに`String`関数でフォーマットを適用した場合，印刷やプレビュー出力にフォーマットが反映されませんでした。

* ACI0102258 `ELF`（Extended Log File）形式のWebログファイルが正しく出力されませんでした。ヘッダーと値の位置が揃っていません。またヘッダーに大文字が使用されているため，一部のツールで正しく表示されませんでした。

* ACI0102141 クライアント/サーバー版のみ。クライアント側で`entitySelection.fromCollection()`を実行した場合，日付ではなくISO文字列形式で日付が保存されました。

* ACI0102098 クライアント/サーバー版のみ。クライアント側でトランザクション中に保存したリレーション属性を再び保存しようとした場合，エンティティのスタンプがインクリメントされているために保存できないというエラーが返されました。

* ACI0101834 クライアント/サーバー版のみ。クライアント側でロックしたエンティティを再びロックした後，エンティティに`Null`を代入してオブジェクトをクリアした場合，ロックが解除できなくなりました。`Null`を代入した時点でエンティティh解放されるべきです。
 
* ACI0101326 コンパイルモードのみ。ポインター型のプロジェクトメソッドのパラメーターに`Null`が渡された場合，アプリケーションがクラッシュしました。

* ACI0102174 `WEB SERVICE CALL`でコールしたサーバーがステータスコードの`500`とHTMLボディを返した場合，パーサーがDTDなどの関連リソースをロードしようとするため，アプリケーションがフリーズすることがありました。

* ACI0101233 View Proエリアのセットアップ中にウィンドウをリサイズした場合，アプリケーションがフリーズしました。`On VP ready`イベント直後のタイミングでJavaScriptの無限ループに陥る可能性があるようです。

* ACI0101060 データ書き出しダイアログ画面で実数型フィールドに数値フォーマットを適用した場合，プレビューエリアに表示される値には小数点が二重に表示されました。プレビュー表示の不具合であり，エクスポートされるファイルは問題ありません。`###, ###, ## 0.00`というフォーマットに問題があります。
