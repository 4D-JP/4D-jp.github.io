---
layout: fix
title: "4D v19.4 修正リスト"
date: 2022-10-13 08:00:00
categories: 修正リスト
tags: "19.4"
build: 283073
version: "19.4"
permalink: /259/:slug/
---

* ACI0103378 Windows版のみ。複数のモニターが接続されている場合，カラーピッカーが表示されず，操作がブロックされることがありました。

* ACI0103346 リストボックス自体にスタイルシートが設定されておらず，個別のヘッダー・フッター・列にスタイルシートが設定されている場合，フォームをプロジェクトモードに変換すると，対応するCSSは作成されますが，個別のヘッダー・フッター・列にクラスプロパティが設定されませんでした。

* ACI0103238 プロジェクトモードでWebフォルダーの場所を設定した場合，データべース設定画面にはフォルダーが存在しないという意味の赤い文字でWebフォルダーの場所が表示されました。ポップアップメニューをクリックすると，チェックしているフォルダーの階層が間違っていることが確認できます。

* ACI0102894 標準アクションの「終了」がフォームオブジェクトに設定されている場合，まずオブジェクトメソッドが実行され。その後に標準アクションが実行されました。*deleteRecord* アクションと同じように，標準アクションが先に実行されるべきです。

> フォームオブジェクトあるいはメニューコマンドには，標準アクションとメソッドの両方を割り当てることができます。この場合，標準アクションは常にメソッドの後に実行されます（ただし*deleteRecord* アクションを除く）

<i class="fa fa-external-link" aria-hidden="true"></i> [doc.4d.com](https://doc.4d.com/4Dv19/4D/19/Standard-actions.300-5416773.ja.html)

* ACI0103336 IMAPトランスポーターの`getBox List()`でメールボックス名に含まれるプラス（`+`）記号が正しくデコードされないため，メールボックスが存在しないというエラーが返されました。

* ACI0103335 `MAIL convert to MIME`でアプリケーションがフリーズすることがありました。
 
* ACI0102840 標準アクションが設定されているボタンのクリックイベントで*Dynamic pop up menu*を使用した場合，コマンドで指定したデフォルト項目が無視されました。

* ACI0103108 クイックレポートエディターのフィールド検索ウィンドウに文字列をタイプ入力した場合，リレーションフィールドが表示されませんでした。

* ACI0103221 クライアント/サーバー版のみ。プライマリーキー値にスラッシュ（`/`）や疑問符（`?`）などの文字が含まれる場合，ORDAリクエストが正常に処理されませんでした。

* ACI0103204 旧式セッション管理が有効にされている場合，RESTのタイムアウトが経過してもセッションが閉じられませんでした。スケーラブルセッション管理であれば問題ありません。

**注記**: 管理画面が更新されるたびにセッションが延長されていたことが原因でした。

* ACI0103135 プロジェクトモードのみ。ピクチャボタンに「ドロップ可」プロパティがありませんでした。

**注記**: プロジェクトモードのピクチャボタンに「ドラッグ可」プロパティが存在しないのは仕様です。

* ACI0102914 エンティティセレクション型リストボックスにフォーカスを移動した場合，「サブレコード追加」標準アクションが設定されたボタンがアクティブ状態になりました。この[標準アクション](https://doc.4d.com/4Dv19R5/4D/19-R5/Using-standard-actions.300-5851443.ja.html)は配列型またはエンティティセレクション型リストボックスに対応していません。

* ACI0103224 範囲チェックを無効にするためのコンパイラー指示（`// %R-`）が記述されたメソッドをコンパイルした場合，不明なエラー`#36`が返されました。

* ACI0103028 Mac版のみ。PHPプロセス数を`1`に限定した場合，`PHP Execute`の内部コマンド`quit_4d_php`または`relaunch_4d_php`の完了に`10`秒を要しました。

* ACI0102947 リストボックスのセル値を編集中にcommandキーを押しながら英数キーを入力した場合，*On Before Keystroke* イベントが２回発生しました。モディファイアはキーストロークとして処理されるべきではありません。

* ACI0102661 4D Write Proエリアをフォームの２ページ目以降に配置した場合，ランタイムエラーが返されました。
 
* ACI0103217 プロジェクトモードのみ。フォームエディターで線オブジェクトの高さプロパティを変更した場合，値が保存されませんでした。

* ACI0103197 Windows版のみ。初期化されていない空のポップアップ/ドロップダウンメニューをクリックした場合，同じフォームに表示されたテキスト入力オブジェクトがクリックに反応しなくなりました。

* ACI0103154 データファイルのユーザー設定画面でインターフェースページにページを切り替えた場合，何も項目を変更していなくても，OKボタンがクリックできるようになりました。ACI0102791と似たような問題です。

* ACI0103109 macOS Montereyのみ。`SET MENU ITEM SHORTCUT`で数字のゼロ（`0`）をショートカットに設定した場合，メニューには「⌘0」ではなく「⌘à」と表示されました。

* ACI0103097 ツールボックスのメニューエディターで標準アクションが二重に追加されることがありました。新規作成したプロジェクトでは問題ありません。

* ACI0103080 Windows版のみ。`SET CURRENT PRINTER`で`PDFCreator`をカレントプリンターに設定することができませんでした。

**注記**: 4Dがサポートしている`PDFCreator`のバージョンは`1.7.3`（または`1.7.x`）です。`2.0.0`以降のバージョンでは，`PDFCreator`のAPIが大幅に変更されており，さらにWindows標準のMicrosoft Print to PDFが使用できるため，`1.7.x`以外のバージョンはサポートされないことになりました。定数の`PDFCreator`が使用された場合，4Dは`1.7.x`のAPIをコールして`PDFCreator`を特定するようになっています。そのため，新しいバージョンの`PDFCreator`（たとえば`4.4.2`）だけがインストールされているWindowsでは，指定プリンターがみつかりませんでした。逆に，定数ではなく，実際のプリンター名を指定すれば，どのバージョンの`PDFCreator`でも選択することができます。しかし，非対応のプリントドライバーで`SET PRINT OPTION`で*Destination option* を`2`（ファイル）に指定した場合，生成されるのは拡張子に関わりなくPostScriptファイルであり，PDFファイルではありません。`PDFCreator`のPDF変換APIに互換性がないためです。今回，修正されたのは`SET CURRENT PRINTER`に定数の`PDFCreator`を渡した場合の動作だけであり，最新バージョンの`PDFCreator`に正式対応したわけではないことに留意してください。

<i class="fa fa-external-link" aria-hidden="true"></i> [Migrating from PDFCreator 1.7 to 2.0](https://github.com/4D-JP/4D-jp.github.io/files/9612987/migration_1.7____2.0_.pdf)

* ACI0103228 Mac版のみ。4D Go Mobileで複数の並び替えアクションを設定した場合，ビルドしたiOSアプリケーションのリストフォームで１番目以外の並び替えアクションが実行できませんでした。

* ACI0103183 4D Go Mobileのリレーションアクションを実行した場合，エンティティの`parent`属性が*On Mobile App Action* データベースメソッドに返されませんでした。

* ACI0103172 `VP SET DATE TIME VALUE`を使用し，日付を*vk pattern sortable date time* または*vk pattern universal sortable date time* フォーマットで設定した場合，アポストロフィ記号が表示されました。

* ACI0103171 Windows版のみ。リレーションで結ばれたテーブルの名前に大文字が使用されていない場合，Androidアプリケーションのビルドができませんでした。

* ACI0103169 4D Go Mobileで公開したピクチャフィールドにプライオリティーフォーマッターを設定した場合，アセットサイズ属性が考慮されず，画像がフルサイズで表示されました。

* ACI0103164 4D Go MobileでAndroidアプリケーションをビルドした場合，整数フィールドに設定したJSONデータフォーマッターが無視され，値が整数として表示されました。

* ACI0103113 デザインモードのウィンドウをすべて閉じた状態では，モバイルプロジェクトを開くことができませんでした。つまり，デザインプロセスでメニューを実行する必要がありました。

* ACI0103179 *On Before Keystroke* イベントで`FILTER KEYSTROKE`を実行した場合，入力エリアの冒頭にカーソルが移動しました。

* ACI0103161 SQLを処理中にサーバーの*On Quit* データベースメソッドで`SQL STOP SERVER`を実行した場合，アプリケーションが反応しなくなりしました。数十個のSQL接続ハンドラーが存在する場合に問題が発生します。
 
* ACI0103200 Windows版のみ。デスクトップの高解像度モードが有効にされている場合，日本語入力フロントエンドプロセッサ（IME）の変換候補ウィンドウが入力エリアに被さって表示されました。

* ACI0103081 `IMAP Transporter.getMails()`で大量のメッセージを受信しようとした場合，アプリケーションがフリーズしたようになった後，最終的にエラーメッセージが表示され，すべてのメールを受信できないことがありました。dovecotまたはExchangeサーバーの受信トレイに`10000`件を超えるメッセージが存在する場合に問題が発生するようです。
