---
layout: fix
title: "4D v19r5 修正リスト"
date: 2022-04-21 08:00:00
categories: 修正リスト
tags: 19r5
build: 278604
version: 19r5
permalink: /111/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0102121 入力フォームにView Proエリアを表示し，自動アクションのナビゲーションを使用して別レコードに移動した場合，View Proエリアのデータソースオブジェクトが空になりました。

* ACI0101857 `LAUNCH EXTERNAL PROCESS`で実行したCLIプログラムの出力ストリームに無効な文字列が含まれる場合，空の文字列が返されました。

**注記**: 修正により，UTF-8からUTF-16に変換できない無効な文字は`?`として出力されるようになりました。

* ACI0101791 コンパイルされていないプロジェクトの*On Startup*データベースメソッドで`BUILD APPLICATION`を使用した場合，コンパイラーのエラーログファイルが出力されませんでした。*On Startup*のタイミングでは，デザインモードがセットアップされていないためです。

* ACI0101229 クライアント側で`SET DATABASE PARAMETER`を使用してクライアント側WebサーバーのHTTP"ポート番号（`Client HTTPS port ID`）を変更した場合，設定したポート番号ではなく，スタンドアロン版のポート番号が使用されました。

* ACI0100764 バックアップ設定「指定時間経過後に再試行：時間・分・秒」のデフォルト値がMacでは`0000-00-00T00:00:00.561`，Windowsでは`0000-00-00T00:00:00.000`となっています。v16では`60`秒でした。

* ACI0102290 空のコレクションに対して`IN`比較演算子を使用して`collection.query()`を実行した場合，アプリケーションがクラッシュしました。

* ACI0102225 ビルドしたサーバーアプリケーションにコマンドラインオプションの`--cache-folder-name`を渡してサーバーのキャッシュフォルダーをカスタマイズすることができませんでした。

* ACI0102197 クライアント/サーバー版のみ。ストアドプロシージャを起動したクライアントのネットワーク接続が強制的に切断された場合，ユーザー数とライセンス数の計算が合わなくなりました。クライアントがクラッシュしたり，ネットワーク接続が切断された場合には，クライアント接続ライセンスが解放されるべきです。

* ACI0102194 `VP SET PRINT INFO`で用紙サイズを文字列で指定した場合，`VP Get print info`から返されるオブジェクトの`paperSize.kind`プロパティが正しくありませんでした。用紙サイズの名称ではなく，SpreadJSの定数値が返されました。

* ACI0102158 `VP Get cell style`コマンドを一回のメソッドで何度も呼び出した場合，スタイル情報の取得に時間がかかりました。

* ACI0102124 View Proエリアから別のView Proエリアにセルの内容をコピー＆ペーストした場合，フォーミュラではなく値が転写されました。リボンインターフェースを使用すれば問題ありません。標準キーボードショートカットを使用した場合に期待したようなコピー＆ペーストができません。

* ACI0102357 Apple Siliconのみ。メソッドが追加されていない空のプロジェクトをコンパイルしようとした場合，内部エラーが返されました。

* ACI0102337 バイナリモードのみ。リストボックスの列に64ビット整数フィールドを表示した場合，数値フォーマットを適用できませんでした。

* ACI0102313 日本語のテーブルタイトルを`VP SET FIELDS`で登録した場合，テーブル名の濁点や半濁点が除去されました。

* ACI0102292 `New OAuth2 provider`に無効なパラメーターが渡された場合，エラーが返されませんでした。

* ACI0102488 クライアント/サーバー通信の暗号化を有効にした場合，クライアントからのアクセスが集中するとサーバーがフリーズすることがありました。

* ACI0102487 Windows版のみ。`entity.fromObject( )`でＮテーブルのエンティティにＮ対１リレーション属性に値を代入しようとした場合，１対Ｎリレーション属性の値が代入されました。

* ACI0102474 Mac版のみ。マウス操作でウィンドウをリサイズした場合，リサイズ中は`GET WINDOW RECT`から返される`top`位置が上下に変動しました。

* ACI0102464 `WP Get view properties`は，スペルチェックの情報（標準アクションの`spell/enabled`）ではなく自動スペルチェックの情報（`OBJECT Get auto spellcheck`）を返しました。

* ACI0102454 プリエンプティブプロセスでSQLコードを実行し，`FN`ステートメント経由でメソッドをコールした場合，サーバーがクラッシュしました。

* ACI0102433 コレクションにオブジェクト型を追加し，そのプロパティにエンティティを追加した場合，`property == null`のような条件でコレクションをクエリするとエンティティが返されました。`File`や`Folder`でも同じような結果になり，標準の`Object`と振る舞いが違います。

* ACI0102425 クラス関数の中で`WEB SET HTTP HEADER`を使用した場合，常に`200 OK`のHTTPステータスコードが返されました。プロジェクトメソッドで使用すれば問題ありません。

* ACI0102424 View Proスプレッドシートに統合されたセルが含まれている場合，SVG形式のエクスポートが正しく変換されませんでした。

* ACI0102388 詳細フォーム型のサブフォーム（ウィジェット）に対して`OBJECT SET SCROLL POSITION`または`OBJECT GET SCROLL POSITION`を使用することができませんでした。

* ACI0102380 データ言語が日本語に設定されている場合，`Compare strings`を`sk strict`モードで使用すると，`sk case insensitive`を指定しなくても常に大文字と小文字が同等とみなされました。日本語版は，大文字と小文字を同等とみなさないのがデフォルトの動作です。

* ACI0102379 `IMAP_MsgLst`から返される件名のアクセント文字が間違っていることがありました。

* ACI0102374 インタープリターモードのみ。配列型リストボックスの制御配列プロパティに倍長整数型の配列が使用されている場合，フォームのロード時に配列がブール型で再初期化されました。

* ACI0102573 バイナリモードのみ。インタープリターモードではREST公開したメソッドをサーバー側でデバッガすることができませんでした。また，コンパイルモードではREST公開したメソッドをサーバー側のコオペラティブプロセスで実行できませんでした。

* ACI0102838 Windows版のみ。DirectWriteレンダリングを有効にした場合，バイナリモードで自動的に生成されたリストフォームのフィールドがオブジェクトの境界を超えて表示されました。

* ACI0102822 入力不可フィールドに表示フォーマットが設定されている場合，値が完全に表示されないことがありました。ACI0102747が修正されたことによる副作用のようです。

* ACI0102813 XML要素の値に`Char(29)`のような制御文字が含まれている場合，`DOM EXPORT TO VAR`または`DOM EXPORT TO FILE`を実行するとアプリケーションがクラッシュしました。

* ACI0102836 ビルド版アプリケーションを起動し，初回にデータファイルの場所を指定した場合，`lastDataPath.xml`が更新されず，次回もデータファイルの場所を指定するよう求められました。ビルド`277038`よりも前のバージョンでは問題ありません。

* ACI0102801 Mac版のみ。4Kまたは5KのRetinaディスプレイにフォームを表示した場合，線。四角形・円などのオブジェクトが正しく表示されませんでした。図形とはずれた位置に外縁が描画されました。

* ACI0102847 フォームメソッドで`SystemWorker.wait()`を実行した場合，システムワーカーからのメッセージが返されませんでした。

* ACI0102831 *On Server Startup*データベースメソッドで`OPEN DATABASE`を使用した場合，管理画面を閉じるまで再起動がブロックされました。

* ACI0102834 Apple Siliconコンパイルモードのみ。「サーバー側で実行」メソッドで`Count parameters`を使用した場合，正しい数が返されませんでした。

* ACI0102789 フォームエディターの実行ボタンをクリックした場合，フォームがアプリケーションプロセスで実行されるため，プロセス変数が使用されているフォームオブジェクトのプロパティがリセットされませんでした。

* ACI0102731 バイナリモードのみ。クライアント側で`FORM LOAD`を使用し，空のフォームをロードした場合，終了時にアプリケーションがクラッシュしました。
