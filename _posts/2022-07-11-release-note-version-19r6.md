---
layout: fix
title: "4D v19r6 修正リスト"
date: 2022-10-06 08:00:00
categories: 修正リスト
tags: 19r6
build: 282985
version: 19r6
permalink: /2022/279/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0103361 4D Go MobileでビルドしたAndroidアプリでアクションを実行した場合，アプリがクラッシュしました。

* ACI0103241 Application Support (Mac) またはApp Data/Roaming (Windows) に作成される*dataCollection.json* ファイルにデータベースの`databases`コレクションの内容が正しくありませんでした。
 
* ACI0103354 クライアント/サーバー版のみ。データベースフォルダーではなく，プロジェクトフォルダーだけを共有した場合，開発モードでサーバーに接続するとクライアントがクラッシュしました。

**注記**: 修正により，エラーが返されるようになりました。開発モードでサーバーに接続するためには，プロジェクトフォルダーの親フォルダーであるデータベースフォルダーを共有する必要があります。

* ACI0103343 クライアント/サーバー版のみ。「データベースが壊れていたら最新のバックアップから復元する」が有効にされており，起動時に自動復元が作動した場合，ジャーナルの復元中にサーバーがクラッシュしました。

* ACI0103344 Windows版のみ。システムワーカーのインスタンスが解放されても，システムハンドルが解放されませんでした。`LAUNCH EXTERNAL PROCESS`を使用すれば問題ありません。

**注記**: 入力ストリームのメモリーリーク（MacおよびWindows）も修正されました。

* ACI0103214 ストラクチャにサブテーブルが含まれる場合，4D Go Mobileのストラクチャセクションがエラーを返しました。

* ACI0103032 Ｎ対１リレーションで参照されたエイリアス属性が4D Go Mobileで表示されず，データの同期もされませんでした。
 
* ACI0103135 プロジェクトモードのみ。ピクチャボタンに「ドロップ可」プロパティがありませんでした。

**注記**: プロジェクトモードのピクチャボタンに「ドラッグ可」プロパティが存在しないのは仕様です。

* ACI0103224 範囲チェックを無効にするためのコンパイラー指示（`// %R-`）が記述されたメソッドをコンパイルした場合，不明なエラー`#36`が返されました。

* ACI0103217 プロジェクトモードのみ。フォームエディターで線オブジェクトの高さプロパティを変更した場合，値が保存されませんでした。

* ACI0103130 4D Go Mobileのラベル＆アイコンセクションで日付型フィールドを選択し，データフォーマッターを設定した場合，ランタイムエラーが返されました。

* ACI0103161 SQLを処理中にサーバーの*On Quit* データベースメソッドで`SQL STOP SERVER`を実行した場合，アプリケーションが反応しなくなりしました。数十個のSQL接続ハンドラーが存在する場合に問題が発生します。

**注記**: ほんとうにフリーズしているわけではなく，管理画面がしばらく更新されないことが問題でした。

* ACI0103169 4D Go Mobileで公開したピクチャフィールドにプライオリティーフォーマッターを設定した場合，アセットサイズ属性が考慮されず，画像がフルサイズで表示されました。

* ACI0103164 4D Go MobileでAndroidアプリケーションをビルドした場合，整数フィールドに設定したJSONデータフォーマッターが無視され，値が整数として表示されました。

* ACI0103179 *On Before Keystroke* イベントで`FILTER KEYSTROKE`を実行した場合，入力エリアの冒頭にカーソルが移動しました。

* ACI0103228 Mac版のみ。4D Go Mobileで複数の並び替えアクションを設定した場合，ビルドしたiOSアプリケーションのリストフォームで１番目以外の並び替えアクションが実行できませんでした。

* ACI0103172 `VP SET DATE TIME VALUE`を使用し，日付を*vk pattern sortable date time* または*vk pattern universal sortable date time* フォーマットで設定した場合，アポストロフィ記号が表示されました。

* ACI0103171 Windows版のみ。リレーションで結ばれたテーブルの名前に大文字が使用されていない場合，Androidアプリケーションのビルドができませんでした。
 
* ACI0103028 Mac版のみ。PHPプロセス数を`1`に限定した場合，`PHP Execute`の内部コマンド`quit_4d_php`または`relaunch_4d_php`の完了に`10`秒を要しました。

* ACI0102921 データファイルのユーザー設定および`ServerEmbedsProjectDirectoryFile`キーを有効にしてビルドしたクライアント/サーバー版アプリケーションでユーザー/グループのアクセス権とは無関係のデータベース設定を変更した場合，*settings.4DSettings* だけでなく，*directory.json* ファイルも自動的に作成されました。

* ACI0103210 4D NetKitの`Office365`クラスの`getToken()`メソッドがMicrosoftから返された詳細なOAuthエラーメッセージを返しませんでした。

**注記**: 詳細なOAuthエラーメッセージは`_internals`プロパティに返されるようになりました。

* ACI0103200 Windows版のみ。デスクトップの高解像度モードが有効にされている場合，日本語入力フロントエンドプロセッサ（IME）の変換候補ウィンドウが入力エリアに被さって表示されました。

* ACI0103101 Mac版のみ。コマンドラインインタフェースの`--project`パラメーターで指定したプロジェクトファイルのパスが間違っていた場合におかしなエラーメッセージが返されました。

* ACI0103183 4D Go Mobileのリレーションアクションを実行した場合，エンティティの`parent`属性が*On Mobile App Action* データベースメソッドに返されませんでした。

* ACI0103152 `4D.HTTPRequest.wait()`がシンタックス警告としてメソッドエディターに表示されました。
 
* ACI0103128 OracleやMicrosoft SQL Serverなどのデータベースに対し，`SQL EXECUTE `でODBCクエリを実行した場合，少なくレコードが返されることがありました。結果に`null`が含まれている場合に問題が発生します。ACI0102720が修正されたことによる副作用のようです。

* ACI0103113 デザインモードのウィンドウをすべて閉じた状態では，モバイルプロジェクトを開くことができませんでした。つまり，デザインプロセスでメニューを実行する必要がありました。

* ACI0103108 クイックレポートエディターのフィールド検索ウィンドウに文字列をタイプ入力した場合，リレーションフィールドが表示されませんでした。

* ACI0103158 Windows版のみ。デスクトップの設定で割り切れないズーム率（例：`125%`つまり`1.25`倍）が適用されている場合，繰り返し表示された`.svg`画像のレンダリングに時間がかかりました。

**注記**: ズーム率が整数でない場合，画像がぴったりタイルで埋め尽くされるとは限らないので，SVGレンダリングエンジンのバックバッファリングは使用されず，ひとつひとつのタイルがレンダリングされます。修正により，タイルの数が`100`を超える場合には，割り切れないズーム率でもバックバッファリングが使用されるようになりました。パフォーマンスは向上しますが，タイルの形状によっては表示に隙間が発生する可能性があります。なお，高DPIモードはアプリケーションの*Resources* フォルダーにある*Info.plist* ファイルの`WinDPIAwareness`キーで設定することができます。

* ACI0103097 ツールボックスのメニューエディターで標準アクションが二重に追加されることがありました。新規作成したプロジェクトでは問題ありません。

* ACI0103151 `GRAPH`で作成したチャートの凡例に日本語のテキストを使用した場合，文字が途切れることがありました。
 
* ACI0103173 トリガの新規レコード保存イベントで`Get external data path`を実行した場合，外部データパスに使用されるフォルダー名（テーブル番号およびフィールド番号）が正しくありませんでした。

* ACI0103156 サーバーのストレステストを実施したところ，`66`時間後にサーバーのユーザーインタフェースが反応しなくなり，管理画面をクリックすると一部のクライアント接続が切断されました。

* ACI0103052 クライアント/サーバー版のみ。拡張されたエンティティクラスの関数が複数のプロパティから同一のオブジェクトを参照しているようなオブジェクトをクライアントに返した場合，オブジェクトの参照ではなくコピーが返されました。「サーバー側で実行」メソッドであれば，問題ありません。再帰的な参照を含むオブジェクトは，JSON形式ではなく，バイナリ形式で返されるべきです。

* ACI0103174 コンポーネントの名前空間でエクスポートされたクラスの`get`または`set`関数で定義されたプロパティ名がオブジェクトのコード補完で表示されませんでした。

* ACI0103148 Windows版のみ。高解像度の設定を125%に設定した場合，`GOTO XY`で表示した`MESSAGE`の位置が正しくありませんでした。

* ACI0103133 プロジェクトモードのみ。変数あるいは式にヌルポインターを設定して`OBJECT DUPLICATE`で複製した階層ポップアップメニューボブジェクトに対してを`OBJECT SET ENABLED`を実行した場合，エラーが返されました。
 
* ACI0103167 4D NetKitの`OAuth2Provider`クラスに渡された`expires_in`を過ぎた場合，`refresh_token`を使用してトークンを更新する代わりにブラウザを起動して新しい`access_token`を取得するところから認証プロセスが再開されました。

* ACI0103155 Windows版バイナリモードのみ。OEM版のサーバーアプリケーションが起動できませんでした。ACI0102692と似ていますが，バイナリモードでなければ問題ありません。

* ACI0103146 Windows版のみ。高解像度モードでタブコントロールにアイコンが表示されている場合，当たり判定が正しくありませんでした。

* ACI0103138 19r4で作成したモバイルプロジェクトを19r6に変換した場合，アプリケーション生成時に「コレクションのインデックスが範囲外」エラーが返されました。

* ACI0103134 トリガの対象テーブルに`Text`という名前のフィールドが存在する場合，`var`構文で宣言したテキスト型変数のタイプ名（`Text`）がフィールドの参照（`[Table_1]Text`）に置換され，シンタックスエラーになりました。

* ACI0102928 クライアント/サーバー版のみ。インスタンス化したクラスオブジェクトをフィールドに保存した後，データストアから取り出して計算属性を評価した場合，ランゲージの実行コンテキストが不足しているというエラーが返されました。

* ACI0103145 `dataCollection.json`の送信先ポート番号が間違っていました。`443`と`7443`ではなく`2489`に設定されていました。

* ACI0103149 Write Proの参照表示モードでページに収まらない分量のデータソースをテーブルに表示しようとした場合，データが正しく分割されませんでした。会ページする代わりにマージンを超えてフッター上に内容が表示されました。
 
* ACI0103061 互換性のデータベース設定「ピリオドとカンマをプレースホルダーとして使用する」が無効にされており，`##.##.####`のような数値フォーマットがテキスト型の入力エリアに設定されていた場合，１番目のピリオド（桁区切り）はカンマ，２番目のピリオド（小数点）はピリオドで置換されました。数値フォーマットは数値型にだけ適用されるべきです。
 
* ACI0103140 `entitySelection.orderBy()`に渡したオブジェクト型フィールドの属性パスがいずれもヒットしなかった場合，他の条件（たとえばテキスト型フィールド）が無視され，エンティティセレクションがソートされませんでした。

* ACI0103124 Mac版のみ。リストフォームの行間に余分な罫線が描画されることがありました。ACI0102801が修正されたことによる副作用のようです。

* ACI0102833 Windows版のみ。パス名が`188`文字を超えるフォルダーを`ZIP Create archive`で圧縮した場合，コマンドは成功しますが，フォルダー内のファイルがアーカイブに含まれませんでした。LTS版では問題ありません。 

* ACI0103017 `dataClass.query()`で`null`を比較条件にインデックスが設定されていないフィールドを検索した場合，正しい結果が返されませんでした。

* ACI0103125 クラス関数の中で累算代入演算子と空の文字列（`+=""`）を使用した場合，アプリケーションがクラッシュしました。

* ACI0103127 Windowsクライアント/サーバー版のみ。IPv6アドレスでサーバーに接続することができませんでした。
 
* ACI0103075 Write Proエリアがフォーカスされていない状態でインポート＆エクスポートツールをクリックした場合，4D Write Proドキュメントに対するポインターが`Nil`であるというエラーが表示されました。ボタンがフォーカス可に設定されていないようです。

* ACI0103065 Mac版のみ。ヘルプTipsに日本語の文字列が含まれる場合，余計な空行が表示されました。

* ACI0101100 英語版のみ。インポート画面で「テーブル作成」オプションを有効にして大量のデータを読み込もうとした場合，表示される進捗ダイアログにスペルミスがありました。"Converting to Text"の代わりに"Concerting toText"というメッセージが表示されました。

* ACI0103095 Mac版のみ。19r6でコンパイルしたApple Siliconターゲットのコンポーネントを19r5で開こうとした場合，アプリケーションがクラッシュしました。

**注記**: 問題は修正されましたが，19r6でコンパイルしたApple Siliconターゲットのコンポーネントを19r5で使用することはできません。また，19r5以前にコンパイルしたApple Siliconターゲットのコンポーネントを19r6で使用することもできません。これは仕様です。

* ACI0102888 Windows版のみ。詳細フォーム上のオブジェクトをダブルクリックしてリストフォームに遷移した場合，ウィンドウが完全にリドローされず，詳細フォーム上にリストフォームが描画されることがありました。

* ACI0102839 Mac版のみ。ボタンにリンクされたポップアップメニューの *On Alternative Click* イベントで`Dynamic pop up menu`を使用した場合，デフォルトで選択される項目のパラメーターが無視されました。分離されたポップアップメニューであれば問題ありません。

**注記**: 項目は選択されていたのですが，Macではマウスポイントの下にある項目にシステムハイライトカラーが適用されることが問題でした。

* ACI0103090 `COMBINE PICTURES`で合成したピクチャを`SVG_New_embedded_image`コマンドでSVGに挿入することができませんでした。第６パラメーターに *.png* などのコーデックを指定すれば問題ありません。 
 
* ACI0103114 メソッドエディター上でフォームを選択して，メニューまたはキーボードショートカットでフォームエディターにジャンプすることができませんでした。ACI0102855が修正されたことによる副作用のようです。

* ACI0103104 フランス語版のみ。View Proエリアのローカライズに問題がありました。SpreadJS v15で追加された Mise en page タブに表示される一部の用語が不自然でした。

* ACI0102933 コレクション型リストボックスのデータタイプがブール型に設定されていた場合，未定義または`Null`のセルにはチェックボックスが表示されず，そのようなセルをクリックすると，ブール値の代わりに文字列の *true* または *false* がプロパティに代入されました。

**注記**: 修正により，チェックボックスが表示され，データソースのプロパティにブール値が代入されるようになりました。ブール型だけでなく，データタイプ全般（文字列・テキスト・数値・時間・ピクチャ）の処理が見直されました。

* ACI0103112 Windows版のみ。高解像度モードでウィンドウを表示し，ダイアログコマンドを使用する前に`MAXIMIZE WINDOW`を実行した場合，ウィンドウが正しく最大化されませんでした。

* ACI0103057 4D Go Mobileの未完了アクション画面からにパーセンテージまたは整数またはバーコード型のフィールドを更新することができませんでした。

* ACI0102957 ユーザー設定が有効にされている場合，コンパイルが実行できないことがありました。ユーザー設定ファイル *settings.4DSettings* を削除すれば，コンパイルができるようになります。「メソッドをUnicodeで保存する」「オブジェクト記法を有効にする」はいずれもストラクチャレベルの設定であり，ユーザー設定ファイルには影響されないはずです。

* ACI0102587 Mac版のみ。Apple Siliconマシンでは，システムスリープを解除した後，アプリケーションが無反応になることがありました。
 
* ACI0103103 4D Go Mobileのアクションに特定のフィールドをリンクしなかった場合，テキスト型の入力コントロール以外を設定することができませんでした。

* ACI0103070 Write Proドキュメントのセクション`2`がセクション`1`に統合されることがありました。

* ACI0103057 4D Go Mobileの未完了アクション画面からにパーセンテージまたは整数またはバーコード型のフィールドを更新することができませんでした。

* ACI0102999 `4D.WebServer`オブジェクトの *certificateFolder* プロパティを使用して証明書フォルダーの場所を設定した場合，`HTTP CERTIFICATES FOLDER`の設定が上書きされました。

* ACI0103058 4D Go Mobileのアクションからエラーオブジェクトが返された場合，モバイルアプリの未完了アクションのリストにエラーメッセージが表示されませんでした。

* ACI0102967 接続中のクライアントと同じマシンから別のクライアントでサーバーに接続した場合，既存のクライアント接続が切断されました。

* ACI0102851 Mac版のみ。ツールバースタイルのボタンのタイトル位置をアイコンの左に設定し，リンクされたポップアップメニューをボタンに設定にした場合，アイコン画像が半分しか表示されませんでした。また，ポップアップメニューの存在を示す三角形のマークが表示されませんでした。Write Proインターフェースにそのようなボタンが使用されています。

* ACI0103096 `SMTP Transporter`で送信した*Quoted-Printable*エンコーディングのメール本文は`76`文字で改行していないため，一部のセキュリティソフトでスパンメール扱いになりました。

**注記**: [RFC 5522](https://datatracker.ietf.org/doc/html/rfc5322#section-2.1.1)ではメールの`1`行は`998`文字を超えてはならず（MUST），改行コードを含めて`78`文字以内に改行することが勧められています（SHOULD）。しかしながら[RFC 1341](https://www.w3.org/Protocols/rfc1341/5_Content-Transfer-Encoding.html)では`76`文字を超えてはならない，となっているので，修正により，*Quote-Printable*エンコーディングについては`76`文字で改行するようになりました。

* ACI0103084 プロジェクトモードのみ。サブフォームでは入力不可のブール型フィールドが入力可のチェックボックスとして表示されえました。
 
* ACI0103068 Mac版のみ。タブコントロールをクリックした場合，ボタンをリリースするまで，フォーカスされたテキスト入力エリアのフォーカスが失われました。

* ACI0103091 特定のメールサーバーで`IMAP Transporter`の`move()`関数が「IMAP MOVE command not supported by server」というエラーを返しました。OutlookやThunderbirdでは問題がないので，サーバーの問題ではないはずです。

* ACI0103079 Windows版のみ。スクリーンの解像度が`125%`または`150%`に設定されている場合，ピクチャオブジェクトの下に`1px`の白い隙間が発生しました。

**注記**: 隙間の問題は修正されましたが，半端な倍率にDPIを設定した場合，ベベルボタンの背景画像が割り切れずにフレームの最初のラインが表示されるのは仕方がありません。画像の周囲に`1px`から`2px`の余白を設けるなど，デザインを見直す必要があります。

* ACI0103071 Mac版のみ。キーを長押しして拡張文字を入力することができませんでした。

**注記**: コンボボックス・ストラクチャエディター・Write Pro・View Pro・リストボックス・テキスト入力エリア・プロパティリストが修正されました。システム環境設定で長押しによるアクセント記号の入力画面が有効にされている場合，連続入力（`ApplePressAndHoldEnabled`）よりもアクセント記号の入力画面のほうが優先されるようになりました。ただし，日本語などのフロントエンドプロセッサ（IME）を使用しているときは，長押しのアクセント記号の入力画面は表示されず，連続入力のほうが優先されます。システム環境設定でアクセント記号の入力画面が無効にされている場合，長押しは常に連続入力として処理されます。

* ACI0102722 Write Proドキュメントのヘッダーやフッターにカーソルが表示されている場合，参照の表示と非表示を切り替えるたびにカーソルの位置が移動しました。本文にカーソルが表示されている場合は問題ありません。

* ACI0102528 `wk text color`属性でハイパーリンクのテキストカラーを変更することができないことがありました。

* ACI0102284 Write Proドキュメントのブックマークのレンジテキストに`¶`が含まれている場合，`WP GET TEXT`から返されるテキストにすべての`¶`が含まれないことがありました。キーボード操作で選択した範囲は改行コードがひとつ足りないためです。`WP SELECT`でレンジを選択すれば問題ありません。
 
* ACI0102722 Write Proドキュメントのヘッダーやフッターにカーソルが表示されている場合，参照の表示と非表示を切り替えるたびにカーソルの位置が移動しました。本文にカーソルが表示されている場合は問題ありません。

* ACI0102528 `wk text color`属性でハイパーリンクのテキストカラーを変更することができないことがありました。

* ACI0102284 Write Proドキュメントのブックマークのレンジテキストに`¶`が含まれている場合，`WP GET TEXT`から返されるテキストにすべての`¶`が含まれないことがありました。キーボード操作で選択した範囲は改行コードがひとつ足りないためです。`WP SELECT`でレンジを選択すれば問題ありません。

* ACI0103087 プロジェクトモードのみ。ドロップダウンメニューのデータソースにオブジェクト型を使用した場合，カレント項目を再選択したときは`currentValue`が更新されませんでした。項目が変わったわけではないのは事実ですが，オブジェクトの初期値は`currentValue`が明示的に定義されているとは限らないので，やはりプロパティは更新されるべきです。

* ACI0103045 Write ProドキュメントをMIME形式でエクスポートした場合，添付したインライン画像がAppleのメールクライアントに繰り返し表示されました。`Content-Disposition`が`multipart/related`に設定されていないためです。

* ACI0103083 4D Go Mobileのコレクションビュー型テンプレート（リストフォーム）に表示されたレコードを長押しした場合，アプリケーションがクラッシュしました。

* ACI0103056 アクションの整数型パラメーターに最小値と最大値を設定し，サーバーに接続できない状態で更新した場合，そのアクションはペンディングになりますが，設定画面でこのペンディングアクションを編集すれば，最小値や最大値に関係なく値を更新することができました。プロジェクトエディターで設定した制約はペンディングアクションにも適用されるべきです。

* ACI0102324 `OBJECT SET STYLE SHEET`でパスワードフォントを解除することができませんでした。

**注記**: [ドキュメント](https://doc.4d.com/4Dv19/4D/19.1/OBJECT-SET-STYLE-SHEET.301-5653487.ja.html)に明記されているように，`OBJECT SET FONT`や`OBJECT SET FONT SIZE`を使用すればオブジェクトのスタイルシートは自動的に解除されるように修正されました。また，空の文字列を渡した場合も自動的に解除されるようになりました。

* ACI0103012 Mac版のみ。macOS 12 Montereyでは，Retinaディスプレイにタブコントロールが小さく表示されました，また，アイコンがぼやけて表示されました。
 
* ACI0102317 クラスストアのクラス名`4D.ProgessIndicator`のスペルが間違っていました。

* ACI0103021 バイナリモードのみ。データベースメソッドに対して`METHOD SET COMMENTS`を使用した場合，シンタックスエラーが返されました。

* ACI0102871 `4DF`ファイルに保存したクエリ条件をロードした場合，日付型の値が`00.00.00`にセットされました。
 
* ACI0103069 参照表示モードでWrite Proドキュメントのテーブルに行を追加した場合，追加した行が表示されませんでした。値表示に切り替えると行が表示されます。

* ACI0103063 View Proエリアのチェコ語ローカライズファイルが最新ではありませんでした。

* ACI0102986 4D Go Mobileのアクションパラメーター名を表示するリスト画面がダークモードに対応していませんでした。

* ACI0102912 4D Go Mobileの更新アクションでピクチャ型フィールドを更新しなかった場合，データがサーバーに送信されませんでした。

* ACI0102393 Windows版のみ。サーバー管理画面のプロセス検索バーの虫眼鏡アイコンがテキストの上に表示されました。
 
* ACI0102979 リモートデバッガーに表示されたエンティティセレクションを展開したエンティティの属性を閲覧することができませんでした。
 
* ACI0103041 `SCREEN COORDINATES`から返されるワークエリアの始点が論理座標ではなくスクリーンの解像度に応じた絶対値で返されました。

* ACI0103031 4D Go Mobileで１対Ｎリレーション属性を公開した場合，フォームセクションの詳細フォームにフィールド名がエラーとして表示されました。

* ACI0103042 4D Go MobileでＮ対１リレーション属性を公開した場合，フォームセクションの詳細フォームにフィールド名がエラーとして表示されました。
 
* ACI0103024 名称にアンダースコア記号が含まれているテーブルを公開した場合，4D Go Mobileのデータセクションにエクスポートされたデータのサイズが表示されませんでした。

* ACI0102993 空のフォルダーを圧縮した.zipファイルを`ZIP Read archive`で開いた場合，`zip.root.folders`に空のルートフォルダーが返されませんでした。
 
* ACI0103082 LinuxのApacheをリバースプロキシとして使用した場合，Webサーバーがステータスコード`400`を返すことがありました（HTTP/1.1 requests must include Host header）。ACI0100450が修正されたことによる副作用のようです。

* ACI0102065 `VP SET PRINT INFO`でView Proスプレッドシートの印刷設定を更新した後に`VP Print`を実行した場合，空のページが印刷されました。
 
* ACI0102878 フランス語版のみ。4D Go Mobileの認証メソッドをフランス語版で記述した場合，`Si` `Sinon` `Fin de si`といった制御フローが認識されませんでした。

* ACI0102910 コマンドラインインタフェースの`--version`または`--help`を4D Serverに渡した場合，アプリケーションがクラッシュしました。

* ACI0102935 コンポーネント内で`EXECUTE FORMULA`を使用してテーブルに対するポインターを評価した場合，シンタックスエラー（フィールドまたは変数またはテーブルが必要です）が返されました。

* ACI0102954 Mac版のみ。ODBC Proプラグインを使用した場合，アプリケーションがクラッシュすることがありました。

* ACI0102937 Mac版のみ。タブコントロールの幅が限られているときは，タブの代わりにポップアップメニューが表示されますが，そのようなポップアップメニューをクリックした場合，項目のアイコンが表示されませんでした。

* ACI0101904 プロジェクトモードのみ。コンボボックスのドラッグ＆ドロップイベントがサポートされていませんでした。

* ACI0102868 View Proスプレッドシートの通貨フォーマットリストにユーロ記号`€`が含まれていませんでした。

* ACI0103062 4D Go MobileでiOSアプリをデバイスにインストールすることができませんでした。エラーは表示されませんが，USB接続されたデバイスを確認すると，アプリがインストールされていません。

* ACI0100583 HTTPサーバーの停止と開始を繰り返した場合，TLSの証明書チェーンに同一の証明書が何度も追加されました。

* ACI0102834 Apple Siliconコンパイルモードのみ。「サーバー側で実行」メソッドで`Count parameters`を使用した場合，正しい数が返されませんでした。

* ACI0102831 *On Server Startup*データベースメソッドで`OPEN DATABASE`を使用した場合，管理画面を閉じるまで再起動がブロックされました。

* ACI0102985  4D Go Mobileのフォームにフィールドのアクションを追加した後，無効なフィールド名に設定を変更した場合，*defaultField*属性が設定から削除されませんでした。

* ACI0102984 4D Go Mobileのデフォルトフィールド名が正しくキャメルケースに変換されませんでした。

* ACI0102973 `Drag Window`を使用した場合，ウィンドウが即座に画面の外に移動しました。

* ACI0102972 プロジェクトモードのみ。バイナリモードからデータベースを変換した場合，*Designer*アクセスグループからユーザーが外されました。*Administrator*グループの設定だけが正しくエクスポートされます。

* ACI0102970 オブジェクト型をポップアップメニューのデータソースに使用することができませんでした。

* ACI0102968 プラグインSDKのエントリーポイント`EX_GET_FIELD`でBLOBフィールドの値を取得できませんでした。

* ACI0102988 フォームに配置されたテキスト入力オブジェクトのスクロール位置がテキストサイズに応じて冒頭・中間・末尾に設定されました。デフォルトのスクロール位置はテキストサイズとは無関係のはずです。

* ACI0102987 4D Go Mobileのフォームにパラメーターを設定せずにアクションを追加した後，有効なフィールド名に設定を変更した場合，*defaultField*属性が設定に追加されませんでした。

* ACI0103011 ユーザー名に空の文字列を指定した場合，SMTPのOAuth 2.0トークン認証は失敗しますが， トランスポーターの`checkConnection()`が`True`を返しました。

* ACI0103008 Windows版のみ。２台のモニターをコンピューターに接続し，メインモニターの解像度を`125%`に設定した場合，`SCREEN COORDINATES`から返される値が正しくありませんでした。解像度が変更されていないほうのモニターは正しい値が返されます。

* ACI0103005 MacでコンパイルしたアプリケーションをWindowsでインポートすればでApple Silicon対応のクライアント/サーバー版アプリケーションがビルドできるはずですが，ビルドプロジェクトの`PackProject`キーを使用して.4DZファイルの代わりに*Compiled Database*フォルダーをビルドした場合，「正しい.4DZフォルダーではない」というエラーが表示されました。.4DZの代わりに*Compiled Database*フォルダーを組み込んでも問題がないはずです。

* ACI0103004 *On Load*イベントで`FORM SET INPUT`を実行した場合，リストボックスをダブルクリックしたときに使用される入力フォームが変更されないことがありました。

* ACI0102997 クライアント/サーバー版のみ。`Selection to JSON`の速度に問題がありました。また以前のバージョンと比較してCPUを多く消費しました。外部ストレージにSSDではなくHDDを使用している場合に違いが顕著です。

* ACI0102996 `SMTP New Transporter`で送信したメールが途中で途切れることがありました。

* ACI0102828 フランス語版のみ。View Proエリアのユーザーインタフェースにローカライズされていない箇所がありました。

* ACI0102827 テーブル番号に欠番が存在する場合，ストラクチャエディターの検索ツールが正しく動作しませんでした。

* ACI0102826 クエリ条件を`.4DF`ファイルに保存した場合，日付型の値が`!00-00-00!`になりました。

* ACI0102825 Webサーバーの「セッションなし」オプションが外部ファイルのユーザー設定に保存されませんでした。v19にアップグレードしたプロジェクトで問題が再現します。v19で作成したプロジェクトでは問題ありません。一旦「旧式セッション管理」などの新しいオプションを選択し，設定を保存した後であれば，問題ありません。

* ACI0102822 入力不可フィールドに表示フォーマットが設定されている場合，値が完全に表示されないことがありました。ACI0102747が修正されたことによる副作用のようです。

* ACI0102814 Mac版のみ。ビルドプロジェクトファイルの`CommonCopyright`を設定して`BUILD APPLICATION`を実行した場合，アプリケーションがクラッシュしました。

* ACI0102813 XML要素の値に`Char(29)`のような制御文字が含まれている場合，`DOM EXPORT TO VAR`または`DOM EXPORT TO FILE`を実行するとアプリケーションがクラッシュしました。

* ACI0102811 Windows版のみ。リストフォームを`BRING TO FRONT`で最前面に移動した場合，他のウィンドウに隠れていた部分が完全に再描画されませんでした。

* ACI0102803 プロジェクトモードのみ。ユーザーIDの欠番がある場合，プロジェクトを開き直すと*directory.json*ファイル内のユーザーやグループの順序が入れ替わりました。

* ACI0102802 IMAPトランスポーターを使用してdovecotメールサーバーからメールを受信しようとした場合，アプリケーションがフリーズすることがありました。GmailやExchangeサーバーでは問題ありません。

* ACI0102801 Mac版のみ。4Kまたは5KのRetinaディスプレイにフォームを表示した場合，線。四角形・円などのオブジェクトが正しく表示されませんでした。図形とはずれた位置に外縁が描画されました。

* ACI0102791 データベース設定のタブをクライアント/サーバーからバックアップに切り替えた場合，OKボタンが有効になりました。設定を変更したわけではないので，保存するものは何もないはずです。

* ACI0102789 フォームエディターの実行ボタンをクリックした場合，フォームがアプリケーションプロセスで実行されるため，プロセス変数が使用されているフォームオブジェクトのプロパティがリセットされませんでした。

* ACI0102787 *On Server Startup*でメソッドを実行し，そのままサーバー側でダイアログを表示するなどして*On Server Startup*イベントを完了させないままアプリケーションを運用した場合，ストアドプロシージャーのコンテキストで`Current user`が空の文字列を返しました。*On Server Startup*イベントを終了すれば問題ありません。

* ACI0102783 ストラクチャ設定でカスタマイズしたキーボードショートカットがユーザー設定に継承されませんでした。

* ACI0102768 Mac版のみ。macOS 10.14.6 Mojaveで起動した場合，アプリケーションがクラッシュしました。

* ACI0102754 macOS 12 Montereyのみ。ボタンタイトルにハイフン記号（U+002D, `-`）を単独で使用した場合，非アクティブ時にはハイフンが通常よりも長くなり，垂直揃えの位置も変化しました。U+2212であれば問題ありません。

* ACI0102731 バイナリモードのみ。クライアント側で`FORM LOAD`を使用し，空のフォームをロードした場合，終了時にアプリケーションがクラッシュしました。

* ACI0102675 メール本文がUTF-7エンコードされている場合，オングストロームなど文字が`MAIL Convert from MIME`で正しく変換されませんでした。

* ACI0102573 バイナリモードのみ。インタープリターモードではREST公開したメソッドをサーバー側でデバッガーすることができませんでした。また，コンパイルモードではREST公開したメソッドをサーバー側のコオペラティブプロセスで実行できませんでした。

* ACI0102521 コンパイルモードのみ。`SET DATABASE PARAMETER`でデバッグログ（`Debug log recording`）を実行した場合，メソッドのパラメーターが正しく記録されませんでした。

* ACI0102489 Mac版のみ。タブコントロールのアイコンが正しく表示されませんでした。右側のタブほど左に位置がずれて表示されます。

* ACI0102434 コンパイル実行中にアプリケーションを終了した場合，クラッシュすることがありました。

* ACI0102194 `VP SET PRINT INFO`で用紙サイズを文字列で指定した場合，`VP Get print info`から返されるオブジェクトの`paperSize.kind`プロパティが正しくありませんでした。用紙サイズの名称ではなく，SpreadJSの定数値が返されました。

* ACI0102193 View Proスプレッドシートの`printInfo.paperSize.kind`を`a4`のように小文字で指定する必要がありました。

* ACI0102143 `Get process activity`または`OB Get`（テキスト型のプロパティを参照した場合）を実行するたびにメモリーリークが発生しました。

* ACI0101694 4D Write Pro Interfaceコンポーネントのメソッド`WP ShowTabPages`を使用した場合，タブは正しいものが表示されますが，ページの割り当てが正しくありませんでした。つまり，タブをクリックしたときに表示されるページが間違っていました。

* ACI0101068 4D View Proスプレッドシートのセルを``delete``キーで直接クリアした場合，``designer.actions.isFileModified``が``true``になりませんでした。セルを編集状態にして値を削除すれば問題ありません。

* ACI0102522 フランス語版のみ。ランゲージをフランス設定に変更した場合，`fk logs folder`が`kf dossier fichiers d'historique`に変換されますが，定数がメソッドエディターに認識されず，エラーが表示されました。アポストロフィが原因のようです。

* ACI0103003 `Compile project`から返される変数タイプの定数が間違っていました。ポインター型`40`・ピクチャ型`10`・テキスト型`33`のタイプがランゲージの定数と違います。ポインター型`23`・ピクチャ型`3`・テキスト型`2`が返されるべきです。

* ACI0103044 4D Go Mobileでパーセンテージ形式のフォーマットが設定された整数フィールドに対して編集アクションを実行した場合，アプリがクラッシュしました。

* ACI0102867 Windows版のみ。モニターの解像度が`100%`に設定された状態でフォームを表示し，アプリケーションを終了した後，モニターの解像度を`125%`に変更して再表示した場合，スタティックピクチャが正しい位置に表示されませんでした。モニターの解像度が`100%` `200%` `300%`など`100`の倍数であれば問題ありません。また4Dの高DPI対応を無効にすれば問題ありません。

* ACI0102767 バックグランドプロセスでリストボックスに対して`GOTO OBJECT`を使用した場合，前面プロセスのオブジェクトがフォーカスを失いました。

* ACI0103029 診断ログにデバッグレベルで出力されるべき情報が警告レベルで出力されました。

* ACI0102857 View Proスプレッドシートの`printInfo.paperSize.kind`が`A4`のように文字列ではなく`9`のように数値で返されました。

* ACI0102856 Mac版のみ。コンボボックスの水平揃えを「右揃え」に設定した場合，クリックしたときに表示される項目の右端の文字が完全に表示されませんでした。スクロールバーの有無やオブジェクトの幅とテキストの長さが関係しています。Catalina/Big SurとMontereyでは現象が少し違います。

* ACI0102855 `Split string`の区切り文字に`Char(1)`から`Char(31)`を使用した場合，アプリケーションがクラッシュしました。

* ACI0102852 プロジェクトモードのみ。リストボックスの行フォントカラー配列にプロジェクトメソッドが設定されている場合，シンタックスチェックまたはコンパイルを実行するとアプリケーションがクラッシュしました。

* ACI0102847 フォームメソッドで`SystemWorker.wait()`を実行した場合，システムワーカーからのメッセージが返されませんでした。

* ACI0102846 Windows版のみ。高解像度ディスプレイで19r5のMIDIウィンドウのサイズと位置を変更した後，19r4または19.xでプロジェクトを開いた場合，ウィンドウの位置とサイズが正しく再現されませんでした。

* ACI0102842 `VP SET CELL STYLE`でセルの`backColor`を設定した場合，指定したレンジだけでなく，周囲のレンジにも背景色が適用されることがありました。

* ACI0102838 Windows版のみ。DirectWriteレンダリングを有効にした場合，バイナリモードで自動的に生成されたリストフォームのフィールドがオブジェクトの境界を超えて表示されました。

* ACI0102837 `ZIP Read archive`でUTF-8エンコーディングのパス名が正しく展開されませんでした。

* ACI0102836 ビルド版アプリケーションを起動し，初回にデータファイルの場所を指定した場合，`lastDataPath.xml`が更新されず，次回もデータファイルの場所を指定するよう求められました。ビルド`277038`よりも前のバージョンでは問題ありません。

* ACI0103023 `#DECLARE`構文やクラスのメンバー関数の宣言で重複するパラメーターや戻り値を使用した場合，シンタックスチェックで警告が表示されるものの，コンパイルには成功しました。コンパイルエラーが返されるべきです。

* ACI0103016 Windows版のみ。Windows 2012 R2では，ドロップダウンメニューの隣にある矢印がオブジェクトよりも低い位置に表示されました。

* ACI0103038 `MAIL Convert from MIME`で変換したメールの添付ファイル名にMIMEヘッダーの文字列が追加されることがありました。

* ACI0102922 Write Proエリアのフォーミュラエディターにプロジェクトメソッドを入力した場合，ドキュメントに数式の評価値が表示されませんでした。

**注記**: ベータ版では`ST INSERT EXPRESSION`の代わりに`WP Insert formula`が使用されていました。コマンドの改良と検証が間に合わないため，リリース版では`ST INSERT EXPRESSION`が使用されることになりました。

* ACI0102908 コンパイルモードのみ。`collection.map()`や`collection.find()`のようなファンクションで実行したメソッドのポインター型で宣言されているパラメーターに`Null`を渡した場合，シンタックスエラー`#54`が返されました。

* ACI0102907 プロジェクトモードのみ。ピクチャ型の変数が設定されたリストボックスのヘッダーに対して`OBJECT GET FORMAT`を使用した場合，空の文字列が返されました。

* ACI0102903 リストボックスのCSSクラスに`@media`を使用した場合，デザインモードではダーク/ライトモードに応じたプロパティが適用されますが，アプリケーションモードでは無視されました。

* ACI0102899 `VP Convert to picture`でレンジを指定した場合，背景が正しく変換されないことがありました。

* ACI0102897 バイナリモードのみ。コンパイル済みコードが存在するメソッドをクライアント側で変更して保存した場合，サーバーとの同期でメモリーリークが発生しました。

* ACI0102896 Windows版のみ。クライアント/サーバー接続に新ネットワークレイヤーを使用しており，TLSが有効にされている場合，4D Remoteから別の4D Remoteに対してSOAPリクエストを送信するとサーバーとの接続が切断されました。

* ACI0102887 プロジェクトモードのみ。CSSでオブジェクトのサイズを設定した場合，`OBJECT GET BEST SIZE`が正しい値を返さないことがありました。

* ACI0102884 `PHP Execute`でTCPソケットコマンドを実行し，ローカルアプリケーションのWebサーバーにアクセスした場合，アプリケーションがフリーズしました。

* ACI0102883 4D Go Mobileプロジェクトのアクションを編集しようとした場合，アプリケーションがクラッシュすることがありました。CoreDataで予約されているフィールド名（*description*）で問題が発生するようです。

* ACI0102875 4D Go Mobileの「ラベル＆アイコン」セクションにＮ対１リレーションで結ばれたデータクラスの計算属性のフィールド名が表示されませんでした。

* ACI0102874 View Proスプレットシートのコンテキストメニュー「セルの表示設定…」のダイアログに表示されないフォントがありました。リボンメニューと同じフォントが表示されるべきです。

* ACI0102870 Webサービス公開メソッドのパラメーターに日本語の変数名を使用した場合，SOAPエンベロープのデータ値が正しく変数に代入されませんでした。

* ACI0102864 入力フィルターが設定されている入力不可の日付型フィールドを表示中にコマンドで入力可に切り替えた場合，正しい日付が表示されませんでした。ナイトリービルドだけの問題です。

* ACI0102861 データファイルとインデックスファイルを圧縮した後，新規レコードを保存しようとしたタイミングでアプリケーションがクラッシュする場合がありました。プリエンプティブスレッド（Webプロセスなど）からスレッドアンセーフな（例：インタープロセス変数にアクセスしている）メソッドをコンパイルモードで呼び出そうとした場合，問題が発生するようです。

* ACI0102858 Mac版プロジェクトモードのみ。リストフォームの余剰行にチェックボックスやラジオボタンが表示されました。レコードのない行にフィールドが表示されるべきではありません。

* ACI0102948 診断ログの記録レベルがデフォルトで「デバッグ」モードに設定され，瑣末な情報が大量に記録されました。デフォルトは「情報」レベルに設定されるべきです。

* ACI0102943 Write Proドキュメントで表の最終行を削除した場合，最終行と一緒に直後のセクションブレークも削除されました。

* ACI0102942 レコードを削除した場合，削除したレコードが *__DeleteRecords* テーブルに追加されますが，エンティティセレクションを削除した場合，削除したエンティティセレクションが *__DeleteRecords* テーブルに追加されませんでした。

* ACI0102941 View ProエリアでエクスポートしたCSVファイルをView Proエリアにインポートすることができませんでした。

* ACI0102940 `MAIL New attachment`で作成したメールオブジェクトの添付ファイルをパラメーターとして別プロセスに渡すことができませんでした。

* ACI0102938 Windows版プロジェクトモードのみ。グループボックスの描画にDirectWriteが使用されませんでした。スタティックテキストとレンダリングが違います。

* ACI0102936 Windows版のみ。SDIモードで`MODIFY SELECTION`を実行し，入力フォームを閉じてリストフォームに戻った場合，フォームが完全に更新されず，入力フォームの一部が画面上に残されました。ウィンドウをリサイズしたり，画面をクリックしたりすれば，リストフォームが完全に描画されます。ACI0102751およびACI0102766が修正されたことによる副作用のようです。

* ACI0102934 バイナリモードのみ。クライアント側でツールボックスのリソース画面にファイルをドラッグ＆ドロップした場合，アプリケーションがハングしました。

* ACI0102931 MIMEのバウンダリー文字列に`"boundary Wed, 27 Apr 2022 08:46:59 +0200 boundary"`のような文字列が使用されていた場合，`MAIL Convert from MIME`で添付ファイルが抽出できませんでした。

* ACI0102929 `SVG_New_embedded_image`でSVGにSVGを挿入した場合，エクスポートしたピクチャがブラウザに表示されませんでした。`xlink:href`が`data:image/svg+xml;base64,`から始まっていないためです。

* ACI0102924 .DOCX形式でエクスポートしたWrite Proドキュメントのフッターマージンが正しくないことがありました。

* ACI0102923 SQLで`8001`バイト以上のデータをSybaseの画像フィールドに送信した場合，`255`バイトでデータが途切れました。ODBC Proプラグインでは問題ありません。

* ACI0102919 バックアップ実行中にクライアント接続が切断されることがありました。クライアントからバックアップを開始し，バックアップの完了に１時間以上を要する場合に問題が発生するようです。

* ACI0102913 4D Go Mobileの指数表記または文字列表記のフォーマッターが設定されたフィールドに値を入力して追加アクションを実行した場合，サーバーに値が送信されませんでした。

* ACI0102965 Windows版のみ。*On Load*イベントで入力順が設定されているテキスト入力オブジェクトのフォントを設定し，ポインター経由で値をセットした場合，入力エリアの内容が空になりました。`OBJECT SET FONT`でフォントを設定なければ問題ありません。

* ACI0102959 デバッガーが接続されていないサーバーで直接RESTリクエストを処理した場合，予備プロセスおよび10分後に消滅するRESTプロセスが作成されました。

* ACI0102955 プロジェクトモードのみ。個別のドロップダウンメニュー項目にフォントを設定することができませんでした。

**注記**: Mac版だけが修正されました。Windows版は，技術的な制約により，メニュー項目にフォントを設定することがサポートされていません。

* ACI0102953 コンポーネントの名前空間でエクスポートされたクラスを`#DECLARE`でパラメーターの型に指定した場合，コード補完の入力候補にオブジェクトのプロトタイプに応じたプロパティや関数が表示されませんでした。`var`キーワードで宣言した場合は問題ありません。

* ACI0102949 `LISTBOX SET PROPERTY`でリストボックスのプロパティを書き換えるたびにメモリーリークが発生しました。
