---
layout: fix
title: "4D v182 修正リスト"
date: 2020-01-18 08:00:00
categories: 修正リスト
tags: 18r2  
build: 246880
version: 18r2

---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}}  

* ACI0100017 Windows版のみ。コンピューターがオフラインの状態でブラウザにホスト名``localhost``を指定し，4DのWebサーバーにアクセスした場合，「一部のポート番号がすでに使用されています」というランタイムエラーが返されました。

* ACI0100016 Mac プロジェクトモードのみ。線幅が``1``または``0``の四角形オブジェクトに対して``OBJECT SET RGB COLORS``を実行した場合，上および右の罫線が表示されました。

* ACI0100013 4D ViewドキュメントをView Proに変換した場合，セル内のテキスト改行コードが失われました。

* ACI0100012 カスタムコンテキストメニューのアイテムから標準アクションの``spell/suggestion?index=``を実行することができませんでした。一度でも標準のコンテキストメニューからスペルチェックを実行すれば，問題ありません。ライブラリの初期化ができていないようです。

* ACI0100011 ``Open datastore``でリモートデータストアに接続した後，そのサーバーが停止した状態で``entity.save()``を実行した場合，エラーが返されませんでした。``entity.drop()``では問題ありません。

* ACI0100009 RESTサービスで公開中のデータストアのエンティティが``entity.lock()``でロックされた状態で，Webサーバーを再起動した場合，エンティティはアンロックされますが，アプリケーションがフリーズしました。

* ACI0100007 ボタンのクリックイベントでWrite Proドキュメントのアンカー画像に対して標準アクションの``mage/width?value=``を使用した場合，画像の選択が解除されてしまい，幅を変更することができませんでした。インライン画像であれば問題ありません。

* ACI0100003 RESTサービスで公開中のデータストアのエンティティが``entity.lock()``でロックされた状態で，``remoteDatastore.releaseSession()``を実行してセッションを閉じた場合，エンティティがアンロックされませんでした。

* ACI0100001 4D ViewドキュメントをView Proに変換した場合，数値フォーマットのカンマ（``,``）がピリオド（``.``）に置換されてしまいました。

* ACI0099986 Mac版のみ。テーブルリストが表示された状態でモバイルプロジェクトのファイル選択ダイアログを表示することができませんでした。

* ACI0099984 4D WriteドキュメントをWrite Proに変換した場合，表組が正確にコンバートされないことがありました。垂直ライン（タブ）のカラーがブラックからやホワイトになったり，段落テキストと罫線の距離が狭くなったり，水平ラインが消滅したりしました。

* ACI0099969 Mac 64ビット版のみ。``SET PRINT OPTION``で``Spooler document name option``を設定した場合，プリントダイアログの「PDFとして保存」または「Postscriptとして保存」のデフォルトファイル名には設定が反映されませんでした。

* ACI0099959 UTF-8エンコーディングのCSVファイルを「ファイルからデータを読み込み」メニューのインポートダイアログで読み込もうとした場合，アラビア文字が正しくプレビューエリアに表示されませんでした。

* ACI0099948 Write ProドキュメントをHTML形式でエクスポートした場合，空行の位置に直前のスタイル（例：アンダーライン）が適用された空白文字が表示されました。

* ACI0099941 ``C_VARIANT``型の変数を``Execute on server``に渡した場合，コンパイルエラーが返されました。

* ACI0099938 トランスポーターで送信したメールの添付PDFファイルがiOS版のメールアプリに表示されない場合がありました。画像とPDFの両方を添付した場合に問題があります。PDF単体では問題ありません。Androidデバイスでは問題ありません。

* ACI0099937 ``USE ENTITY SELECTION``でエンティティセレクションを作成した後，``DUPLICATE RECORD``と``SAVE RECORD``を実行した場合，カレントレコードではなく，複製したレコードがエンティティセレクションに追加されました。

* ACI0099932 Mac 64ビット版のみ。``SET FILE TO PASTEBOARD``で複数のファイルパスをペーストボードにセットすることができませんでした。

* ACI0099921 ``WP Get style sheets``から返されるコレクションに対して``collection.concat()``を実行した場合，Write Proドキュメントが破損しました。

* ACI0099917 Mac版のみ。シートウィンドウを表示した後に``Create document``などのコマンドでシステムダイアログを表示した場合，アプリケーションがフリーズすることがありました。

* ACI0099899 64ビット版のみ。古いバージョンのラベルエディターで作成したラベル定義ファイル（``.4LB``）が読み込めないことがありました。

* ACI0099896 プライマリーキーが設定されていないテーブル，あるいは複合プライマリーキーが設定されているテーブルは，標準的なプライマリーキーの設定されたテーブルとリレーションで結ばれている場合，データクラスおよびリレーション属性として``ds``オブジェクトに公開されました。``ds``オブジェクトに追加されるのは，ORDAで公開されたテーブルだけであるべきです。

* ACI0099884 ``EXPORT DATA``に渡されたプロジェクトがエクスポートに反映されませんでした。

* ACI0099882 64ビット版のみ。印刷したラベルのレイアウトが32ビット版と違いました。32ビット版では``3``列``14``行のラベル設定が，64ビット版では，同一のフォーム・ページ設定・プリント設定なのに``4``列``11``行になりました。

* ACI0099839 ``ST FREEZE EXPRESSIONS``を実行した場合，Write Proフッターに挿入されたページ数が「0ページ中の1ページ目」のように評価されました。

* ACI0099835 自動セッション管理が有効にされていない場合，``SET DATABASE PARAMETER``で最多または最少Webプロセス数を変更することができませんでした。

* ACI0099825 ``quoted-printable``モードでメールを送信した場合，メール本文の改行コードに``CRLF``ではなく``CR``が使用されました。

* ACI0099821 64ビット版のみ。``SMTP_SetPrefs``で改行コードの挿入モードを``1``（デフォルト値）に設定しても，メール本文の改行コードが``CR`` ``LF``に置換されませんでした。

* ACI0099812 4D WriteドキュメントをWrite Proに変換した場合，アンカー画像のフィールド参照が正しく表示されませんでした。新規Write Proドキュメントでは問題ありません。

* ACI0099782 フォームに組み込んだクイックレポートの出力先をコンテキストメニューで選択した場合，エラー``9850``が返されました。

* ACI0099739 Windows版のみ。ビルドしたスタンドアロンアプリケーションのクイックレポートエディターには，デフォルトのHTMLテンプレートがありませんでした。

* ACI0099633 Mac版のみ。フォームエディター上でオブジェクトをマウスのドラッグ操作で描画または移動している最中に``escape``キーを押した場合，アプリケーションがクラッシュしました。Windowsの場合，フォームエディターのウィンドウが閉じられました。期待されるのは，ドラッグ操作がキャンセルされることです。

* ACI0099595 ワードラップが有効に設定されている場合，テキストエリア・Write Proエリア・リストボックスの末尾にある空白文字の位置をクリックすると，次の行の冒頭にカーソルが表示されました。

* ACI0099530 ``For each``構文の第１パラメーターに``Null``が渡された場合に返されるエラー``314``に何の説明もありませんでした。

* ACI0099462 CEF版またはWindows版のWebエリアでGoogleのようなサイトにアクセスした場合，システム言語がイタリア語に設定されていても，ページがイタリア語で表示されませんでした。

* ACI0099304 ``headerCharset``をISO-2022-JPモードに設定した場合，添付ファイル名が正しくエンコードされませんでした。

* ACI0099302 ISO-2022-JPモードでエンコードできない文字が本文に含まれていた場合，自動的にUTF-8モードに昇格しませんでした。

* ACI0099301 ISO-2022-JPモードで長文のメールを送信した場合，本文に改行が挿入されておらず，メールのソースが正しく折り返されまていませんでした。

* ACI0099081 エンティティセレクションの無効なプロパティ名（存在しない属性名）にアクセスした場合，エラーにはならず，エンティティが返されました。``Null``が返され，``ON ERR CALL``でキャッチできるエラーが発生するべきです。

* ACI0098279 ODBCドライバーのインストーラーで表示されるライセンス表記が「4D v16」のままでした。

* ACI0097822 64ビット版のみ。ビルドしたアプリケーションを起動すると，一瞬，デザインモードのメニューバー（4D・ファイル・編集・実行・レコード・ツール・ウィンドウ・ヘルプ）が表示されました。

* ACI0097614　4D Serverのライセンス更新ダイアログに有効なライセンス番号をタイプ入力した場合，完全な番号を入力した後も警告アイコンが消えませんでした。

* ACI0097574 64ビット版のみ。リストボックスのヘッダーまたはフッターに設定したヘルプTipsが保存されませんでした。

* ACI0097403 64ビット版のみ。フォームエディターの「カスタムテンプレートをクリア」ダイアログをキャンセルまたは確定した場合，オブジェクト入力順の表示状態がリセットされました。

* ACI0096906 クライアント/サーバー通信が暗号化されている場合，スリープ解除時にセッションを再開することができませんでした。

* ACI0100054 角の丸い四角形が含まれるラベル定義ファイル（``.4lbp``）をラベルエディターで開こうとした場合，エラーが返されました。

* ACI0100051 「評価期間が終了しました」というメッセージがいつまでも表示されました。

* ACI0100049 4D View Proエリアで``control``+``Z``ショートカットが使用できませんでした。Mac版は，セルの編集中，Windows版は常に「取り消し」操作ができませんでした。

* ACI0100048 ストラクチャと同じ階層にデータファイルが存在しない場合，MSCの検査・圧縮・修復を実行した後，「ログファイルを開く」ボタンが表示されませんでした。

* ACI0100047 Mac版のみ。macOS 10.15 Catalinaの4Dまたは4D Serverをインストールする際，個別のアプリではなく，「4D v17.3」フォルダーをそのままマウントされたディスクイメージからドラッグ＆ドロップした場合，インストールしたアプリが起動後すぐにクラッシュしました。ブラウザを使用してダウンロードしたファイルでなければ，問題はありません。システムをCatalinaにアップデートする前にインストールされたアプリであれば，やはり問題はありません。

* ACI0100045 ``HTTP Request``また``HTTP Get``でGoogleのAPIをコールした場合，ステータスコードには``200``が返されますが，レスポンスは空でした。17r5では問題ありません。

* ACI0100043 4D ViewをView Proに変換した場合，時間型の値が登録されたセルが正しく表示されないことがありました。値は存在するのですが，フォーマットが反映されていないようです。

* ACI0100042 ビルド``242456``以降，``WP New``にBLOBを渡すことができませんでした。

* ACI0100040 プロジェクトモードのみ。ペーストボード画像をフォームエディターにペーストしても，スタティックピクチャが追加されませんでした。

* ACI0100039 リレーションの１フィールドがプライマリーキーではない場合，ORDAによるリレーション属性が正しくありませんでした。１フィールドではなく，プライマリーキーでリレーション属性が決まるため，エンティティのリンクが失われる恐れがありました。

* ACI0100032 Windows 64ビット版のみ。アプリケーションモードでウインドウ右上の「閉じる」ボタンをクリックしても，アプリケーションが修正しませんでした。終了メニュー，``control``+``Q``ショートカットであれば，終了することができます。

* ACI0100028 「デザインモード検索」でリストボックスの列を特定した後，フォームエディターにジャンプしてコンテキストメニューから列を削除した場合，指定した列の左隣にある列が削除されました。エクスプローラーからフォームにジャンプした場合は問題ありません。

* ACI0100026 View Proエリアのセル値を``VP SET TEXT VALUE``で変更した場合，値がフォーミュラバーに反映されませんでした。別のセルをクリックしてから対象のセルをクリックしたり，対象のセルをダブルクリックすると，値がアップデートされます。

* ACI0100086 プロジェクトモードのみ。コレクション型のリストボックスの「座標とサイズ」「行の高さ」プロパティが表示されませんでした。

* ACI0100083 ``Open datastore``で接続したリモートデータストアのエンティティを``entity.locked()``でロックした後，そのエンティティに``Null``を代入した場合，デッドロック状態に陥りました。

* ACI0100080 プロジェクトモードのみ。メソッドエディターのコードを編集したり，プロパティを変更したりするたびに改行コードが変化してしまうため，効率的にバージョン管理システム（差分の表示）が利用できませんでした。

* ACI0100076 コンポーネントメソッドからWebサービス（SOAP）リクエストを実行することができませんでした。

* ACI0100073 Windows版のみ。XPSがインストールされていない場合，クイックレポートで印刷プレビューを実行しようとすると，シンタックスエラーが返されました。

* ACI0100070 プロジェクトモードMac版のみ。高さ``20``のポップアップ/ドロップダウンメニューをバイナリモードで作成し，プロジェクトモードに変換した場合，フォームエディター上でオブジェクトが途切れて表示されました。

* ACI0100068 フォーミュラオブジェクトに渡されるべきパラメーターを省略した場合，エラーが返されました。

* ACI0100067 Mac版のみ。macOS 10.15 Catalinaで``Convert path POSIX to system``を実行し，フォルダー区切り文字（POSIXでは``/``）が重複するパスを変換した場合，返される文字列が正しくありませんでした。POSIXでは，重複するフォルダー区切り文字が統合されて１個になるはずですが，重複するフォルダー区切り文字（システムでは``:``）がそのまま返されました。

* ACI0100064 オブジェクトフィールドに対し，ORDAで``Null``をクエリした場合，正しい結果が返されませんでした。

* ACI0100061 プロジェクトモードのみ。フォームに追加したボタンオブジェクトの「レンダリングしない」プロパティがデフォルトで有効に設定されていました。

* ACI0100060 Windows版のみ。ODBCドライバーとMS Queryを使用し，4DからExcelにデータをインポートしようとした場合，名称にアンダースコアが含まれているテーブルにアクセスすることができませんでした。MS Excel version 14.0.xの32ビット版とODBC Driver v16.6 HF1であれば，問題ありません。MS Excel version 1808 (MS Office 365) の64ビット版とODBC Driver v16.6 HF1で問題が再現します。

* ACI0100057 ORDAの``IN``クエリにコレクションで渡された文字列の最後にワイルドカード（``@``）が使用されていた場合，正しい結果が返されませんでした。

* ACI0100056 Mac版のみ。macOS 10.15 Catalinaで``Convert path POSIX to system``を実行し，相対パス（例：``/foo/../bar/``）を変換した場合，ドット文字がそのまま含まれた文字列が返されました。以前のバージョンでも，無効なパスが渡された場合にはそのような文字列が返されましたが，Catalinaでは，どのような相対パスでもドット文字がそのまま返されるようになりました。

* ACI0100055 Windows版のみ。Default dataのメカニズムを使用している場合，``On Startup``の前にビルド版のサーバーアプリケーションがクラッシュする可能性がありました。

* ACI0100371 Mac版のみ。バーコードフォントをテキストに設定して表示した場合，テキストの末尾にスペース文字が追加され，バーコードが無効になりました。macOS 10.15 Catalinaでは問題ありません。

* ACI0100274 ``VP PRINT``を実行した場合，印刷ダイアログが表示されませんでした。CEF版Webエリアのバージョンが``77``にアップデートされたことが関係しているようです。

**注記**: CEFのバージョンは``79``にアップデートされました。

* ACI0100320 リストフォーム上のボタンオブジェクトに「確定」または「キャンセル」の標準アクションが設定されている場合，``OBJECT SET ENABLED``で無効にすることができませんでした。

* ACI0096479 Windows版のみ。タスクバーを画面の上部に表示している場合，すべての項目が画面に表示できないポップアップメニューのスクロールボタンを操作することができませんでした。タスクバーが画面の下部に表示されているのであれば，問題ありません。

* ACI0100389 ``SVG_ROTATION_CENTERED``コンポーネントメソッドを楕円オブジェクトに対して使用した場合，指定した座標を中心にオブジェクトが回転しませんでした。

* ACI0100343 ``HTTP Request``でリモートURLに対してPOSTメソッドを発行した場合，ステータスは``200``であっても，レスポンスが空になることがありました。

* ACI0100342 Mac プロジェクトモードのみ。サーバーでプロジェクトを開いた場合，アプリケーションがクラッシュすることがありました。

* ACI0100341 プロジェクトモードのみ。JSONフォームのテキスト入力オブジェクトの``dataSourceTypeHint``プロパティを``undefined``（プロパティリストの「なし」に相当）に設定した場合，``text``として扱われました。

* ACI0100340 Windows版のみ。``QR PRINT``で出力したXPSプレビューのマージンが正しくありませんでした。

* ACI0100337 ``QR PRINT``で印刷したドキュメントのマージンには，プリンターの印刷不可領域に相当するマージンが上下左右に追加されました。

* ACI0100330 ``BLOB TO VARIABLE``を``File``オブジェクトに対して使用することができませんでした。

* ACI0100328 データベースをプロジェクトモードに変換した場合，「入力不可・フォーカス不可・タブ有効」のオブジェクトが「入力不可・フォーカス**可**・タブ有効」に変換されました。

* ACI0100323 プロジェクトモードのみ。バイナリモードのコンポーネントがスタートアップ（``On host``）イベント中に``METHOD GET PATHS``でフォーム定義にアクセスした場合，アプリケーションがクラッシュしました。

* ACI0100318 4D ViewドキュメントをView Proに変換した場合，「Arial」フォントが「Arial, Arial」になりました。

* ACI0100303 プロジェクトモードのみ。Write Proエリアのウィジェット（右側）のタブを順番にクリックしてゆくと，「サイズ」タブでアプリケーションがクラッシュしました。
