---
layout: fix
title: "4D v18 修正リスト"
date: 2022-01-13 08:00:00
categories: 修正リスト
tags: "18.5"
build: 274954
version: "18.5"
permalink: /328/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0102576 リストボックスのヘッダーの画像ソースに値が設定されていない場合，ストラクチャをプロジェクトに変換すると，当該プロパティが存在しないリストボックスになりました。

* ACI0102575 バイナリモードの新規ストラクチャを作成した場合，リストボックスのヘッダーの画像ソース（変数名）がプロパティリストに表示されませんでした。

* ACI0102572 クライアント/サーバー版のみ。新規プロセスで`Create entity selection`を実行し，エンティティセレクションを作成した場合，メモリーリークが発生しました。

* ACI0102379 `IMAP_MsgLst`から返される件名のアクセント文字が間違っていることがありました。

* ACI0102553 Windows版のみ。リストボックスの自動行高が有効にされており，システムにインストールされていないフォントがセルに設定されている場合，行が完全に表示または印刷されずに途切れることがありました。
 
* ACI0102558 クライアント/サーバー版のみ。リレーション属性と一緒にエンティティセレクションを`entitySelection.toCollection()`でコレクションに変換した場合，クライアント接続が切断されるまでエンティティセレクションが解放されずにメモリーリークが発生しました。

* ACI0102197 クライアント/サーバー版のみ。ストアドプロシージャを起動したクライアントのネットワーク接続が強制的に切断された場合，ユーザー数とライセンス数の計算が合わなくなりました。クライアントがクラッシュしたり，ネットワーク接続が切断された場合には，クライアント接続ライセンスが解放されるべきです。
 
* ACI0102454 プリエンプティブプロセスでSQLコードを実行し，`FN`ステートメント経由でメソッドをコールした場合，サーバーがクラッシュしました。

* ACI0102534 クライアントが終了してもサーバー側のエンティティセレクションが解放されないことがありました。

* ACI0102418 [自動行高](https://doc.4d.com/4Dv19/4D/19/List-box-column-specific-properties.300-5416755.ja.html)に設定されたリストボックスを`Print object`で印刷した場合，最終行がページにまたがって出力されたり，途切れて出力されることがありました。問題が発生する条件は，用紙のマージン設定や印刷するリストボックスの内容に左右されます。

* ACI0102374 インタープリターモードのみ。配列型リストボックスの制御配列プロパティに倍長整数型の配列が使用されている場合，フォームのロード時に配列がブール型で再初期化されました。

**注記**: ブール型配列で行の表示/非表示だけを制御する古い仕様は，互換性のために引き続きサポートされています。修正により，フォームのロード時に制御配列プロパティの配列が宣言されていない場合，デフォルトで倍長整数型の配列が使用されるようになりました（修正前はブール型）。すでにブール型で宣言されている場合に限り，制御配列がブール型となります。今後，制御配列がプロパティリストに入力されているだけで，コードのどこでも宣言されていない場合，制御配列に対するブール値の代入はエラーとなります。

* ACI0102472 アップグレードしたデータベースの場合，一部のプロジェクトメソッドがWSDLで公開されないことがありました。

* ACI0102310 `HTTP Request`を続けて何度も実行した場合，`#17`（未実装の制御命令）エラーが返されることがありました。

* ACI0102468 Windows版のみ。固定サイズのフォームのタイトルバーを右クリックしてウィンドウを最大化した場合，一部のボタンが消えてしまうことがありました。

**注記**: 固定サイズのフォームが最大化できてしまうことが問題です。

* ACI0100938 クイックレポートのセルにフォーマットを設定した場合，セルだけでなく，ヘッダーにもフォーマットが適用されました。

* ACI0102447 コンポーネントで`RESOLVE POINTER`を使用した場合，プリエンプティブプロセスではホストの変数に対するポインターを逆参照することができませんでした。

* ACI0102397 リストボックスの「シングルクリック編集」モードが有効にされている場合，行をダブルクリックしてから下方にスクロールし，別の行をダブルクリックすると，間違った行がハイライト選択されました。最初のクリックでセルの編集モードに切り替わり，ダブルクリックで編集モードがキャンセルされるものの，最初のクリックでスクロールが発生するため，クリック目標が動いてしまうことが原因です。

* ACI0101929 クイックレポートエディターのクロスタブツールに問題がありました。セルを選択したときに表示される吹き出し（ポップアップウィンドウ）の位置が左に寄っていました。

* ACI0102479 数値の桁区切り記号にNarrow No-Break Space文字が使用されている場合，正しくフォーマットされた数字が表示されませんでした。
