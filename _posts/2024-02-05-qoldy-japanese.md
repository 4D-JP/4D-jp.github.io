---
layout: fix
title: "日本語のテーブル名やフィールド名"
date: 2024-02-04 08:00:00
categories: 仕様
tags: devcon24 qodly programming
---

#### 4D Developer Conference 2024・質疑応答より

> **Qodly for 4D**は日本語のテーブル名やフィールド名に対応していますか

Qodlyアプリケーションは，[REST API](https://developer.4d.com/docs/ja/REST/gettingStarted)を介して4Dと対話します。[データエクスプローラー](https://developer.4d.com/docs/ja/Admin/dataExplorer)は，Qodlyアプリケーションのプロトタイプとも呼べるものですが，テーブル名やフィールド名に日本語が使用されていても問題なく動作し，REST APIレベルでは対応していることが確認できます。

Qodlyアプリケーションでは，REST APIの呼び出しを制御する抽象化レイヤーである**データソース**が重要な役目を担います。データソース名とテーブル/フィールド名（データクラス/属性名）を一緒にする必要はありませんが，普通は両者の名前を揃えたいと思うはずです。そこでデータソース名に日本語が使用できるのか，という疑問が生じます。

*Qodly Studio* の画面上で日本語を入力しようとすると，エラーメッセージが表示される箇所があります。たとえば，Webフォーム名に日本語を使用すると，*The name must start with a letter*（先頭は文字でなければなりません）というメッセージが表示され，入力した値を確定することができません。同様に，データソース名に日本語を使用すると，*Only letters and numbers are allowed*（使用できるのは文字または数字です）というメッセージが表示され，やはり，確定することができません。*Qodly Studio* 側でフィルターによる入力制限がかけられているためです。

Webフォーム名はプロジェクトフォルダー内にある*.WebForm* ファイルの名前そのものなので，直接ファイル名を変更すれば，日本語にすることができます。データソース名は*.WebForm* ファイル（JSON形式）の中に列挙されているので，直接ファイルの内容を編集すれば，こちらも日本語で定義することができ，実際に動かしてみると，特に問題ないことが確認できます。

現在，*Qodly Studio* 側のフィルターによる入力制限を緩和することが検討されています。安全性が確認できれば，一部の箇所（特にデータソース名）は日本語が入力できるようになる予定です。Webフォーム名のようにファイル名と対応しているものについては，プラットフォーム間におけるUnicode実装の違いなどを考慮し，引き続きASCII文字に限定されるかもしれません。
