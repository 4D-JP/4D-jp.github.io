---
layout: fix
title: "4D v20 修正リスト"
date: 2023-04-22 08:00:00
categories: 修正リスト
tags: v20 
build: 100170
version: "20"
permalink: /2023/110/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0103846 QUICネットワークレイヤーのみ。サーバー管理画面にアプリケーションプロセスのタイプが「アプリケーションサーバー」と表示されました。「4Dクライアントプロセス」と表示されるべきです。タイプが違うため，プロセスのアボートやユーザーのウォッチができません。

* ACI0103800 サーバー管理画面に複数のアップデータープロセスが表示されることがありました。そのうち一方はアボートすることができません。

* ACI0103774 Write Proのテーブルでバリアント型を扱うことができませんでした。一旦，ピクチャ型を表示すると，その列にはテキストなどの値を表示することができませんでした。

* ACI0103862 デザインモードのツールバーまたはファイルメニューから新規プロジェクトを作成することができませんでした。

* ACI0103858 Windows版のみ。SDIモードで「ウィンドウの位置とサイズを保存」オプションを指定して`Open form window`を実行した場合，ウィンドウの位置とサイズが保存されませんでした。

* ACI0103857 クイックレポートの印刷プレビューができませんでした。

* ACI0103787 テキストを選択した状態で`FILTER KEYSTROKE("")`を実行した場合，選択したテキストが空の文字列で置換されることにより，消去されました。

* ACI0103716 コレクション型またはエンティティセレクション型のリストボックスでは，`control`+`Z` による入力の取り消しができませんでした。配列型のリストボックスであれば問題ありません。編集メニューの項目プロパティ「イベントを発生させない」を有効にするか，`SET MENU ITEM PROPERTY`で`"4D_execute_without_validating"`を`True`に設定すれば問題ありません。

* ACI0103850 Mac版のみ。3Dラジオボタンをプロジェクトに変換した場合，アプリケーションモードではボタンの代わりにラジオボタンが表示されました。

* ACI0103821 「プッシュボタン」スタイルの3Dチェックボックスまたは3Dラジオボタンをプロジェクトに変換した場合，ベベルボタンではなく，チェックボックスまたはラジオボタンが表示されました。

* ACI0103831 メソッドエディターでプロセス変数名およびインタープロセス変数名のタイプアヘッドが機能しませんでした。

* ACI0103732 `SET DATABASE PARAMETER`で *4D Remote mode timeout* を変更した場合，`WEB GET OPTION`で設定した *Web Client IP address to listen* がリセットされました。

**注記**: コマンドで待ち受けポート番号を変更した場合，新しい設定はメモリに置かれ，*settings.4DSettings* ファイルは更新されません。`SET DATABASE PARAMETER`で *settings.4DSettings* ファイルを更新した場合，リロードされたファイルでメモリ上の設定が上書きされてしまうことが問題でした。

* ACI0103825 サーバー終了時に多数のプロセスが遅延されていた場合，アプリケーションがすぐには終了しませんでした。遅延中のプロセスを強制的に終了するまでのタイムアウトが`3`秒ではなく`50`秒に設定されていたため，プロセスが強制的に終了させられるよりも早く"Task Pending"アラートが表示されました。

**注記**: 問題は修正されましたが，修正前のバージョンでも，何もしていないプロセスが終了を阻んでいるだけだったので，たとえ強制的にサーバーを終了してもデータファイルに破損が生じる恐れはありません。

* ACI0103804 クライアント/サーバー版のみ。サーバー管理画面が表示されている状態で`RESTART 4D`を実行し，管理画面の表示を切り替えた場合，サーバー管理画面を閉じるまでサーバーの再起動がブロックされました。

* ACI0103477 View Proスプレッドシートでテーマが設定されたテーブルをリサイズした場合，列のテーマが隣接する列に適用されました。

**注記**:  SpreadJS v16.0で問題が修正されました。

* ACI0103821 「プッシュボタン」スタイルの3Dチェックボックスまたは3Dラジオボタンをプロジェクトに変換した場合，ベベルボタンではなく，チェックボックスまたはラジオボタンが表示されました。

* ACI0103809 プロパティリストで入力不可に設定されているフィールドを`OBJECT SET ENTERABLE`で入力可に設定した場合，フィールドに関連付けられた選択リストのドロップダウンメニューが表示されませんでした。プロパティリストで入力可に設定されているフィールドを *On Load* イベントで入力不可に設定しておき，それを後から入力可に切り替えた場合は問題ありません。

* ACI0103827 新ネットワークレイヤーのみ。サーバーの管理画面で新規クライアント接続を拒否した場合，操作をする前から接続していたクライアントもサーバーと通信できなくなりました。

* ACI0103830 Windows版のみ。データベース設定で開始モードが「アプリケーション」に設定されており，標準アクションの「デザインモード」が関連づけられたメニューやオブジェクトが存在せず，SDIモードが有効にされている場合，デザインモードに移動する手段がなくなりました。SDIモードでは*Alt*+*Shfit*+右クリックを入力しても[プロセスメニュー](https://doc.4d.com/4Dv19/4D/19.6/Debugger.300-6269364.ja.html)が表示されないためです。

* ACI0103780 無効なSVGをフォームに表示しようとした場合，不明なエラー`1`が返されました。レンダリングできないSVG画像は代わりに×マークが表示されるべきです。たとえば`link:href`属性に無効なデータURIが記述されている場合に問題が生じました。
    
* ACI0102338 冒頭にブロックコメントが記述されている行で変数名またはメソッド名を名称変更した場合，冒頭のブロックコメントがコメント行に変わり，結果として行全体がコメント文になってしまいました。

* ACI0103820 クライアント/サーバー版のみ。元サイズが`0`ではない`4D.Blob`属性をサイズが`0`の`4D.Blob`で更新することができませんでした。

* ACI0103814 クライアント/サーバー版のみ。元サイズよりも小さなサイズの`4D.Blob`属性を`dk auto merge`モードで更新することができませんでした。

* ACI0103796 Mac版のみ。macOS Venturaでボタンタイトルに自動スタイルシート以外のフォントを指定した場合，タイトルが中央よりも少し上に表示されました。

* ACI0103147 クライアント/サーバー版のみ。クライアントの「サーバーに接続」画面にブラケット記号とポート番号を省略してIPv6アドレスを入力した場合，サーバーに接続することができませんでした。

* ACI0103758 リストボックスを垂直方向にリサイズした場合，*On Display Detail* イベントが過剰に発生しました。

* ACI0103725 リストボックスを垂直方向にリサイズした場合，出現した行で追加の*On Display Detail* イベントが発生せず，リストボックスが完全に再描画されませんでした。垂直スクロールバーを操作してリストボックスを再描画すれば，出現した行の内容が表示されます。

* ACI0103829 コンテキストメニューの「定義に移動…」でプロジェクトメソッドを開くことができなくなりました。メソッドメニューの「定義に移動…」は問題ありません。

* ACI0103554 サービス起動した4D Serverをタスクマネージャーで再起動できないことがありました。CEFをビルドから除外すれば問題ありません。

* ACI0101476 起動時に重複キーが検出された場合，アラートがサーバー管理画面の背後に表示されました。管データファイルのチェックが完了する前に理画面が表示されるためです。

* ACI0103848 配列型リストボックスのセルに関連づけられたポップアップ/ドロップダウンメニューの項目をキーボード操作で選択した場合，*On Data Change* イベントが発生しませんでした。

* ACI0103842 View Proスプレッドシートのピボットテーブルスライサーおよびタイムラインスライサーが正常に動作しませんでした。JavaScriptファイルをロードする順序が正しくないようです。

* ACI0103808 リストボックスに自動行高さ・垂直パディング・最大行数が設定されており，最大行数未満のセルが存在する場合，一部のセルは内容が途切れて表示されました。

* ACI0103798 [`collection.reduce()`](https://developer.4d.com/docs/ja/API/CollectionClass/)の判定を`$1.stop`で終了することができませんでした。

* ACI0103709 プロジェクトモードのみ。フォームエディターのプロパティリスト入力項目を *tab* キーで移動することができませんでした。
