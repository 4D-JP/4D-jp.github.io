---
layout: fix
title: "4D v19 修正リスト"
date: 2021-11-16 08:00:00
categories: 修正リスト
tags: "19.0"
build: 272963
version: 19.0
permalink: /285/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0102406 Windows版のみ。ボリュームシャドウコピーが有効にされているWindows Serverでファイルメニューの「最近使用したプロジェクトを開く」で別のプロジェクトに切り替えた場合，アプリケーションがクラッシュすることがありました。 VSSを管理しているスレッドでクラッシュが発生しています。Windows Server 2022で問題が発生します。以前のバージョンでは問題ないようです。

* ACI0102153 ストラクチャエディターでピクチャ型・オブジェクト型・BLOB型フィールドの保存オプションを「レコードの中」から「データファイルの中」に変更した場合，内部ストレージの最大サイズが`2147483647`になりました。`0`になるべきです。インスペクターを再表示すると`0`と表示されます。テキスト型では問題ありません。

* ACI0102391 *IMAP Transporter*の`getMIMEAsBlob`がなかなか結果を返さないことがありました。特定のメールサーバーで問題が発生します。Gmailアカウントでは問題ありません。ACI0102365とは別の問題です。

* ACI0102427　プロジェクトモードのみ。エクスプローラーのホームタブでクラスを複製することができませんでした。

* ACI0102392 `.5`のように整数部を省略して実数を`EXECUTE FORMULA`に渡した場合，シンタックスエラーが返されました。オブジェクト記法が無効であれば問題ありません。

* ACI0102382 クイックレポートエディターのヘッダーには`C1`のようなフォーミュラ名ではなく，列に設定されているフォーミュラ名が表示されました。

* ACI0102426 Mac版のみ。スタイル付きテキスト内のハイパーリンクや数式の表示がダークモードに対応していませんでした。

* ACI0102420 Windows 11のみ。階層ポップアップメニューの項目をハイライトした場合，テキストが上揃えになるような位置にハイライトが描画されました。

* ACI0102408 クライアント/サーバー版またはリモートデータストアの文字列フィールドに対して`dataClassAttribute.fieldType`をコール参照した場合，*Is Alpha field* ではなく *Is text* が返されました。

* ACI0102428 暗号化プロパティが有効にされているテーブルに暗号化されていないレコードが存在する場合，MSCのデータ圧縮を「レコードを強制更新」モードで実行するとエラーが返されました。標準の圧縮では問題ありません。

* ACI0102108 Windows版のみ。統合WebエリアにHTMLのドロップダウンメニューを表示した後，ウィンドウを移動し，HTMLのドロップダウンメニューを表示した場合，以前にウィンドウがあった位置にドロップダウンメニューが表示されました。ウィンドウを移動した後にウィンドウをクリックすれば，問題ありません。

* ACI0102310 `HTTP Request`を続けて何度も実行した場合，`#17`（未実装の制御命令）エラーが返されることがありました。

**注記**: エラーメッセージが修正されました。実際にはタイムアウトエラーが発生しています。`HTTP SET OPTION`で設定した秒数以内にレスポンスを読むことができなかった場合にエラーが返されます。

* ACI0100940 クイックレポートのセルにフォーマットが設定されているのに，リストでは「なし」が選択されていることがありました。

* ACI0102380 データ言語が日本語に設定されている場合，`Compare strings`を`sk strict`モードで使用すると，`sk case insensitive`を指定しなくても常に大文字と小文字が同等とみなされました。日本語版は，大文字と小文字が同等とみなさないのがデフォルトの動作です。

* ACI0102362 `OPEN RUNTIME EXPLORER`のヘルプTipsが表示されませんでした。

* ACI0101935 View Proスプレッドシートのセルにスタイルが設定されている場合，内容が空であってもセルがエクスポートされるため，SVGエクスポートの余白がおかしくなりました。
 
* ACI0102296 プロジェクトモードのみ。`QUERY BY EXAMPLE`でフォームを表示した場合，フィールドに値を入力することができませんでした。

* ACI0102381 Windows版のみ。`Print Form`で印刷したフォーム上のテキスト入力オブジェクトに対し，`OBJECT SET FONT`で*Calibri Bold Italic*フォントを設定した場合，ボールド属性だけが適用され，イタリック属性が適用されませんでした。`OBJECT SET FONT STYLE`で`Bold`+`Italic`を設定すれば問題ありません。
 
* ACI0102361 サービスまたはヘッドレスモードでサーバーを起動した場合，`INTEGRATE MIRROR LOG FILE`（厳格モード）がエラーを返しました。

* ACI0102316 クライアント/サーバー版のみ。エンティティセレクション型のリストボックスに自動計算フッターを表示した場合，エンティティセレクションに変化がなく，再計算の必要がなくても，再描画のたびにネットワークリクエストがサーバーに送信されました。

* ACI0102236 指定したバックアップのパスが無効だったり，復元フォルダーのパスがロックされている場合，`RESTORE`コマンドを実行するとアプリケーションがクラッシュしました。

* ACI0102186 *encoding*が省略されたXMLファイルをDOMコマンドでインポートし，DOMコマンドでエクスポートした場合，空の文字列が*encoding*として出力されました。*encoding*は任意の属性なので，セットされていない場合は出力を省略するべきです。
 
* ACI0102378 Mac版のみ。クイックレポートエディターのインタフェースに配置された一部のテキストは，ダークモードで判読できませんでした。

* ACI0102319 *SMTP Transporter*で送信したメールにインライン画像が添付されている場合，iOSのメールアプリに添付ファイルが表示されないことがありました。

* ACI0101935 ドキュメントの範囲外にあるセルにスタイルが設定されているView ProエリアをSVG形式でエクスポートした場合，ドキュメントの範囲外までスプレッドシートが変換されました。

* ACI0102366 エンティティを拡張したクラスのメンバー関数にブレークポイントを設定し，デバッガを表示して中断ボタンをクリックした場合，すぐにデバッガが閉じられず，再びボタンをクリックするとアプリケーションがクラッシュしました。
 
* ACI0102365 *POP3 Transporter*の`checkConnection()`を実行した場合，数十秒間アプリケーションが応答しなくなり，最終的にエラーが返されました。特定のPOP3サーバーだけで発生します。

**注記**: *POP3 Transporter*の`checkConnection()`メンバー関数は，メールサーバーに接続できるかどうかを事前にチェックするためのものです。これにはアカウント認証の妥当性チェックも含まれます。`checkConnection()`は，どの認証メカニズムがサポートされているかを知るため，まず`CAPA`コマンドを送信しますが，POP3サーバーの中には，このコマンドが最初に送信されるとエラーを返すものもあるようです。修正により，`CAPA`に対してエラーが返された場合には，応答メッセージを待つ代わりにそのまま処理が続行されるようになりました。

* ACI0102359 スタティックテキストに`<vTotal;|Montant`のようなシンタックスで実数型のプロセス変数とフォーマット名を指定して埋め込んだ場合，値が正しく表示されませんでした。

* ACI0102283 サードパーティ製のSOAPクライアントでWebサービスに認証しようとした場合，接続に失敗することがありました。MD5でハッシュされたパスワードのダイジェストが送信された場合に問題が発生するようです。

* ACI0102331 リストボックスの列にCSSで背景色（`alternateFill`および`fill`）が設定されている場合，クラスの背景色がエディターに反映されませんでした。

* ACI0102031 `4DSCRIPT`の実行コンテキストで２回以上`SET DATABASE PARAMETER`の`SQL Engine case sensitivity`を変更した場合，デッドロックが発生し，アプリケーションがハングしました。

* ACI0101978 LDAPの`objectGUID`が文字化けしたテキスト形式で返されました。`LDAP Search`は，数値を文字列に変換して返しますが，GUIDはバイナリ形式のデータが無効な文字列に変換されます。

* ACI0102369 クライアント/サーバー版のみ。日付型と似たような形式（`nnnn-nn-nn`）の文字列を検索条件の値として渡した場合，`dataClass.query()`が正しい結果を返しませんでした。文字列が日付として評価されているようです。プレースホルダーを使用した場合に問題が発生します。文字列リテラルであれば問題ありません。

* ACI0102275 インタープリターモードのみ。`#DECLARE`で宣言された型と互換性のないパラメーターをメソッドに渡した場合，型がチェックされず，渡された値がそのままパラメーターに代入されました。
