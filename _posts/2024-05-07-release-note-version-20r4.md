---
layout: fix
title: "4D 20r4 Hotfix 1 修正リスト"
date: 2024-05-22 08:00:00
categories: 修正リスト
tags: 20r4 hotfix
build: 100355
version: "20r4"
permalink: /2024/128/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0104290 ビット`4` (`16`) を指定せずに *Current process debug log* を有効化した場合，プラグインコマンドの呼び出しでアプリケーションがクラッシュしました。さきに全プロセスのデバッグログを有効化していれば問題ありません。

* ACI0104752 Write Proの小数点タブが文字列の後に続くスペースに対して適用されませんでした。Microsoft Wordと同じように処理されるべきです。
 
### Write Pro（修正前）
![](https://github.com/4D-JP/4D-jp.github.io/assets/10509075/8b231b0e-865b-45b3-838d-150bb77cc959)

### Word（参考）
![](https://github.com/4D-JP/4D-jp.github.io/assets/10509075/8a57fcba-f1c6-4277-a2bc-afb77f219d17)

* ACI0104669 メソッドエディター上で`Case of`構文の条件ブロックを畳んだ状態で別の条件ブロックカットまたは削除し，`command`+`Z`で操作を取り消した場合，コードが正しく復元されませんでした。

* ACI0104453 コンパイルモードのみ。別々のプリエンプティブWebプロセスから`Storage`経由でオブジェクトまたはコレクションにアクセスする処理が引き金となってアプリケーションがクラッシュする可能性がありました。

* ACI0104789 Windows版のみ。`SET PRINT OPTION`で設定した*Orientation option* の設定が`QR RUN`で出力したレポートの`2`ページ目以降に反映されませんでした。PDF/XPSに出力した場合は問題ありません。なお，印刷ジョブを開始する前に用紙の方向を設定すれば問題ありません。

**注記**: Direct2Dモードで印刷中に用紙の方向を変更した場合の処理が修正されました。

* ACI0104597 *On Server Startup* データベースイベントで新規プロセスを起動して開いたウィンドウのオブジェクトメソッドで`OPEN ADMINISTRATION WINDOW`を実行した場合，何も起きませんでした。

**注記**: 管理ウィンドウはヘルプメニューのショートカットで開くことができますが， プロセスにメニューバーがインストールされておらず，フォームにメニューバーが関連付けられていない場合，管理ウィンドウを開くためのメニューコマンドが処理されないことが原因でした。パレットタイプのウィンドウであれば，アプリケーションプロセスのメインメニューが使用されます。修正により，どちらのケースでも管理ウィンドウが表示されるようになりました。

* ACI0104729 チェックボックスのスリーステートプロパティを`OBJECT SET THREE STATE CHECKBOX`で変更することができませんでした。

* ACI0104805 ビルド版シングルユーザーアプリケーションで`WEB START SERVER`またはデータベース設定の「開始時にWebサーバーを起動」を使用した場合，アプリケーションがクラッシュすることがありました。ビルド`100332`では問題ありませんでした。

* ACI0104775 メールオブジェクトをMIME形式に変換した場合，`messageId`の値に余計なエンコードが適用されました。

**注記**: 修正により，`Message-ID`ヘッダーは`76`文字を超過しても折り返されないようになりました。

* ACI0104542 `entity.save()`したリレーション属性のＮフィールドに`Null`を代入することができませんでした。１フィールドがプライマリーキーでなければ問題ありません。

* ACI0104188 フィールド値に`<`または`>`記号が含まれている場合，データエクスプローラーの表示が崩れました。

* ACI0104703 ストラクチャエディターでフィールドの「重複不可」属性を有効にした後，変更前のデータファイルを開いた場合，ストラクチャエディターとカタログファイルの間で齟齬が発生しました。ストラクチャエディターには起動時のカタログファイルの設定（「重複不可」属性は有効）が表示されますが，カタログファイルはデータファイルの設定（「重複不可」属性は無効）で更新されました。ACI0104582と似ていますが，別の問題です。

* ACI0104548 *Qodly Studio* にアクセスした場合，RESTセッションが開始されませんでした。ACI0104503が修正されたことによる副作用のようです。

* ACI0104753 ループ処理で`HTTP Get`を実行した場合，`Content-Length`ヘッダーがリセットされませんでした。

* ACI0104685 `IMAPTransporter.getBoxList()`がエラーを返しました。

* ACI0104625 `HTTPRequest`のリクエストボディにコレクション型を使用することができませんでした。
