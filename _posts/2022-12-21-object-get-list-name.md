---
layout: post
title: "選択リスト名が取得できない"
date: 2022-12-21 12:00:00
categories: 仕様
tags: userinterface projectmode
---

プロジェクトモードでは，階層リストなどのフォームオブジェクトにプロパティリストで選択/除外/指定リストを設定した場合，フォームの*.4DForm* ファイルにリストの*lists.json* に対する参照がJSONポインターで追加されます。

```json
"list": {"$ref": "/SOURCES/lists.json#/MyList"}
```

フォームがロードされると，リストの参照もJSONポインター経由でロードされます。リスト名ではなく，参照でリストがロードされるため，フォーム実行時に`OBJECT Get list name`を実行した場合，`""`が返されます。これは仕様です。

なお，フォームエディターを使用せず，直接フォームの*.4DForm* ファイルを編集することもできます。

```json
"list": "MyList"
```

この場合，JSONポインターの参照ではなく，名前でリストがロードされることになります（19r8以降）。
