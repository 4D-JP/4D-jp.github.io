---
layout: fix
title: "4D 20 修正リスト"
date: 2024-05-20 08:00:00
categories: 修正リスト
tags: "20.3"
build: 101281
version: "20.3"
permalink: /2024/127/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0104698 Mac版のみ。*Modal form dialog box* タイプのウィンドウからポップアップウィンドウを表示した場合，テキスト入力オブジェクトに数字をタイプ入力することができませんでした。

**注記**: Appleの仕様では非アクティブのウィンドウにフォーカスを設定することはできないことになっていますが，4Dはポップアップウィンドウが非アクティブであってもタイプ入力ができる（したがってフォーカスを設定することができる）仕様になっています。今回の修正には，Appleの仕様を迂回することが関係しています。IMEは，非アクティブであるポップアップウィンドウの背後に表示されるので，隠されてしまわないよう，ポップウィンドウにテキストを入力している間はウィンドウの外に表示されます。過去バージョンの動作を再現するために問題は修正されましたが，テキスト入力が必要であれば，ポップアップウィンドウではなく，フローティングウィンドウを使用することが勧められています。

* ACI0104669 メソッドエディター上で`Case of`構文の条件ブロックを畳んだ状態で別の条件ブロックカットまたは削除し，`command`+`Z`で操作を取り消した場合，コードが正しく復元されませんでした。

* ACI0104603 フォームエディターのプロパティリストで関連メニューバーを「なし」に設定した場合，*form.4DForm* ファイルの`menuBar`プロパティが*none* に更新され，プロパティリストのラベル表示がエラーを意味する赤いタイトル文字に変化しました。関連メニューバーを「なし」に設定した場合は値が空になるべきです。

**注記**: 問題は修正されましたが，すでにメニューバーが*none* に設定されている既存のフォームは修正されません。なお，プロパティリストにおける表示上の不具合であり，動作には問題ありません。手作業で修正するには，有効なメニューバーを設定した後，*control* キーを押しながらプロパティリストのラベルをクリックして設定をクリアしてください。

* ACI0104797 Windows版のみ。`GET SERIAL PORT MAPPING`で`COM9`より高いポートを取得することができませんでした。

* ACI0104789 Windows版のみ。`SET PRINT OPTION`で設定した*Orientation option* の設定が`QR RUN`で出力したレポートの`2`ページ目以降に反映されませんでした。PDF/XPSに出力した場合は問題ありません。なお，印刷ジョブを開始する前に用紙の方向を設定すれば問題ありません。

**注記**: Direct2Dモードで印刷中に用紙の方向を変更した場合の処理が修正されました。

* ACI0104771 セレクション型リストボックスのハイライトセットが設定されていない場合，選択されたレコードを標準アクションの「サブレコード削除」または`INVOKE ACTION`で削除することができませんでした。

* ACI0104686 CSSの`verticalAlign`プロパティを使用してリストボックス列の垂直揃えを設定した場合，フォームエディターのプレビュー表示にプロパティが反映されませんでした。フォーム実行時のレンダリングは問題ありません。

* ACI0104597 *On Server Startup* データベースイベントで新規プロセスを起動して開いたウィンドウのオブジェクトメソッドで`OPEN ADMINISTRATION WINDOW`を実行した場合，何も起きませんでした。

**注記**: 管理ウィンドウはヘルプメニューのショートカットで開くことができますが， プロセスにメニューバーがインストールされておらず，フォームにメニューバーが関連付けられていない場合，管理ウィンドウを開くためのメニューコマンドが処理されないことが原因でした。パレットタイプのウィンドウであれば，アプリケーションプロセスのメインメニューが使用されます。修正により，どちらのケースでも管理ウィンドウが表示されるようになりました。

* ACI0104447 `CREATE INDEX`でインデックス設定を更新した場合，ストラクチャエディターには変更が反映されますが，SQLシステムテーブルはプロジェクトを再起動するまで更新されませんでした。

* ACI0104805 ビルド版シングルユーザーアプリケーションで`WEB START SERVER`またはデータベース設定の「開始時にWebサーバーを起動」を使用した場合，アプリケーションがクラッシュすることがありました。

* ACI0104775 メールオブジェクトをMIME形式に変換した場合，`messageId`の値に余計なエンコードが適用されました。

**注記**: 修正により，`Message-ID`ヘッダーは`76`文字を超過しても折り返されないようになりました。

* ACI0104730 データエクスプローラーの詳細フォームに`<script>`タグを利用して*JavaScript* コードを実行させることができました。

* ACI0104188 フィールド値に`<`または`>`記号が含まれている場合，データエクスプローラーの表示が崩れました。