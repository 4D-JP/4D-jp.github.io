---
layout: fix
title: "4D v19r3 修正リスト"
date: 2022-01-07 08:00:00
categories: 修正リスト
tags: 19r3
build: 274778
version: 19r3
permalink: /274/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0102536 未確定（入力中）の日本語変換文字列を`delete`キーですべて削除した場合，確定済の文字列も`1`文字削除されました。
 
* ACI0102565 ポインターの逆参照でフォーミュラを作成した場合（例：`Formula(gPtr->:=2)`）逆参照の演算子（`->`）が取り除かれました。
 
* ACI0102543 モバイルプロジェクトエディターの「ストラクチャ」セクションでリレーションを追加し，当該テーブルの公開された計算属性を追加した場合，同一のリレーション計算属性がフィールドのリストに重複表示されました。一方はフォームに追加することができ，他方は追加しようとするとエラーが返されました。
	
* ACI0102542 モバイルプロジェクトエディターの「ストラクチャ」セクションでリレーションを追加した場合，リレーションで結ばれたデータクラスの計算属性が公開（`exposed`）されていなくても，フィールドリストに表示されました。そのような計算属性をフォームに追加しようとすると，エラーが返されました。明示的に公開されていないリレーション計算属性は，フィールドのリストに表示されるべきではありません。

* ACI0102566 Mac版のみ。`Folder("/").folders()`から返されるフォルダーオブジェクトは`///`というプリフィックスがパスに追加されました。親フォルダーのパスが`8`文字に満たない場合に問題が発生します。
  
* ACI0102533 Mac版のみ。関連フォルダーを含めずにプロジェクトをコンパイルした場合，*Librairies*フォルダー内の*lib4d-arm64.dylib*ファイルが上書きされませんでした。

* ACI0102506 アカウント情報の氏名または会社名にアクセント記号が使用されている場合，ライセンスのアクティベーションができませんでした。
 
* ACI0102523 ストラクチャエディターの検索ツールに入力された文字列を*delete*キーで削除した場合，検索ツールからフォーカスが外れましたs。

* ACI0102516 メソッドエディターのツールバーに表示される番号つきペーストボードにテキストを転写した場合，アイコンと数字が重なって表示されました。

**注記**: ダークモード対応に伴い，アイコン画像が刷新されたことが原因でした。

* ACI0102509 メソッドエディターのフッターに表示されるパラメーターリストの最後に余計なスペースが表示されました。

* ACI0102470 コメントアウトされたメソッド名を選択してコンテキストメニューで参照の検索を実行した場合，メソッドの参照がみつかりませんでした。

* ACI0101929 クイックレポートエディターのクロスタブツールに問題がありました。セルを選択したときに表示される吹き出し（ポップアップウィンドウ）の位置が左に寄っていました。

* ACI0102505 メソッドエディターでクラスを開き，関数を右クリックした場合，コンテキストメニューに参照の検索が表示されませんでした。メソッドメニューの該当項目もグレーアウトされました。

* ACI0102494 未定義の変数を`DOM Parse XML variable`に渡した場合，アプリケーションがクラッシュしました。

* ACI0102467 ビルド版アプリケーションでオブジェクト型に対するポインターをバリアント型メソッドパラメーターに渡した場合，アプリケーションがクラッシュしました。デバッグログを有効にしていれば問題ありません。ビルドしていないコンパイルモードでも問題ありません。

* ACI0102416 モバイルアプリケーションのプロジェクトエディターでフィールド設定のエラーが検出された場合，プロジェクト設定は自動的に修復されますが，「ビルドして実行」ボタンがdisabled状態になりませんでした。そのまま不完全な設定でアプリケーションをビルドした場合，エラーが返されるか，アプリが起動直後にクラッシュしました。

* ACI0102414 デバイスに4D for Androidアプリを再インストールした場合，すでにインストールされているアプリが削除されませんでした。データベースストラクチャが変更されている場合，起動時にアプリがクラッシュしました。
 
* ACI0102479 数値の桁区切り記号にNarrow No-Break Space文字が使用されている場合，正しくフォーマットされた数字が表示されませんでした。

* ACI0102481 Mac版のみ。フォームエディターでチェックボックス・ボタン・ラジオボタンをリサイズした場合，オブジェクトのタイトルが高さに応じて段階的に小さく変化しませんでした。

* ACI0102329 ユーザー設定ファイルが有効にされている場合，*settings.4DSettings*ファイルの設定ではなく，ストラクチャ設定の「プリエンプティブWebプロセスを使用」が使用されました。
 
* ACI0102279 地域と言語の設定が「英国」のシステムでデータベース設定画面の「？」ボタンをクリックした場合，ドキュメントページに「インデックス範囲外」エラーが表示されました。言語識別子が`en`ではなく`gb`のページを表示しようとするためです。
 
* ACI0102475 Mac版のみ。メソッドまたはクラスをエディターで開こうとした場合，中途半端なメソッドエディターウィンドウ（バグ画面）が表示されることがありました。

* ACI0102446 文字列の添字シンタックス（``string[[index]]``）とドット記法を組み合わせた場合，シンタックスエラーになりました。

```
var $a : Text
var $b : Object
$a:=$a[[$b.c]]
```

* ACI0102368 フォームを表示した直後に`FORM GOTO PAGE`でページ移動した場合，一瞬だけページ`1`が表示されました。

* ACI0102452 クラスのインスタンスを`JSON Stringify`で文字列として出力した場合，[計算プロパティ](https://developer.4d.com/docs/ja/Concepts/classes.html#function-get-と-function-set)の内容がスタンドアロン版とクライアント版で微妙に違っていました。クライアント版では`readOnly`プロパティが返されません。

**注記**: 修正により，デスクトップ版・サーバー版・クライアント版すべてのORDAで同じプロパティが返されるようになりました。返されるのは`name` `kind` `exposed` `readOnly` `type` `fieldType`です。`autoFilled` `indexed` `keywordIndexed` `mandatory` `unique`は返されません。

* ACI0102349 プロジェクトモードのみ。入力不可・フォーカス不可のオブジェクトが入力順プロパティ（`entryOrder`）に含まれている場合，タブ移動がそのオブジェクトで終わってしまい，どのオブジェクトもフォーカスされていない状態になりました。期待されるのは，入力順が直近の入力可・フォーカス可オブジェクトにタブ移動することです。

**注記**: プロジェクトモードでは「[タブ有効](https://docs.4d.com/4Dv19/4D/19/Data-entry-controls-and-assistance.300-5416782.ja.html)」というプロパティが廃止されており，[入力順](https://developer.4d.com/docs/ja/FormEditor/formEditor.html#データの入力順)プロパティ（`entryOrder`）でタブ移動の可否が決定することに留意してください。フォーカス可のテキスト入力オブジェクトは，たとえ入力不可であってもフォーカスすることができます。修正により，入力不可でフォーカス可のテキスト入力オブジェクトは，クリックまたはコマンド（**GOTO OBJECT**）あるいはフォームを表示した直後に入力順が先頭だった場合にのみフォーカスを得ることができ，タブによる移動ではフォーカスされないことになりました。

* ACI0102457 壊れた`.eml`ファイルを`MAIL Convert from MIME`で読み込もうとした場合，アプリケーションがクラッシュすることがありました。
 
* ACI0102391 *IMAP Transporter*の`getMIMEAsBlob`がなかなか結果を返さないことがありました。特定のメールサーバーで問題が発生します。Gmailアカウントでは問題ありません。ACI0102365とは別の問題です。

* ACI0102406 Windows版のみ。ボリュームシャドウコピーが有効にされているWindows Serverでファイルメニューの「最近使用したプロジェクトを開く」で別のプロジェクトに切り替えた場合，アプリケーションがクラッシュすることがありました。 VSSを管理しているスレッドでクラッシュが発生しています。Windows Server 2022で問題が発生します。以前のバージョンでは問題ないようです。

* ACI0102153 ストラクチャエディターでピクチャ型・オブジェクト型・BLOB型フィールドの保存オプションを「レコードの中」から「データファイルの中」に変更した場合，内部ストレージの最大サイズが`2147483647`になりました。`0`になるべきです。インスペクターを再表示すると`0`と表示されます。テキスト型では問題ありません。
 
* ACI0102385 Write ProツールバーでWrite Proドキュメントをエクスポートすることができませんでした。ファイル名が無効であるというエラーが返されます。

* ACI0102398 コンパイルモードのみ。デバッグログのパラメーター出力を有効にした場合，クラスの計算属性を評価するためにメンバー関数の再帰的なコールが発生し，無限にログが記録されました。

**注記**: 修正により，`This` `True` `False` のようなコマンドや計算属性は，パラメーター値をログファイルに出力するために`call()`を呼び出すことはしないようになりました。

* ACI0102426 Mac版のみ。スタイル付きテキスト内のハイパーリンクや数式の表示がダークモードに対応していませんでした。

* ACI0102420 Windows 11のみ。階層ポップアップメニューの項目をハイライトした場合，テキストが上揃えになるような位置にハイライトが描画されました。

* ACI0102377 デザインモードのユーザー＆グループにアクセスできないユーザーでログインし，ツールボックスのダイアログ画面を表示しようとした場合，ユーザーリストが表示されるべき位置にグレーの四角形（空の階層リストオブジェクト）が表示されました。

* ACI0102402 メソッドエディターで定数トークンをハイライト選択し，コンテキストメニューを表示した場合，「呼び出し元を検索」が表示されませんでした。

* ACI0102382 クイックレポートエディターのヘッダーには`C1`のようなフォーミュラ名ではなく，列に設定されているフォーミュラ名が表示されました。

* ACI0102348 Windows版のみ。ストラクチャエディターのインスペクターに表示されているカラー設定ボタンの四角形に境界線がありませんでした。テーブルカラーが「自動」に設定されている場合，ボタンとフォームの背景色が同じになるため，どこにボタンがあるのかわかりませんでした。

* ACI0102436 プロパティリストを使用してボタンのフォントサイズを変更した場合，設定は保存されますが，フォームエディターの表示に新しいサイズが反映されませんでした。

**注記**: フォントサイズが設定できるオブジェクト全般が修正されました。

* ACI0102428 暗号化プロパティが有効にされているテーブルに暗号化されていないレコードが存在する場合，MSCのデータ圧縮を「レコードを強制更新」モードで実行するとエラーが返されました。標準の圧縮では問題ありません。
 
* ACI0102255 HTTPサーバーを停止した場合，ログイン中のWebエクスプローラーおよびWebスタジオのセッシュンが終了しました。*WebAdmin* コンポーネントはHTTPサーバーの状態に左右されないはずです。

* ACI0100940 クイックレポートのセルにフォーマットが設定されているのに，リストでは「なし」が選択されていることがありました。

* ACI0102362 `OPEN RUNTIME EXPLORER`のヘルプTipsが表示されませんでした。

* ACI0102381 Windows版のみ。`Print Form`で印刷したフォーム上のテキスト入力オブジェクトに対し，`OBJECT SET FONT`で*Calibri Bold Italic*フォントを設定した場合，ボールド属性だけが適用され，イタリック属性が適用されませんでした。`OBJECT SET FONT STYLE`で`Bold`+`Italic`を設定すれば問題ありません。

* ACI0102309 Mac版のみ。4D for iOSでプロジェクトをXcodeで開こうとした場合，書き出したプロジェクトで既存のプロジェクトを上書きれる旨を警告するダイアログが正しく表示されませんでした。キャンセルおよびOKボタンが途切れてしまうことがあります。
 
* ACI0102186 *encoding*が省略されたXMLファイルをDOMコマンドでインポートし，DOMコマンドでエクスポートした場合，空の文字列が*encoding*として出力されました。*encoding*は任意の属性なので，セットされていない場合は出力を省略するべきです。

* ACI0102367 他のプロセスが編集モードで開いているレコードを別プロセスで開いた場合，そのレコードは他のプロセスに対してロックされていますが，「次レコード」標準アクションを実行して別のレコードに移動した場合，最初のレコードは引き続き他のプロセスに対してロックされたままになりました。

* ACI0102378 Mac版のみ。クイックレポートエディターのインタフェースに配置された一部のテキストは，ダークモードで判読できませんでした。

* ACI0102366 クラスのメンバー関数にブレークポイントを設定し，デバッガを表示して中断ボタンをクリックした場合，すぐにデバッガが閉じられず，再びボタンをクリックするとアプリケーションがクラッシュしました。

* ACI0102363 プロジェクトメソッドのパラメーターが明示的に宣言されていない場合，コンパイルエラーが返されました。

**注記** 19r2以前のバージョンでは，プロジェクトメソッドのパラメーターが明示的に宣言されていない場合，暗黙的に``25`個のパラメーターが宣言されました。パラメーターの数が決まっていない場合，たとえば`${4}`のようなシンタックスで`4`個目以降のパラメーターをまとめて宣言することができます。修正により，このシンタックスを使用しなかった場合でも，暗黙的にパラメーターが使用できるようになりました。

* ACI0102351 行数が多いメソッドにブレークポイントを設定し，コードをトレースした場合，デバッガのフレームポインター（黄色い矢印）とブレークポイントが正しい位置に表示されませんでした。ブレークポイントとフレームポインターはぴったり並ぶような位置に表示されるべきです。
 
* ACI0102331 リストボックスの列にCSSで背景色（`alternateFill`および`fill`）が設定されている場合，クラスの背景色がエディターに反映されませんでした。

* ACI0102370 クライアント/サーバー版のみ。ORDAの`query()`のパラメーターにコンテキストオブジェクトを渡した場合，シンタックスエラーが返されました。

* ACI0102369 クライアント/サーバー版のみ。日付型と似たような形式（`nnnn-nn-nn`）の文字列を検索条件の値として渡した場合，`dataClass.query()`が正しい結果を返しませんでした。文字列が日付として評価されているようです。プレースホルダーを使用した場合に問題が発生します。文字列リテラルであれば問題ありません。

* ACI0102364 バイナリモードのみ。プロジェクトメソッドのパラメーターが`#DECLARE`構文で宣言されている場合，コンパイルエラーが返されました。
 
* ACI0102322 Mac版のみ。リストボックスのセルに日本語を入力し，*tab*キーを使用した場合，候補リストのページが切り替わるべきですが，日本語入力が確定しました。

* ACI0102302 アプリケーションを再起動せずにプロジェクトまたはデータベースを再起動した場合，`Open form window`で`Toolbar form window`を開こうとすると，すでにツールバータイプのウィンドウが表示されているというエラー（`-10613`）が返されることがありました。タイミングの関係でデザインモードのツールバーと衝突しているようです。
 
* ACI0102345 Mac版のみ。Xcodeのバージョンを変更した場合，Apple Siliconターゲットの再コンパイルが失敗することがありました。C++のプリコンパイルヘッダーファイル（`.PCH`）のフォーマットが合っていないためです。問題を解消するためにはXcodeのキャッシュファイルを削除する必要があります。

* ACI0102293 デバッグログが記録されている状況で`_o_QUERY SUBRECORDS`を実行した場合，アプリケーションがクラッシュしました。

* ACI0102261 View Proエリアのピボットテーブルにフィールドをドラッグ＆ドロップすることができませんでした。

**注記**: 修正により，[*WA enable URL drop*](https://doc.4d.com/4Dv19/4D/19/WA-SET-PREFERENCE.301-5393011.ja.html)の振る舞いが見直されました。この設定は，ファイルパスをWebエリアをドロップし，表示中のページから離れてしまうことを防止するため，デフォルトで`False`に設定されていました。しかし，同時にページ内でのドラッグ＆ドロップも禁止されてしまうという弊害もあります。修正により，ファイルおよびURLのドロップだけがオプションで制御されるようになりました。

* ACI0102101 Windows版のみ。HTMLエディターの[TinyMCE](https://www.tiny.cloud)をCEF版のWebエリアに表示した場合，スペスチェックが使用できませんでした。

**注記**: Windows版のCEFは，[ネイティブスペルチェッカー](https://www.magpcss.org/ceforum/viewtopic.php?f=6&t=18269)への移行を進めています。修正により，*WinUseBrowserSpellChecker*は無効化されています。

* ACI0102356 Windows版のみ。内部コンポーネント*4D NetKit.4dbase*がサーバーにインストールされていませんでした。

* ACI0101978 LDAPの`objectGUID`が文字化けしたテキスト形式で返されました。`LDAP Search`は，数値を文字列に変換して返しますが，GUIDはバイナリ形式のデータが無効な文字列に変換されます。

**注記**: バイナリ形式の`objectGUID`は，Microsoft Active Directoryに特有のプロパティです。Ubuntuのようなプラットフォームでは，このプロパティが存在しないか，文字列で管理されています。修正により，16真数の文字列が返されるようになりました。

* ACI0102234 設定ファイル*logConfig.json*でORDAログを開始することができませんでした。

* ACI0102163 Windows版のみ。4Dのパスに括弧が含まれている場合，4D for Androidでプロジェクトをビルドしようとすると，エラーが返されました。

* ACI0102162 Windows版のみ。4D for Androidのプロジェクトエディターを開き，シミュレーターボタンをクリックした場合，ランタイムエラーが表示されました。

* ACI0102154 4D for iOSの「ラベル＆アイコン」セクションには，は，*Mobile/medias/icons/* フォルダーにインストールしたカスタムアイコンが表示されませんでした

* ACI0101990 一部の新コマンド（`WP Find all` `WP Find next` `WP Find previous` `Compile project`）は，メソッドエディターでヘルプTipsが表示されませんでした。

* ACI0102300 デバイスにダウンロードされていないレコードの共有ユニバーサルリンクを開こうとした場合，まず同期が実行されるべきですが，すぐにリンクを開こうとするため，要求したレコードが表示されませんでした。
 
* ACI0102327 Windows版のインストーラーで4D Internet Commandsをインストールした場合，macOSではプラグインが認識されませんでした。*Info.plist*ファイルの*CFBundleExecutable*キーが"4D InternetCommands"ではなく"${PRODUCT_NAME}"となっているためです。

* ACI0102209 プロジェクトモードのみ。ビルド版アプリケーションでユーザーが`command`+`shift`+`F9`のキーコンビネーションを入力してランタイムエクスプローラーが表示することを阻止する手段がありませんでした。カレントユーザーは常に*Designer*であるためです。

* ACI0102307 `__DeletedRecords`テーブルや`__GlobalStamp`フィールドが存在しないデータベースで4D for iOSアプリをビルドしようとした場合，エラーが返されました。

* ACI0102305 フランス語版のみ。View Proエリアの「関数の挿入」メニューに表示される関数の分類で「検索と参照」の関数名がソートされていませんでした。英語版では，ADDRESS, AREAS, CHOOSE…ですが，フランス語版では，ADRESSE, ZONES, CHOISER…と表示されました。

* ACI0102303 オブジェクト型フィールドは「格納場所」のオプション「データファイルの外」がサポートされないことになりましたが，インスペクターには引き続きオプションが表示されました。
 
* ACI0102298 Mac版のみ。Spotlightの検索からアプリケーションフォルダーを除外した場合，4D for iOSがXcodeのバージョン取得に失敗し，インストールが必要というメッセージが表示されました。`mdfind`コマンドがXcodeをみつけられないためです。

* ACI0101946 View ProエリアをSVG形式でエクスポートした場合，「Wingdings 3」のようにフォント名の末尾に数字が使用されているフォントが正しく変換されませんでした。

* ACI0101935 ドキュメントの範囲外にあるセルにスタイルが設定されているView ProエリアをSVG形式でエクスポートした場合，ドキュメントの範囲外までスプレッドシートが変換されました。
* ACI0102160 クライアント/サーバー版のみ。ネットワーク設定を変更してから「最近使用したサーバー」画面からサーバーに接続しようとした場合，選択したサーバーに対する接続は失敗しますが，クライアントキャッシュには`unuse.txt`ファイルが作成されるため，再接続を試みるたびに新しいローカルキャッシュフォルダーが作成されました。`unuse.txt`ファイルは，サーバーとの接続が確立されるまで作成されるべきではなく。接続エラーの発生と同時に削除されるべきです。そうでないと，再接続時にサーバー側のセッションが消えず，接続ライセンスが回収されません。

* ACI0102159 コンパイルされたコンポーネントは，`.4DZ`形式のホストアプリケーションの共有メソッドに`METHOD GET PATHS`でアクセスできませんでした。

* ACI0102157 `APPLY TO SELECTION`のフォーミュラにローカル変数が使用されている場合，コンパイルモードでエラーが返されました。`EXECUTE FORMULA`を実行しているわけではないので，コンパイルモードでも問題ないはずです。

* ACI0102155 Windows版のみ。4D Mobileの「ラベル＆アイコン」セクションでアイコンを追加した場合，プロジェクトのビルドに失敗しました。`.svg`ファイルの変換でエラーが返されているようです。

* ACI0102145 バイナリモードのみ。プロジェクトモードにデータベースを変換した場合，リストボックスのヘッダーや列のフォントカラーや整列が変わってしまうことがありました。「自動」に設定されているプロパティ値が省略され，リストボックス全体の値を継承するようになってしまうことが原因です。

* ACI0102144 プロジェクトメソッドをRESTサーバーで公開した場合，テーブルが未選択でもスコープが選択できました。

* ACI0102142 ``IMAP Transporter``の`getMail`コマンドで添付ファイル名が取得できないことがありました。

* ACI0102141 クライアント/サーバー版のみ。クライアント側で`entitySelection.fromCollection()`を実行した場合，日付ではなくISO文字列形式で日付が保存されました。

* ACI0102140 スケーラブルWebセッションを有効に設定し，REST API経由で同一のプロジェクトメソッドを連続コールした場合，アプリケーションがクラッシュしました。

* ACI0102139 バイナリモードのデータベースをプロジェクトモードに変換した場合，「スケーラブルWebセッション」の設定ができませんでした。データベース設定でオプションを有効にしても，`WEB GET OPTION`の`Web scalable session`は`0`を返しました。デフォルト値が正しくないようです。新規作成したプロジェクトは，デフォルトが`1`なので問題ありません。

* ACI0102289 クライアント/サーバー版のみ。保存オプションが「データファイルの外」に設定されたオブジェクト型フィールドにクライアント側でレコードを追加した場合，*ExternalData*フォルダーが作成されず，データがディスクに書き込まれませんでした。ACI0102188が修正されたことによる副作用のようです。テキスト型やピクチャ型のフィールドであれば問題ありません。

* ACI0102286 Windows版のみ。ゼロサイズの配列にバインドされたコンボボックスの下矢印ボタンをクリックした場合，アプリケーションがキー入力を受け付けなくなり，`enter`や`escape`でフォームを閉じることもできなくなりました。

* ACI0102276 デスクトップ版のみ。ローカルのREST APIを`HTTP Request`でコールし，ピクチャ型のフィールドをリクエストした場合，アプリケーションがフリーズしました。ブラウザからコールすれば問題ありません。
 
* ACI0102269 4D for iOSアプリが起動していない状態で共有ユニバーサルリンクを開いた場合，詳細フォームではなく，リストフォームが表示されました。

* ACI0102268 Mac版のみ。`SET ABOUT`を実行しても，「…について」メニューの項目名がカスタマイズされませんでした。

* ACI0102262 アプリケーションをプロジェクトモードにエクスポートした場合，ハイライトボタンは透明ボタンに変換されますが，同時に*On Mouse Move*イベントが有効に設定されました。

* ACI0102260 `collection.remove`の`howMany`パラメーターで指定した個数が`index`パラメーターで指定した開始位置からの残数よりも多かった場合，開始位置が無視され，飽くまで指定した個数が削除されました。

* ACI0102258 `ELF`（Extended Log File）形式のWebログファイルが正しく出力されませんでした。ヘッダーと値の位置が揃っていません。またヘッダーに大文字が使用されているため，一部のツールで正しく表示されませんでした。

* ACI0102252 Mac版のみ。日本語変換（IME）を使用してメソッドエディターに入力中の文字列を`return`キーで確定した場合，余計な改行が挿入されました。

* ACI0102249 リストボックスが表示されたフォームを最前面に移動した後，矢印キーを入力した場合，*com.4d.gui*モジュールがクラッシュしました。
 
* ACI0102024 データファイルの暗号化を有効にした場合，レコードが登録されていないテーブルにはMSCが警告マークを表示しました。

* ACI0102016 プロジェクトモードのみ。プロジェクトメソッドのドキュメンテーションのハイパーリンクが動作しませんでした。

* ACI0102010 エンティティセレクション型のリストボックスのメタ情報式から返されるオブジェクトの`unselectable`プロパティを使用して行を選択不可にした場合，画面上は行が選択できませんが，カレント項目およびカレント位置プロパティが更新されました。
 
* ACI0101966 アプリケーションビルドの`CommonCopyright`キーがスタンドアロン版およびビルド版のサーバーアプリケーションに反映されませんでした。ビルド版のクライアントアプリケーションは問題ありません。`RuntimeVLCopyright` `ServerCopyright`も反映されません。

* ACI0101963 Apple Siliconターゲットのみ。Xcode 12.5でSiliconターゲットのコンパイルを実行した場合，clangが *$constants.cpp* の処理に`10`分以上を要することがありました。

* ACI0101950 プロジェクトモードのみ。クライアントがサーバーに接続し，フォルダーの同期が済んだ後，なかなかアプリケーションが始動しないことがありました。

* ACI0101948 RESTリクエストでプロジェクトメソッドが実行された場合，管理画面でRESTセッションがドロップできなくなりました。
 
* ACI0101933 Apple Silicon版のみ。フローティング画像が配置されているView Proスプレッドシートを`VP convert to picture`でピクチャに変換した場合，エラーが返されました。Intelアーキテクチャでは問題ありません。

* ACI0101912 ラベルエディターにドラッグ＆ドロップ操作でフィールドを追加したり，フィールドにフィールドを連結したりすることはできますが，すでに挿入された式を編集した場合，確定した内容が保存されませんでした。

* ACI0101878 プロジェクトモードのみ。データファイルのインデックス型がカタログのインデックス型と合致しない場合，ストラクチャエディターにはデータファイル側のインデックス型がストラクチャエディターに表示されました。そのため，ストラクチャ（プロジェクト）の入れ替えでインデックス型を変更することができません。バイナリモードでは，ストラクチャ側のインデックスが使用されました。
 
* ACI0101834 クライアント/サーバー版のみ。クライアント側でロックしたエンティティを再びロックした後，エンティティに`Null`を代入してオブジェクトをクリアした場合，ロックが解除できなくなりました。`Null`を代入した時点でエンティティh解放されるべきです。

* ACI0101759 ラベルエディターでラベルに挿入したフィールドに`String`関数でフォーマットを適用した場合，印刷やプレビュー出力にフォーマットが反映されませんでした。
 
* ACI0101642 Mac版のみ。`ON EVENT CALL`でイベントハンドラーメソッドをインストールした場合，リストボックスのヘッダーをタップをしても`On Header Click`イベントが発生しませんでした。クリックであれば問題ありません。

* ACI0101544 ドキュメントには，*formMacros.json*ファイルの出現順にフォームマクロが表示されると記述されていますが，実際にはABC順に表示されます。
 
* ACI0101326 コンパイルモードのみ。ポインター型のプロジェクトメソッドのパラメーターに`Null`が渡された場合，アプリケーションがクラッシュしました。
 
* ACI0101233 View Proエリアのセットアップ中にウィンドウをリサイズした場合，アプリケーションがフリーズしました。`On VP ready`イベント直後のタイミングでJavaScriptの無限ループに陥る可能性があるようです。

* ACI0101060 データ書き出しダイアログ画面で実数型フィールドに数値フォーマットを適用した場合，プレビューエリアに表示される値には小数点が二重に表示されました。プレビュー表示の不具合であり，エクスポートされるファイルは問題ありません。`###, ###, ## 0.00`というフォーマットに問題があります。

* ACI0099336 クライアント/サーバー版のみ。`SET AUTOMATIC RELATION`の設定が`RELATE ONE SELECTION`に反映されませんでした。ORDAのリレーション属性は問題ありません。

* ACI0099046 macOS Big Surのみ。結合文字のダイアクリティカルマーク（`^`など）を入力した場合，別々の文字になりました。

* ACI0102130 Mac版のみ。Apple Siliconターゲットのコンパイルモードでは，ビットワイズ演算値が正しくありませんでした。

* ACI0102127 バイナリデータベースをプロジェクトに変換した場合，ピクチャボタンの`pathname`プロパティがエクスポートされないことがありました。昔のベータバージョンで作成されたボタンで問題が発生するようです。

* ACI0102125 プロジェクトモードのみ。フィールド入力の確定を`REJECT`で拒むことができませんでした。

* ACI0102122 サーバーとの接続が閉じられてしまった場合，`SMTP Transporter.send()`メソッドがエラーを返しました。トランスポーターのkeepAliveが有効にされている場合，前回の`send()`から間隔が空いたときには，まず，リクエストの前に`NOOP`コマンドを送信し，必要であれば，サーバーに再接続するべきです。

* ACI0102118 Mac版プロジェクトモードのみ。高さが`23`ポイントを超過するポップアップドロップダウンメニューをクリックした場合，フォーカスが間違った位置に描画されました。オブジェクトの高さが`23`ポイント以下であれば問題ありません。

* ACI0102113 `Compare strings`とオプションの`sk width insensitive`を使用し，半角と全角を区別しない文字列の比較を実行した場合，半角の濁音と全角の濁音が等価と判定されませんでした。濁点がなければ問題ありません。

* ACI0102112 Write Proドキュメントに挿入されたフィールドの参照などの数式を他のアプリケーションにコピー＆ペーストすることができませんでした。

* ACI0102107 エクスプローラーの「テーブル」ページでテーブルを選択した場合，ダイアログの右側にフィールドリストが表示されますが，「ホーム」ページでは何も表示されませんでした。

* ACI0102106 プロジェクトフォームの`0`ページで入力順を変更した場合，設定が反映されませんでした。

* ACI0102098 クライアント/サーバー版のみ。クライアント側でトランザクション中に保存したリレーション属性を再び保存しようとした場合，エンティティのスタンプがインクリメントされているために保存できないというエラーが返されました。

* ACI0102087 表組内のマージフィールドにフォーマット（例：`MERGEFIELD pt_FC \# $,#.00`）が設定されている`.docx`ドキュメントをWrite Proにインポートした場合，マージフィールド名（`«pt_FC»`）は正しく取り出されますが，`WP Get text`から返されるテキスト値に改行コードが追加されました（`«pt_FC»\r\r`）。

* ACI0102086 Windows版のみ。ライセンス登録者のファーストネームにアクセント文字が含まれている場合，ビルド版アプリケーションを起動すると，ライセンスが有効ではないというエラーが表示され，使用できませんでした。v19でライセンスファイルのBOMが取り除かれたことに伴う副作用のようです。

* ACI0102083 Windows版のみ。`Control`+`Shift`キーを併用して文字を入力した場合，`ON EVENT CALL`でセットしたエラーハンドリングメソッドで返される`KEYCODE`システム変数の値が正しくありませんでした。実際に入力された文字ではなく，押されたキーのコードが返されました。また，`Control`キーを併用して文字を入力した場合，制御コードの値が返されました。

* ACI0102062 `SET DATABASE PARAMETER`のセレクター`98`（スリープ中のクライアントに対するタイムアウト）が適用されませんでした。スリープ中のクライアントに対するタイムアウトを過ぎてもユーザーがドロップされず，接続ライセンスも回復しませんでした。

* ACI0102060 MSCのデータ検証で暗号化の問題が検出され，同じキーでデータを再暗号化して問題を解消した後，もう一度データを再暗号化した場合，MSCに表示されたエラーメッセージが消えませんでした。

* ACI0102053 `GET HIGHLIGHT`を実行するたびに返される値が増えてゆきました。

* ACI0102035 プロジェクトモードのみ。プロジェクトを開くたびに*catalog.4DCatalog*ファイルの内容が更新されました。フィールドなどのヘルプTipsが記述された`<tip>`タグの最後に改行コードが挿入されます。v18.4 HF3までは問題ありませんでした。動作に影響はありませんが，バージョン管理に支障をきたします。

* ACI0102030 フォームに組み込まれたクイックレポートエディター上でカラムのドラッグ＆ドロップを何度も繰り返した場合，エラーが返されました。

* ACI0102029 クライアント/サーバー版のみ。ローカルセットとプロセスセットの間で`INTERSECTION`を実行した場合，作成されるセットの内容が正しくありませんでした。ローカルセットの内容がそのまま返されました。

* ACI0102233 ラベルエディターでラベルに挿入した式（例：`[Table_1]Field_2+"bbb"`）やフォーマット付きのフィールド（例：`String:C10([Table_1]Field_3;"### ### ##0.000")`）が正しく出力されませんでした。フィールドの値だけが出力されました。

* ACI0102232 Write Proドキュメントにファイルをインポートして画像を挿入した場合，`alt`属性にオリジナルのパスが代入されました。ドキュメントを共有またはエクスポートしたときのことが考えると，ファイルシステムのフルパスを保存することには問題があります。

* ACI0102230 プラグインエリア上で`option`キーを押しながらドラッグ＆ドロップ操作を開始することができませんでした。

* ACI0102228 4D WriteドキュメントをWrite Proに変換した場合，テキストに余計なタブが挿入されることがありました。

* ACI0102227 古いバージョンで作成されたフォームをv19に変換した場合，入力可チェックボックスが入力不可になりました。

* ACI0102226 Mac版のみ。Macで作成したプロジェクトをWindowsで開き，ツールボックスを開いた場合，一番上の一般ユーザー（DesignerまたはAdministratorではないユーザー）が消滅しました。`GET USER LIST`でも当該ユーザーが返されません。Windowsで作成したプロジェクト，バイナリモード，v18では問題ありません。

* ACI0102222 コンパイルモードでクラスのメンバー関数がエラーを返した場合，問題が発生した箇所の次行のコードがエラー画面にプレビュー表示されました。

* ACI0102220 プロジェクトモードのみ。フォームエディター上で範囲を指定したオブジェクトを選択した場合，透明スプリッターやドロップダウンリストのボーダーが表示されました。スプリッターや透明ボタン（レンダリングしないボタン）のボーダーは，オブジェクトのサイズよりもおおきな領域をカバーする四角形として描画されました。

* ACI0102216 ビルド版のサーバーアプリケーションの*Server Database*フォルダー内に`Resources`フォルダーが存在する場合，クライアントが接続するとフォルダー内に*cache.xml*や*.4darchive*ファイルを含む`Caches`フォルダーが作成されました。アプリケーション内のフォルダーがインストール後に書き換えられることは望ましくありません。

* ACI0102212 SpreadJS `14.1`以前に作成されたスプレッドシートを`VP IMPORT FROM OBJECT`でインポートした場合，無効なスプレッドシートオブジェクトが返されました。

* ACI0102210 `HTTP Get`のレスポンスに`text/plain`型で無効なJSONが返された場合，データの受信に使用したオブジェクト型の変数に`Null`が代入されませんでした。

* ACI0102206 メソッドエディターでクラスではない一般的なオブジェクト型（`C_OBJECT`または`var : Object`）のドット記法をコード補完で入力しようとした場合，プロパティやメンバー関数の候補が表示されませんでした。`var : 4D.Object`であれば問題ありません。

* ACI0102204 `var`キーワードで宣言された拡張クラスオブジェクトのメンバー関数を選択し，`Alt`+クリックで定義に移動しようとした場合，継承されたメンバー関数ではなく，拡張クラスがメソッドエディターで開れました。

* ACI0102203 Write ProにインポートしたHTMLのハイパーリンクが正しく表示されないことがありました。

* ACI0102202 ストラクチャエディターの検索エリアが正しく動作しませんでした。

* ACI0102201 Mac版のみ。IPアドレスを特定して`80`番ポートでWebサーバーを開始することができませんでした。ヘルパーツールのインストール画面も表示されません。IPアドレスが「すべて（`0.0.0.0`または`::`つまり`ANY_ADDR`）」であれば問題ありません。

* ACI0102195 ストラクチャエディターの検索ウィンドウが使用できませんでした。

* ACI0102189 Windows版のみ。SVGピクチャが挿入されたWrite ProドキュメントをPDF形式でエクスポートした場合，`textArea`要素のフォントカラーがすべてブラックになりました。プリンタードライバーでPDF出力した場合は問題ありません。

* ACI0102188 クライアント/サーバー版のみ。レコードにオブジェクト型のフィールドが含まれる場合，同サイズのBLOBと比較し，エンティティの取得にずっと長い時間を要しました。スタンドアロン版では再現しないので，オブジェクトの解析ではないはずです。ネットワークリクエストログを開くと，オブジェクト型の`exec_duration`は同サイズのBLOB型の`5`倍程度の時間であることが確認できます。

* ACI0102182 フランス語版のみ。アプリケーションビルドの確認メッセージに間違いがありました。"si vous voulez voulez..."とワードが重複していました。

* ACI0102181 Write Proドキュメントのテキストを上付き文字または上付き文字に設定した場合，行間スペースが変化しました。

**注記**: 修正により，4D WriteプラグインやMicrosoft Wordと同じ仕様になりましたが，修正前のWrite Proドキュメントは，段落スタイルや改ページ処理の位置が変わるかもしれません。

* ACI0102180 `QR BLOB TO REPORT`の第２パラメーターに空のBLOBを渡した場合，エラー`9852`が返されるはずですが，エラー`200`（データストリームの終端を超えた読み込み）が返されました。

* ACI0102178 プロジェクトモードのみ。プロパティリストで線オブジェクトのスタイルを設定した場合，選択したのとは違う点線スタイルが適用されました。

* ACI0102176 クライアントキャッシュフォルダー内の`uuid.txt`ファイルが破損しているクライアントがサーバーに接続した場合，サーバー側で実行中のストアドプロシージャーが消滅しました。旧式ネットワークレイヤーでは問題ありません。

* ACI0102174 `WEB SERVICE CALL`でコールしたサーバーがステータスコードの`500`とHTMLボディを返した場合，パーサーがDTDなどの関連リソースをロードしようとするため，アプリケーションがフリーズすることがありました。

* ACI0102171 クライアント/サーバー版のみ。ローカルクライアントでフォームエディターを使用した場合，データクラスがエンティティセレクション型リストボックスのデータソース候補として表示されませんでした。

* ACI0102170 クライアント/サーバー版のみ。`On Startup`データベースメソッドにコードが記述されている場合，テーブル間にリレーションが設定されているデータベースに起動時にクライアント側でエラーが返されました。

* ACI0102169 タイトルカラーが設定されたボタンをdisabled状態に設定した場合，タイトルがグレーアウトされませんでした。

* ACI0102166 クライアント/サーバー版のみ。*Components*フォルダーに*Resources*フォルダーが存在し，以前のクライアント接続で作成されたアーカイブが残っている場合，コンポーネントを入れ替えた後の再起動でキャッシュが再生成されないため，クライアント側のリソースがアップデートされませんでした。

* ACI0102248 Write ProドキュメントをMIME形式でHTMLエクスポートした場合，セル内テキストの垂直揃えが正しく変換されませんでした。セルの高さがテキストの高さを超えている場合，常に中央揃えとなりました。

* ACI0102240 Write Proのドキュメントのセルに箇条書きまたは段落番号の付与されたテキストを記述した場合，ドキュメントを保存して開き直すと，セルが空になりました。

* ACI0102335 プロジェクトモードのみ。クライアント/サーバー版のアプリケーションをビルドした場合，ユーザーとグループの設定が失われました。*Server Database/Settings/*の*directory.json*ファイルが読み込まれないためです。

* ACI0102301 ストラクチャエディターでテーブル名を変更しようとした場合，アプリケーションがクラッシュしました。

* ACI0102280 マルチスタイルテキストが表示されたダイアログのウィンドウをリサイズした場合，スタイル属性が失われました。

* ACI0102275 インタープリターモードのみ。`#DECLARE`で宣言された型と互換性のないパラメーターをメソッドに渡した場合，型がチェックされず，渡された値がそのままパラメーターに代入されました。

**注記**: 修正により，インタープリターモードで`#DECLARE`で宣言された型と互換性のないパラメーターでメソッドやクラス関数をコールした場合，コンパイルモードと同じようにエラー`54`が返されるようになりました。コンパイルの時点で不正が検出できる場合はコンパイルエラーが返されます。パラメーターが`C_@`で宣言されている場合，型に応じたデフォルト値にキャストされた値が代入され，エラーにはなりません。

* ACI0101857 `LAUNCH EXTERNAL PROCESS`で実行したCLIプログラムの出力ストリームに無効な文字列が含まれる場合，空の文字列が返されました。

**注記**: 修正により，UTF-8からUTF-16に変換できない無効な文字は`?`として出力されるようになりました。

* ACI0101359 Write Proドキュメントに`ST SET TEXT`でフォントを指定せずに`span`要素を挿入した場合，ドキュメントから継承されたフォントではなく，デフォルトフォントが文字列に適用されました。`p`要素であれば問題ありません。

* ACI0101245 コンパイルモードのみ。存在しないパラメーターに値を代入しようとした場合，アプリケーションがクラッシュしました。

* ACI0102132 前回のビルドで作成された*Compiled Database*フォルダーに*Components*や*Resources*フォルダーが残っている場合，コンパイルされたアプリケーション（.4DZ）は上書きされますが，前回のビルドで作成されたフォルダーが削除されませんでした。ビルドの前にまずフォルダーをクリアするべきです。

* ACI0102031 `4DSCRIPT`の実行コンテキストで２回以上`SET DATABASE PARAMETER`の`SQL Engine case sensitivity`を変更した場合，デッドロックが発生し，アプリケーションがハングしました。

* ACI0102028 フランス語版のみ。View Proエリアの「表示（View）」は，Excelと同じように"Vues"ではなく"Affichage"と翻訳されるべきです。

* ACI0102190 スリープ中のネットワーク切断により，サーバーと接続が失われた後，クライアントを終了し，再起動してサーバーに再接続した場合，新しいセッションが作成されることがあります。新しいセッションを開始する前にサーバーでスリープ中のセッションが終了されるべきです。

**注記**: ５分間隔で残留セッションをチェックするメカニズムが修正されました。[ブログ記事](https://blog.4d.com/how-to-define-sleeping-timeout-for-remote-4d-applications/)もご覧ください。

* ACI0102183 コレクション型のリストボックスに表示された時間型のセルを編集した場合，正しい値が保存されませんでした。
