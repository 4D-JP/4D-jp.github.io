---
layout: fix
title: "4D v19r3 修正リスト"
date: 2021-10-01 08:00:00
categories: 修正リスト
tags: 19r3
build: 271368
version: 19r3
permalink: /274/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0102300 デバイスにダウンロードされていないレコードの共有ユニバーサルリンクを開こうとした場合，まず同期が実行されるべきですが，すぐにリンクを開こうとするため，要求したレコードが表示されませんでした。
 
* ACI0102327 Windows版のインストーラーで4D Internet Commandsをインストールした場合，macOSではプラグインが認識されませんでした。*Info.plist*ファイルの*CFBundleExecutable*キーが"4D InternetCommands"ではなく"${PRODUCT_NAME}"となっているためです。

* ACI0102209 プロジェクトモードのみ。ビルド版アプリケーションでユーザーが`command`+`shift`+`F9`のキーコンビネーションを入力してランタイムエクスプローラーが表示することを阻止する手段がありませんでした。カレントユーザーは常に*Designer*であるためです。

* ACI0102307 `__DeletedRecords`テーブルや`__GlobalStamp`フィールドが存在しないデータベースで4D for iOSアプリをビルドしようとした場合，エラーが返されました。

* ACI0102305 フランス語版のみ。View Proエリアの「関数の挿入」メニューに表示される関数の分類で「検索と参照」の関数名がソートされていませんでした。英語版では，ADDRESS, AREAS, CHOOSE…ですが，フランス語版では，ADRESSE, ZONES, CHOISER…と表示されました。

* ACI0102303 オブジェクト型フィールドは「格納場所」のオプション「データファイルの外」がサポートされないことになりましたが，インスペクターには引き続きオプションが表示されました。
 
* ACI0102298 Mac版のみ。Spotlightの検索からアプリケーションフォルダーを除外した場合，4D for iOSがXcodeのバージョン取得に失敗し，インストールが必要というメッセージが表示されました。`mdfind`コマンドがXcodeをみつけられないためです。

* ACI0102289 クライアント/サーバー版のみ。保存オプションが「データファイルの外」に設定されたオブジェクト型フィールドにクライアント側でレコードを追加した場合，*ExternalData*フォルダーが作成されず，データがディスクに書き込まれませんでした。ACI0102188が修正されたことによる副作用のようです。テキスト型やピクチャ型のフィールドであれば問題ありません。

* ACI0102286 Windows版のみ。ゼロサイズの配列にバインドされたコンボボックスの下矢印ボタンをクリックした場合，アプリケーションがキー入力を受け付けなくなり，`enter`や`escape`でフォームを閉じることもできなくなりました。

* ACI0102276 デスクトップ版のみ。ローカルのREST APIを`HTTP Request`でコールし，ピクチャ型のフィールドをリクエストした場合，アプリケーションがフリーズしました。ブラウザからコールすれば問題ありません。
 
* ACI0102269 4D for iOSアプリが起動していない状態で共有ユニバーサルリンクを開いた場合，詳細フォームではなく，リストフォームが表示されました。

* ACI0102268 Mac版のみ。`SET ABOUT`を実行しても，「…について」メニューの項目名がカスタマイズされませんでした。

* ACI0102262 アプリケーションをプロジェクトモードにエクスポートした場合，ハイライトボタンは透明ボタンに変換されますが，同時に*On Mouse Move*イベントが有効に設定されました。

* ACI0102260 `collection.remove`の`howMany`パラメーターで指定した個数が`index`パラメーターで指定した開始位置からの残数よりも多かった場合，開始位置が無視され，飽くまで指定した個数が削除されました。

* ACI0102258 `ELF`（Extended Log File）形式のWebログファイルが正しく出力されませんでした。ヘッダーと値の位置が揃っていません。またヘッダーに大文字が使用されているため，一部のツールで正しく表示されませんでした。

* ACI0102252 Mac版のみ。日本語変換（IME）を使用してメソッドエディターに入力中の文字列を`return`キーで確定した場合，余計な改行が挿入されました。

* ACI0102249 リストボックスが表示されたフォームを最前面に移動した後，矢印キーを入力した場合，*com.4d.gui*モジュールがクラッシュしました。
 
* ACI0102024 データファイルの暗号化を有効にした場合，レコードが登録されていないテーブルにはMSCが警告マークを表示しました。

* ACI0102016 プロジェクトモードのみ。プロジェクトメソッドのドキュメンテーションのハイパーリンクが動作しませんでした。

* ACI0102010 エンティティセレクション型のリストボックスのメタ情報式から返されるオブジェクトの`unselectable`プロパティを使用して行を選択不可にした場合，画面上は行が選択できませんが，カレント項目およびカレント位置プロパティが更新されました。
 
* ACI0101966 アプリケーションビルドの`CommonCopyright`キーがスタンドアロン版およびビルド版のサーバーアプリケーションに反映されませんでした。ビルド版のクライアントアプリケーションは問題ありません。`RuntimeVLCopyright` `ServerCopyright`も反映されません。

* ACI0101963 Apple Siliconターゲットのみ。Xcode 12.5でSiliconターゲットのコンパイルを実行した場合，clangが *$constants.cpp* の処理に`10`分以上を要することがありました。

* ACI0101950 プロジェクトモードのみ。クライアントがサーバーに接続し，フォルダーの同期が済んだ後，なかなかアプリケーションが始動しないことがありました。

* ACI0101948 RESTリクエストでプロジェクトメソッドが実行された場合，管理画面でRESTセッションがドロップできなくなりました。
 
* ACI0101933 Apple Silicon版のみ。フローティング画像が配置されているView Proスプレッドシートを`VP convert to picture`でピクチャに変換した場合，エラーが返されました。Intelアーキテクチャでは問題ありません。

* ACI0101912 ラベルエディターにドラッグ＆ドロップ操作でフィールドを追加したり，フィールドにフィールドを連結したりすることはできますが，すでに挿入された式を編集した場合，確定した内容が保存されませんでした。

* ACI0101878 プロジェクトモードのみ。データファイルのインデックス型がカタログのインデックス型と合致しない場合，ストラクチャエディターにはデータファイル側のインデックス型がストラクチャエディターに表示されました。そのため，ストラクチャ（プロジェクト）の入れ替えでインデックス型を変更することができません。バイナリモードでは，ストラクチャ側のインデックスが使用されました。
 
* ACI0101834 クライアント/サーバー版のみ。クライアント側でロックしたエンティティを再びロックした後，エンティティに`Null`を代入してオブジェクトをクリアした場合，ロックが解除できなくなりました。`Null`を代入した時点でエンティティh解放されるべきです。

* ACI0101759 ラベルエディターでラベルに挿入したフィールドに`String`関数でフォーマットを適用した場合，印刷やプレビュー出力にフォーマットが反映されませんでした。
 
* ACI0101642 Mac版のみ。`ON EVENT CALL`でイベントハンドラーメソッドをインストールした場合，リストボックスのヘッダーをタップをしても`On Header Click`イベントが発生しませんでした。クリックであれば問題ありません。

* ACI0101544 ドキュメントには，*formMacros.json*ファイルの出現順にフォームマクロが表示されると記述されていますが，実際にはABC順に表示されます。
 
* ACI0101326 コンパイルモードのみ。ポインター型のプロジェクトメソッドのパラメーターに`Null`が渡された場合，アプリケーションがクラッシュしました。
 
* ACI0101233 View Proエリアのセットアップ中にウィンドウをリサイズした場合，アプリケーションがフリーズしました。`On VP ready`イベント直後のタイミングでJavaScriptの無限ループに陥る可能性があるようです。

* ACI0101060 データ書き出しダイアログ画面で実数型フィールドに数値フォーマットを適用した場合，プレビューエリアに表示される値には小数点が二重に表示されました。プレビュー表示の不具合であり，エクスポートされるファイルは問題ありません。`###, ###, ## 0.00`というフォーマットに問題があります。

* ACI0099336 クライアント/サーバー版のみ。`SET AUTOMATIC RELATION`の設定が`RELATE ONE SELECTION`に反映されませんでした。ORDAのリレーション属性は問題ありません。

* ACI0099046 macOS Big Surのみ。結合文字のダイアクリティカルマーク（`^`など）を入力した場合，別々の文字になりました。

* ACI0102130 Mac版のみ。Apple Siliconターゲットのコンパイルモードでは，ビットワイズ演算値が正しくありませんでした。

* ACI0102127 バイナリデータベースをプロジェクトに変換した場合，ピクチャボタンの`pathname`プロパティがエクスポートされないことがありました。昔のベータバージョンで作成されたボタンで問題が発生するようです。

* ACI0102125 プロジェクトモードのみ。フィールド入力の確定を`REJECT`で拒むことができませんでした。

* ACI0102122 サーバーとの接続が閉じられてしまった場合，`SMTP Transporter.send()`メソッドがエラーを返しました。トランスポーターのkeepAliveが有効にされている場合，前回の`send()`から間隔が空いたときには，まず，リクエストの前に`NOOP`コマンドを送信し，必要であれば，サーバーに再接続するべきです。

* ACI0102118 Mac版プロジェクトモードのみ。高さが`23`ポイントを超過するポップアップドロップダウンメニューをクリックした場合，フォーカスが間違った位置に描画されました。オブジェクトの高さが`23`ポイント以下であれば問題ありません。

* ACI0102113 `Compare strings`とオプションの`sk width insensitive`を使用し，半角と全角を区別しない文字列の比較を実行した場合，半角の濁音と全角の濁音が等価と判定されませんでした。濁点がなければ問題ありません。

* ACI0102112 Write Proドキュメントに挿入されたフィールドの参照などの数式を他のアプリケーションにコピー＆ペーストすることができませんでした。

* ACI0102107 エクスプローラーの「テーブル」ページでテーブルを選択した場合，ダイアログの右側にフィールドリストが表示されますが，「ホーム」ページでは何も表示されませんでした。

* ACI0102106 プロジェクトフォームの`0`ページで入力順を変更した場合，設定が反映されませんでした。

* ACI0102098 クライアント/サーバー版のみ。クライアント側でトランザクション中に保存したリレーション属性を再び保存しようとした場合，エンティティのスタンプがインクリメントされているために保存できないというエラーが返されました。

* ACI0102087 表組内のマージフィールドにフォーマット（例：`MERGEFIELD pt_FC \# $,#.00`）が設定されている`.docx`ドキュメントをWrite Proにインポートした場合，マージフィールド名（`«pt_FC»`）は正しく取り出されますが，`WP Get text`から返されるテキスト値に改行コードが追加されました（`«pt_FC»\r\r`）。

* ACI0102086 Windows版のみ。ライセンス登録者のファーストネームにアクセント文字が含まれている場合，ビルド版アプリケーションを起動すると，ライセンスが有効ではないというエラーが表示され，使用できませんでした。v19でライセンスファイルのBOMが取り除かれたことに伴う副作用のようです。

* ACI0102083 Windows版のみ。`Control`+`Shift`キーを併用して文字を入力した場合，`ON EVENT CALL`でセットしたエラーハンドリングメソッドで返される`KEYCODE`システム変数の値が正しくありませんでした。実際に入力された文字ではなく，押されたキーのコードが返されました。また，`Control`キーを併用して文字を入力した場合，制御コードの値が返されました。

* ACI0102062 `SET DATABASE PARAMETER`のセレクター`98`（スリープ中のクライアントに対するタイムアウト）が適用されませんでした。スリープ中のクライアントに対するタイムアウトを過ぎてもユーザーがドロップされず，接続ライセンスも回復しませんでした。

* ACI0102060 MSCのデータ検証で暗号化の問題が検出され，同じキーでデータを再暗号化して問題を解消した後，もう一度データを再暗号化した場合，MSCに表示されたエラーメッセージが消えませんでした。

* ACI0102053 `GET HIGHLIGHT`を実行するたびに返される値が増えてゆきました。

* ACI0102035 プロジェクトモードのみ。プロジェクトを開くたびに*catalog.4DCatalog*ファイルの内容が更新されました。フィールドなどのヘルプTipsが記述された`<tip>`タグの最後に改行コードが挿入されます。v18.4 HF3までは問題ありませんでした。動作に影響はありませんが，バージョン管理に支障をきたします。

* ACI0102030 フォームに組み込まれたクイックレポートエディター上でカラムのドラッグ＆ドロップを何度も繰り返した場合，エラーが返されました。

* ACI0102029 クライアント/サーバー版のみ。ローカルセットとプロセスセットの間で`INTERSECTION`を実行した場合，作成されるセットの内容が正しくありませんでした。ローカルセットの内容がそのまま返されました。
