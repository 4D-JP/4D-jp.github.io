---
layout: post
title: PROJECT DATABASESシリーズ：コンバートした後
date: 2019-12-02 02:00:00
categories: Tips
tags: 18.x programming
author: Vanessa Talbot
---

![project-database-stylesheet](/images/blog/12-02/CleaningAfterCnversion.png)

このシリーズのブログでは、バイナリー・データベースをプロジェクト・データベースにコンバートする方法を提示してきました。全ての準備が整い、コンバートが成功したら、プロジェクト・データベースを使って作業を始めることができます。しかし、ここでいくつかの疑問が生じるかもしれません：データベース中の全てのフィアるは役に立つのか？”.4DB”ストラクチャ・ファイルがもはや不要であることは明らかです。他のファイルを消去できるのでしょうか。

#### ストラクチャ
バイナリー・データベースでは、アプリケーションの定義は二つのファイル （.4DBと4DIndy）に保存されます。プロジェクト・データベースでは、このファイル中の定義は「Project」フォルダに保存されることに気がつくでしょう。

であれば、変換の後に以下のファイルを両方とも消去できます：
* <database>.4db
* <databae>.4dIndy

![project-database-stylesheet](/images/blog/12-02/structure-768x367.png)


プロジェクト・データベースのアーキテクチャについて更に詳しくは、<a href=“https://4d-jp.github.io”>こちらのブログ</a>をチェックしてください。

#### データ
開発段階では、データをストラクチャの隣に置くのが簡単でした（例：テスティング、他のコンピュータへ移動、など）。しかし、4Dの新しい機能の多くは特定のパラメータやファイルを保管するのに「データの隣」のコンセプトを使用しているため、開発テストで、ストラクチャの横のファイルではなく、データの横のファイルを使用していることを確認するにはどうすればよいでしょうか。

新しいプロジェクト・データベースでは、4Dは「Project」フォルダと同じ階層に「Data」フォルダを作成します。したがって、開発段階でも、データの横に置かれたファイルはストラクチャの横に置かれたファイルとは異なります。

そのため、コンバージョン後には下記のことをお勧めします：

1. DataフォルダをProjectフォルダと同じ階層に作成する。
2. Data.4dとdata.4DIndxファイルを新しいDataフォルダに移動する。

![project-database-stylesheet](/images/blog/12-02/data-768x223.png)

#### 設定
4Dは4D環境に対するユーザー・プリファレンス、データベースにタイルするユーザー・プリファレンス、データベースの設定を持っています。

* 4D環境に対するユーザー・プリファレンスに含まれるのは、例えばメソッドのシンタックスカラーです。バイナリーとプロジェクトの両方のデータベースに対し、これらのプリファレンスは”4D Preferences vXX.4DPreferences”ファイルに保存されます。
* データベースに対するユーザー・プリファレンスや設定に含まれるのは、開いているウィンドウのリストやブレークポイントの位置などです。バイナリー・データベースに対では、この情報は.4DBファイルに保存されます。プロジェクト・データベースでは、この情報は”userPreferences.<name>”フォルダ中のいくつかのファイルに保存されます。
* データベースの設定に含まれるのは、バックアップの構成あるいはアプリケーションの構築のプリファレンスなどです。

要約すると、4Dは「プリファレンス」という語をお互いに関連するユーザー・パラメータに対して使用し、「設定」という語はデータベースに関連するパラメータに使用しています。

より詳しくは<a href=“https://blog.4d.com/deployment-made-easy-with-4d-v18/“>こちらのブログ</a>をご覧ください。

#### 具体的なサンプル
このビデオでは、<a href=“https://blog.4d.com/project-databases-from-binary-to-text-based/“>前回のブログ</a>でコンバートした”Contacts”データベースを使用します。

最初に、ダイヤグラム中の上記のコンセプトを繰り返し実行し、それから”Contacts”データベースを使って結果を示します。

<p style="text-align: center;"><iframe src="https://www.youtube.com/embed/xAaakP02dFE" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>





