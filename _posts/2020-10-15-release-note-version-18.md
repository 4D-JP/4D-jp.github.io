---
layout: fix
title: "4D v18.3 Hotfix 1 修正リスト"
date: 2020-10-15 08:00:00
categories: 修正リスト
tags: 18.3 hotfix
build: 257187
version: 18.3 
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}}  

* ACI0100737 Windows版のみ。システム言語が「英語」に設定されている場合，バックアップ設定の項目「n秒後に再試行」が保存されませんでした。``.4DSettings``ファイルには値が書き込まれていますが，設定画面には``0``と表示されました。

* ACI0101106 プロジェクトモードのみ。データソースに命名セレクションが設定されたリストボックスに``CUT NAMED SELECTION``または``COPY NAMED SELECTION``で作成したセレクションが表示されませんでした。

* ACI0101261 バイナリデータベースをプロジェクトに変換した場合，階層リストの「透過」プロパティがエクスポートされませんでした。

* ACI0101259 ``MAIL New attachment``で作成したメール添付オブジェクトを別プロセスに渡すことができませんでした。

* ACI0101237 Write Proドキュメントにフォーミュラを挿入した場合，行の高さが増加しました。

* ACI0101115 保存モードが「データファイルの外」に設定されているピクチャフィールドに``500``バイト以下のSVG画像を保存した場合，アプリケーションがクラッシュしました。

* ACI0101106 プロジェクトモードのみ。データソースに命名セレクションが設定されたリストボックスに``CUT NAMED SELECTION``または``COPY NAMED SELECTION``で作成したセレクションが表示されませんでした。

* ACI0101293 マルチコアのバーチャルマシンで``Get system info``を実行した場合，返されるコア数が正しくありませんでした。

* ACI0101288 Windows版のみ。統合CEF版Webエリアがマウスホイールのスクロール操作やポインターのホバリングイベントに反応しないことがありました。ACI100774が修正されたことによる副作用のようです。``On Load``イベントではなく，``SET TIMER(-1)``で誘発した``On Timer``イベントでHTMLをロードすれば問題ありません。

* ACI0101213 コンパイルモードのみ。フォームに表示されたタブコントロールの変数が数値型ではなかった場合，フォームを閉じるとアプリケーションがクラッシュしました。

* ACI0101143 プロジェクトモードのみ。大量のオブジェクト（アイコンが設定されたボタン）がフォームに配置されている場合，フォームエディターの動作がとても重くなりました。バイナリモードでは問題ありません。

* ACI0101001 クライアント/サーバー版のみ。ORDAの``IN``条件でクエリを実行した場合，正しい結果が返されないことがありました。フィールドにインデックスが設定されていれば問題ありません。データベース言語が「日本語」で文字列比較用のテキスト比較が「有効」に設定されている場合に問題が再現します。

* ACI0100926 Windows版のみ。進行中のプログレスバーのキャンセルボタンをクリックした場合，コールバックメソッドの呼び出しでエラーが返されました。ローカルプロセスのスタックサイズが不足しているようです。

* ACI0100439 Mac版のみ。box.comからインストールしたBoxアプリが作成したフォルダーに対して``FOLDER LIST``または``DOCUMENT LIST``を実行した場合，空の配列が返されました。

* ACI0100974 ``MAIL Convert from MIME``でメールの本文が取り出せないことがありました。特定の標準テキストメールで問題が再現します。マルチパートメールでは問題ありません。

* ACI0101287 変数にコレクションの要素を代入し，その同じ変数を``For each``ブロックの第１パラメーター（カレント要素），コレクションを第２パラメーターに渡してループ処理を実行した場合，メモリリークが発生しました。

* ACI0101276 プロジェクトモードのみ。テキスト入力ボジェクト（変数）に対して``OBJECT SET LIST BY NAME``が使用できませんでした。

* ACI0101211 PDFファイルが添付された``.eml``ファイルを``MIME Convert to mail``でメールオブジェクトに変換して送信した場合，受信クライアントに添付ファイルが表示されないことがありました。

**注記**: 問題のMIMEファイルは改行コードは``\r\n``と``\r\n\r\n``と\n``がごちゃまぜに使用されており，RFC 822に準拠していません。MIMEパーサーの改良により，添付ファイルを含めてメールが送信できるようになりましたが，結果としてWindows Mailクライアントにはメッセージが表示されないようになりました。Thunderbirdであれば問題ありません。

* ACI0101240 ラベルエディターで連結したフィールドが正しく出力されませんでした。最初のオペランドだけが出力されました。

* ACI0101228 ``WP SET LINK``で設定したプロジェクトメソッドのハイパーリンクがアプリケーションモードではクリックに反応しませんでした。別のウィンドウをアクティブにした後，4D Writeエリアが表示されているウィンドウをアクティブにすれば，使用できるようになります。

* ACI0099073 ストラクチャエディターのインスペクターにリレーション名を入力した後，フォーカスアウトしないままウィンドウを閉じた場合，入力した名前が保存されませんでした。

* ACI0101223 4D Viewドキュメントにピクチャが含まれる場合，PDFエクスポートが正しく出力されませんでした。ピクチャの代わりに``_pict_``という文字列が挿入されました。

* ACI0101227 入力エリアに設定した指定リストおよび除外リストが適用されませんでした。ACI0099771が修正されたことによる副作用です。

* ACI0101141 トランザクション中にエンティティをロックし，ORDAの``entity.drop(dk force drop if stamp changed)``を実行した場合，エンティティは削除されていないのに，ステータスオブジェクトの``success``には``True``が返されました。

* ACI0101200 トランザクション中にレコードを削除してからトランザクションをキャンセルした場合，操作は取り消されますが，レコードがロックされたままになりました。

* ACI0101127 スタンドアロン版のみ。トランザクション中にエンティティをロックし，``VALIDATE TRANSACTION``の後に``entity.lock(dk reload if stamp changed)``を実行した場合，そのエンティティはロックされますが，その後，別のプロセスも同じエンティティをロックすることができました。クライアント/サーバー版では問題ありません。

* ACI0101163 Windows版のみ。名前にピリオドが含まれるフォルダーに``Select document``でファイルを保存しようとした場合，エラーが返されました。

* ACI0101104 Mac版のみ。矢印キーを使用してソフトハイフン記号を越えようとした場合，キャレットがテキストの冒頭に移動しました。

* ACI0100971 クライアント/サーバー版のみ。プロセス毎のデバッグログを有効にした場合，別プロセスにロックされた共有オブジェクトまたは共有コレクションに遭遇すると，ログがブロックされるためにクライアント/サーバー通信が無応答になることがありました。

**注記**: 修正により，デバッガーと同じように``<<Busy>>``と出力されるようになりました。

* ACI0101177 トランザクション中に``SET QUERY AND LOCK``を実行し，インデックスが設定されていないオブジェクト型フィールドをクエリした場合，``VALIDATE TRANSACTION``の後もレコードのロックが解除されませんでした。ACI0101127が修正されたことによる副作用のようです。

* ACI0101116 プロジェクトモードで作成されたコンポーネントの名前に日本語が使用されている場合，コンパイルモードでホストを開始するとエラーが返されました。

* ACI0101151 垂直または水平のラインオブジェクトをグループ化した場合，グループの選択ハンドルが正しく描画されませんでした。図形の始点が右または下にあった場合，グループをリサイズすると，オブジェクトがグループからはみ出てしまいました。高さまたは幅が負の値であるオブジェクトの座標の計算が合っていないためです。

* ACI0100998 Ｎ対１リレーションが設定されたテーブル同士にSQLのプライマリーキーおよび外部キーを設定し，``INNER JOIN T2 ON T2.foreign_key = T1.primary_key``および``GROUP BY``を実行した場合，エラー``1002``が返されました。

* ACI0101186 コンパイルモードでテーブルに対するポインターの逆参照を``PRINT SELECTION``に渡した場合，アプリケーションがクラッシュしました。

* ACI0101079 プロパティリストの「配置」タブでフォームの垂直マージンを変更することができませんでした。「すべて」タブでは問題ありません。

* ACI0101077 プロジェクトモードのみ。入力フォームをサブフォームとして組み込んだ場合，オブジェクトの入力順が無視されました。

* ACI0097765 ツールボックスの「フォーマットとフィルター」ページでテスト用のデータ型を「数値」以外に変更しても，すぐにコンボボックスが「数値」に戻り，値がクリアされました。

* ACI0101165 クイックレポートエディターのクロスタブモードでセルを編集することができませんでした。

* ACI0101161 クイックレポートエディターのクロスタブモードでフッターのコンテキストメニューからスペーシングのオプションを選択した場合，ランタイムエラーが返されました。

* ACI0101126 クロスタブ型クイックレポートのヘッダーをクリックした場合，エラーが返されました。

* ACI0101075 64ビット版の``RECEIVE PACKET``でストップ文字を指定した場合，32ビット版よりもずっと低速（およそ``75``倍）でした。バイトサイズを指定した場合，または``RECEIVE BUFFER``であれば問題ありません。シリアル/USB変換アダプター・プラットフォーム・接続デバイスに関係なく，問題が再現します。

* ACI0101069 ``vk workbook``スコープのレンジ名がセルに設定されている場合，``VP Get value``または``VP SET VALUES``の名前を指定してアクセスすることができませんでした。スコープがカレントワークシートであれば問題ありません。

* ACI0101204 ビルドしたアプリケーションでは，``command``+``shift``+``F9``ショートカットでランタイムエクスプローラーを表示することができませんでした。

* ACI0101182 巨大なWrite Proドキュメント（A4用紙で1100ページ以上）のテキストをすべて選択した状態でコンテキストメニューを表示するために右クリック操作をした場合，アプリケーションがフリーズしました。

* ACI0101179 クイックレポートのクロスタブモードでヘッダーを右クリックし，コンテキストメニューのサブメニュー項目を選択した場合，ランタイムエラーが返されました。リストモードとは列の数が同じではないことが考慮されていないようです。

* ACI0100909 ``On Load``イベント中に``LISTBOX SELECT ROW``を使用し，リストボックスの行をあらかじめ選択した場合，上矢印キーを入力すると最終行が選択され，下矢印キーを入力すると``1``行目が選択されました。配列型のリストボックスでは問題ありません。セレクション型およびコレクション型のリストボックスで問題が再現します。ACI0099586が修正されたことによる副作用のようです。

* ACI0101150 重複キーが検出された場合にRESTサーバーから返されるレスポンスに問題がありました。JSONの後に空のノード（``{}``）がありました。

* ACI0100901 値に``Null``が含まれるフィールドを``SQL LOAD RECORD``でテキスト配列に受け取った場合，アプリケーションがクラッシュしました。たとえばMySQLデータベースとのODBC接続で問題が再現します。
