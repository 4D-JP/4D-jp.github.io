---
layout: fix
title: "4D v17.0 修正リスト"
date: 2018-07-05 20:06:00
categories: 修正リスト
tags: "17.0" 
build: 225365
version: 17.0

---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}}  

* ACI0098038 日本語変換中は矢印キーでカーソルの位置を移動することができませんでした。

* ACI0098129 ``LOAD VARIABLES``でオブジェクト型変数をロードするとアプリケーションがクラッシュしました。

* ACI0098157 データベース言語が「日本語」に設定されており「旧バージョン互換のテキスト比較」が有効（デフォルト）にされている場合，長音記号が単純な記号としてではなく，母音を引き延ばす発音記号として検索されました。たとえば，「あんがーるず」の「ア」を置換または検索しようとした場合，「がー」の「ー」も「ア」と同等であるとみなされました。

**注記**: Unicodeライブラリの「ICU」がバージョンされたことにより，「旧バージョン互換のテキスト比較（traditional）」設定が従来のように効かなくなったことが原因です。修正により，「検索用のテキスト比較（searching）」がデフォルトで使用されるようになりました。

* ACI0098025 クリックイベントでカレントウィンドウのフォームが切り替わった直後，フォーカス可かつタブ不可に設定されたボタンオブジェクトにフォーカスが移動した場合，日本語入力メソッドが利用不可になりました。新規ウィンドウでダイアログが表示されたのであれば，問題ありません。フォーカスをタブ移動すれば，再び日本語入力メソッドが利用できるようになりますが，そのためには，フォーカスを得たオブジェクトがタブ可に設定されていなければなりません。

* ACI0097676 Windows版のみ。日本語入力中に表示される変換文節の下線には，太い線と細い線がありますが，リストボックスのセル内でテキストを編集しているときには，下線の位置がセルの下端に接近し過ぎているため，太さの違いが識別ができませんでした。DirectWriteモードでリストボックスをレンダリングしている場合に問題が発生します。GDIモードでは問題ありません。

* ACI0098004 2ページ目にリストボックスを表示した場合，入力不可のブール型カラム（チェックボックス表示）が入力可であるかのように描画されました。

* ACI0097992 Windows版のみ。4D Write ProでTrue Typeフォントが使用できませんでした。

**注記**: DirectWriteのファミリー名（例：``Wright Sans``）で指定することができます。通常のフォームオブジェクト（変数・フィールド）はGDIを使用しているため，プロパティリストには引き続きGDIのファミリー名が表示されます。

* ACI0097932 Mac版のみ。PDF画像を印刷した場合，``OPEN PRINTING JOB``および``CLOSE PRINTING JOB``コマンドでメモリーリークが発生しました。プリントジョブを終了しても，プロセスを終了するまでは印刷で使用したメモリが解放されないため，同一プロセス内で大量のページ数を印刷した場合，アプリケーションがクラッシュする恐れがありました。

* ACI0098002 Windows 32ビット版のみ。フォームを何度も開いたり，閉じたりしていると，メニューバーが解放されるタイミングでアプリケーションがクラッシュする場合がありました。

* ACI0097998 クライアント側のファイルメニューからデータベースを閉じ，同じサーバーアプリケーションに接続した後，クライアントをスリープさせた場合，スリープから復帰するとクライアントがフリーズしました。

* ACI0097381 Mac 32ビット版のみ。``SET CURRENT PRINTER``が初回は効きませんでした（「すべてのプリンター」の設定が有効になりました）。2回目以降の印刷は問題ありません。

* ACI0097946 コンボボックスに入力されたテキスト選択してペーストボードにコピーすることができませんでした。カット操作であれば問題ありません。

* ACI0097937 Windows版のみ。``SET WINDOW RECT``を使用した場合，右下にあるリサイズハンドルがウィンドウのリサイズに伴って移動しませんでした。

* ACI0097934 Mac 64ビット版のみ。``GRAPH``で作成したグラフ画像をコンテキストメニューの「コピー」で転写することができませんでした。``graphNumber``でグラフ番号を指定した場合に問題があります。``graphSettings``オブジェクトで設定した場合は問題ありません。

* ACI0097933 Windows 64ビット版のみ。ようこそ画面（CEF版Webエリアを使用している）からデータベースを開いた場合，一部のプラグインが読み込めませんでした。直接，ドラッグ＆ドロップ等でストラクチャファイルを開いた場合は問題が発生しません。CEF版のWebエリアが内部的にDLLの検索パスを追加する``SetDllDirectory``を使用しているためです。

* ACI0097924 新ネットワークレイヤーのみ。リストフォームのクリックイベントなどで``ON EVENT CALL``が使用された場合，ネットワークの品質や状態により，「ヌル終点」エラーが発生することがありました。サーバーがバーチャルマシン上で運用されていたり，サーバーがWindowsでクライアントがMacの場合，ネットワークのデータ転送遅延（リクエストの対する反応時間）が長くなるため，容易に発生します。

* ACI0097921 テキスト入力位置を示すキャレットの色がブラックに固定されているため，背景色が暗いオブジェクト上では場所を判別することが困難でした。

* ACI0097904 サーバーに接続した後，ファイルメニューからデータベースを閉じ，「最近使用したデータベース」メニューから同じサーバーに接続すると，アプリケーションがクラッシュしました。

* ACI0097891 Mac 64ビット版のみ。ヘルプメニューからサーバー管理画面を表示することができませんでした。日本語版特有の問題です。``OPEN ADMIN WINDOW``あるいはツールバーのアイコンを使用すれば表示することができます。

* ACI0097882 PHPのODBC経由で日付型のデータを4Dから取り出した場合，（v12やv13のように）時間ではなく，タイムスタンプ型で返されました。

* ACI0097867 Window版のみ。最大化されたウィンドウで``MODIFY RECORD``を実行した場合，画面が正しく再描画されませんでした。

* ACI0097866 SQLで4Dメソッドを呼び出した場合，ランダムにアプリケーションがクラッシュすることがありました。

**注記**:キャッシュがいっぱいになると，キャッシュの10%（デフォルト値）が強制的にパージされ，データフラッシュが発生します。このとき，データベース設定の「インタフェース」で「フラッシュの進捗状況」が有効にされていると，「ディスク書き込み」ダイアログが表示されます。このローカライズが``XLIFF``ではなく，``RSR``ファイルに由来していたため，プリエンプティブスレッドで実行されているSQLコードからスレッドセーフではないAltura Mac2Win（``ASINTPPC.dll``）のAPIが呼ばれていたことが原因でした。

* ACI0097860 リストボックス行の高さを「自動」に設定し，縦スクロールバーの表示を「自動」または「はい」に設定した場合，表示されている行の高さの合計がリストボックスの高さを超えない限り，垂直スクロールバーは表示されませんが，その状態で``LISTBOX INSERT ROWS``でリストボックスの高さを超えるまで行を追加しても，垂直スクロールバーが表示されませんでした。また，クリック操作で正しく行を選択することもできません。リストボックス行の高さを「自動」に設定されていなければ問題ありません。

* ACI0097841 フランス語版のみ。``'PRINT SETTINGS``の定数，``Dialog impression``および``Dialog de format impression``がコードエディター上で正しくトークナイズされませんでした。

* ACI0097838 オブジェクト型フィールドのスカラー属性に対する4D Mobileクエリの結果が正しくありませんでした。

* ACI0097834 64ビット版のみ。サーバー管理画面を閉じた後，メニューから再表示させることができませんでした。

* ACI0097832 配列型のリストボックスで一部の行を非表示に設定している場合，垂直スクロールバーおよび行の高さが「自動」に設定されていると，垂直スクロールバーが正しく描画されませんでした。

* ACI0097831 親フォームの背後に隠れてしまった子ウィンドウをスペースバーで前面に移動することができませんでした。

* ACI0097826 Windows版のみ。ビルドしたアプリケーションにカスタマイズされたアイコン（``.ico``）を設定しても，サーバー管理画面やランタイムエクスプローラーにはそのアイコンが表示されませんでした。

* ACI0097798 オブジェクト記法を有効にした場合，一部のコードがコンパイルできなくなりました。下記はコンパイルができないコードの例です。

* ACI0097791 ``WEB SERVICE GET RESULT``で問題が発生した場合，4D View Proライセンスがない，というエラーメッセージが表示されました。エラーメッセージのXLIFFリソースが同じ``94``という``id``を使用しているためです。

* ACI0097787 v15で作成したリストボックスをv16に変換した場合，フッター変数の「型」が正しくありませんでした。数値型に設定されていたものがテキスト型になりました。

* ACI0097785 問題のあるメソッドを削除することにより，画面に収まらないウィンドウ座標が``ObjectMethodEditor.json``ファイルに書き込まれ，以後，新規に作成したメソッドが画面に表示されなくなることがありました。

* ACI0097778 ``BASE64 ENCODE``から返される文字列は，``40,000``文字ごとに改行コード``CR`` ``LF``が挿入されました。

* ACI0097764 64ビット版のみ。フォームエディターのプロパティリスト上で「すべて選択（``Control``/``command``+``A``）」に続けて「コピー（``Control``/``command``+``C``）」の操作をした場合，初回はうまく行かず，もう一度，操作をする必要がありました。矢印キーなどでテキスト範囲を選択した場合は問題ありません。リストボックス内でテキストを入力した直後に「すべて選択」を実行すると問題が発生します。

* ACI0097740 無効な``HTTP Request``をコールがステータスコード``200``を返しました。``0``が返されるべきです。

* ACI0097738 PICT形式など，プラットフォームでサポートされていないフォーマットの画像が4D Write Pro文書に挿入されている場合，表示ができないことを知らせるアイコンではなく，空の画像が表示されました。

* ACI0097730 ``«wr_number :###.##0,00»``または``«wr_number :###,##0.00»``のようにフォーマットされた数値が含まれた4D Write文書が正しく4D Write Pro文書に変換することができませんでした。``String(wr_number ;"###.##0.00"``のように，ヨーロッパ式の小数点（カンマ）がピリオドに変換され，桁区切りと小数点が同じ記号になりました。

* ACI0097723 4D Write Pro文書に2個以上の表が組まれている場合，``ST INSERT TEXT``でセルにテキストを挿入すると，その行の高さ計算が正しくありませんでした。

* ACI0097722 64ビット版のみ。クイックレポートエリアをフォームに組み込んだ場合，4D Viewのライセンスが必要になりました。

* ACI0097715 64ビット版のみ。テーブルに非表示フィールドが存在する場合，そのフィールド以降のフィールドタイトルがクイックレポートエディターに正しく表示されませんでした。

* ACI0097707 macOS High Sierraのみ。言語と地域の設定に複数の言語がリストアップされている場合，英語のシステム日付フォーマットが採用されました。英語がリストに含まれていなければ，問題ありません。

* ACI0097706 テーブルタイトルやフィールドタイトルが設定されている場合，その名称をクエリエディターのフォーミュラーに含めるとシンタックスエラーが返されました。``SET TABLE TITLES``や``SET FIELD TITLES``に``*``オプションが渡されたのであれば，仮想ストラクチャの参照をフォーミュラーに含めても良いはずです。

* ACI0097701 macOS 10.13 High Sierraのみ。メソッドのコードをコマンドまたはメニューを実行して書き出すと，一時ファイル（``{UUID}.temp``）がデスクトップに作成されました。新しいファイルシステム（APFS）特有の問題です。

* ACI0097697 Mac版のみ。指定リストが関連づけられたリストボックス列は，ポップアップメニューをクリックし，上下矢印キーで値を決定すると，それ以降，上下矢印キーで内容が変更できなくなりました。

* ACI0097696 Windows版のみ。リストフォームのスクロールがぎこちない感じです。

* ACI0097690 ``String``の引数として，直接，``Sum``, ``Min``, ``Max``などの統計関数を渡した場合，エラー``54``（引数の型が一致しません）が返されました。``*1``や``+0``などの演算子を添えて式の型を特定すれば問題ありません。

* ACI0097683 Windows版のみ。システムのアピアランスを「クラシック」テーマに設定した場合，サーモメーターの目盛りが部分的にしかフォームエディターに表示されませんでした。

* ACI0097656 素早く続けてボタンまたはサブフォームを（ダブル）クリックした場合，最初のイベントメソッドが完了するよりも先に次のイベントメソッドが実行されることがありました。たとえば，クリックイベントで``ALERT``コマンドなどを実行してモーダルダイアログを表示した場合，フォームを閉じることができなくなり，アプリケーションを強制的に終了するしかありませんでした。

* ACI0097641 表示されていないページのリストボックスに対して``LISTBOX SET COLUMN WIDTH``を使用することができませんでした。たとえば，``On Load``イベントやページ移動と同時に列の幅を設定することができませんでした。

* ACI0097639 Mac版のみ。フォームエディターでリソースフォルダーからピクチャボタンに画像をドロップした場合，アプリケーションがクラッシュすることがありました。

* ACI0097575 クライアント側のメソッドエディターで設定したブレークポイントがランタイムエクスプローラーに反映されないことがありました。

* ACI0097557 Mac 32ビット版のみ。デザインモードのメソッドエディターまたはフォームエディターのウィンドウが開かれた状態でアプリケーションを終了した場合，再開時にそれらrのウィンドウが以前の位置に表示されませんでした。

* ACI0097539 大量のSOAPリクエストを処理すると，サーバーが突然に終了することがありました。サーバー側で管理画面を表示していると，さらに問題が起こりやすくなるようです。

* ACI0097533 オブジェクト記法を使用してオブジェクトの内部オブジェクトに新しい値を代入した場合，オブジェクトの更新が認識されませんでした。明示的に親オブジェクトを更新する必要がありました。

* ACI0097497 Windows版のみ。ビルドしたSDIモードのアプリケーションの場合，複数のインスタンスが同時に起動できてしまいました。MDIモードであれば問題ありません。デザインモードとは違い，ビルドしたアプリケーションは，二重に起動できないようになっているべきです。

* ACI0097426 ``Alt``キーを押しながらビルドしたクライアントアプリケーションを起動し，表示させたログインダイアログの「このダイアログを次回起動時に表示」を有効にした場合，クライアントを再起動してもログインダイアログが表示されませんでした。

* ACI0097390 ``On Web Connection``データベースメソッドで``WEB SEND TEXT``の後に``QUERY SELECTION``がコールされた場合，アプリケーションがクラッシュしました。

* ACI0097373 64ビット版のみ。新クイックレポートエディターの「新規作成」ボタンに問題がありました。ツールモードでエディターを開いた場合，ボタンをクリックしても何も起きません。ウィジェットモードでエディターを開いた場合，ボタンをクリックするとシンタックスエラーが返されました。

* ACI0097346 フォームにロードされた直後にクリックした場合，あるいは直接キーボードで値を入力した場合， 日付ピッカーウィジェットの表示が正しくありませんでした。

* ACI0097254 ``IMAP_SetPrefs``で設定したパス名にウムラウト記号が含まれている場合，``IMAP_MsgLst``を実行するとエラー``-120``が返されました。

* ACI0097167 デザインモード検索で更新日が「昨日以降」のオブジェクトを検索した場合の結果が正しくありませんでした。指定とは逆の条件でオブジェクトが返されました。

* ACI0096868 64ビット版のみ。ラベルエディターで設定ファイルを書き出した場合，システム変数``DOCUMENT``が更新されませんでした。

* ACI0096779 ローカルパスに拡張文字が含まれている場合，``FTP_Send``がエラー``-43``を返しました。Mac版では，ファイルが送信されません。Windows版では，転送が成功しますが，指定したファイル名がサーバー側で文字化けしました。

* ACI0096656 ``IMAP_Search``を使用して``Message-ID``ヘッダーでメッセージを検索した場合，対象になるはずのメッセージが結果に含まれないことがありました。

* ACI0096484 フォルダー名にウムラウト記号が含まれている場合，``IMAP_SetPrefs``からエラーが返されました。

* ACI0097983 Windows版のみ。サービス起動したサーバーアプリケーションは，クライアント側のサーバー管理画面（アプリケーションサーバー）の「サービス起動」が常に「いいえ」と表示されました。

* ACI0097972 デバッガのコールスタック（呼び出し連鎖）に表示される別メソッドのローカル変数を「式」ペインに表示させると，値が``undefined``と表示されました。

* ACI0097952 クライアント/サーバー版のみ。データベース設定の「SQL」ページに表示されるIPアドレスは，常にサーバー側のものですが（クライアント側にSQLサーバーは存在しないため），クライアント側で表示した場合，クライアントから見たサーバー側のIPアドレスが表示されました。期待されるのは，サーバー側のIPポリシーに基づくサーバー側のIPアドレスが表示されることです。

* ACI0097918 Windows版のみ。リストボックスの「自動行高さ」プロパティが有効にされている場合，``On Load``イベントで一部の行を非表示（``lk row is hidden``）にするとアプリケーションが終了しました。

* ACI0097864 システムの日付フォーマットが「ベルギー/ドイツ語（``DD-MM-YYYY``）」に設定されている場合，4Dの日付フォーマット``System date short``は年が2桁しか表示されませんでした。

* ACI0097809 64ビット版のみ。``%Report``サブフォームが組み込まれたフォームを実行するとエラーが返されました。

* ACI0097756 64ビット版のみ。CEF版WebエリアのURL変数にフィルター定義されたURL文字列を代入した場合，``On URL Filtering``イベントが発生しませんでした。システム版のWebエリアでは問題ありません。

* ACI0096454 複数のワーカーが同一のファイルに対して``Append document``, ``SEND PACKET``, ``CLOSE DOCUMENT``を同時に実行した場合，書き込みの競合が発生することがありました。

**注記**: ``KILL WORKER``の仕様が見直されました。終了コマンドを発行したワーカーに対して``CALL WOKER``がすぐに呼ばれた場合，新しく作成されたワーカーは，以前のワーカーが完全に終了するまで待機するようになり，同じワーカーが同時にメソッドを実行することがないようになりました。

* ACI0096587 CPUのスペックがi3プロセッサー以下の場合，メソッドエディターの反応速度が極端に落ちました。行数が数万行を超えるメソッドを編集しているときに問題が顕著です。

* ACI0096698 ツールバーの「ユーザー＆グループ」ページは，4D Writeプラグインがインストールされていない限り，4D Write Proのライセンス設定ができませんでした。デスクトップ版はアプリケーションにプラグインが内容されていますが，クライアント/サーバー版の場合，ストラクチャレベルにプラグインがインストールされていなければなりません。4D Write Proしか使用しないのであれば，プラグインの有無は関係ないはずです。

* ACI0097102 ``WP INSERT DOCUMENT``に第1引数に（レンジではなく）オブジェクトを渡すと，エラーが返されました。

* ACI0097252 Windows 64ビット版のみ。ビルドしたクライアントアプリケーションをタスクバーにピン留めし，``0.8``秒以下の短い間隔で連続クリックすると，アプリケーションが二重に起動し，両方でエラーが返されました。ゆっくり操作すれば，二重に起動することはなく，また起動したインスタンスでサーバーに接続できます。

* ACI0098042 4D RemoteでWebサーバーを実行した場合，他のプロセスとの競合により，デッドロック状態に陥ることがありました。Webプロセスを初期化するときに4D Serverのユーザー＆グループ管理システムを同期させる方法に問題がありました。

* ACI0097895 クエリエディターでフィールドリストの項目を上下矢印キーで選択した場合，縦スクロールが効かず，表示されたリストの外にあるフィールドを選ぶことができませんでした。

* ACI0097966 64ビット版のみ。ラベルエディターの用紙設定で「横向き」を選択しても，縦向きのドキュメントがプリントアウトされました。

* ACI0097986 コンパイルモードで``SET ASSERT ENABLED``に``False``を渡した場合，カレントプロセスだけに設定が適用され，セッション全体に適用されませんでした。

* ACI0095913 スタイル付きテキストの``<span>``の中では``text-align``属性が無視されました。

* ACI0097864 システムの日付フォーマットが「ベルギー/ドイツ語（``DD-MM-YYYY``）」に設定されている場合，4Dの日付フォーマット``System date short``は年が2桁しか表示されませんでした。

* ACI0097945 クライアント/サーバー版のみ。``Set user properties``の後に``CHANGE CURRENT USER``を実行すると，エラーが返されました。

* ACI0098079 外部ファイルにレコードが保存されるようにフィールドのプロパティを設定した場合に問題がありました。レコードを削除してもファイルが自動的に削除されません。また，100件毎にサブフォルダーが作成されませんでした。

* ACI0098069 ``LISTBOX GET ARRAYS``を実行すると，新しいメタ式配列が4番目に，行管理配列が5番目に返されました。互換性のため，新しい配列は一番最後に返されるべきです。

* ACI0097964 32ビット版のみ。データベースがアプリケーションモードで開始され，スプラッシュ画面が非表示で，アプリケーションプロセスに``SET MENU ITEM``でメニューバーが設定された場合，新規プロセスで開かれたフォームは，設定された連結メニューバーの編集メニューが効きませんでした。

* ACI0097853 リストボックスが表示されているウィンドウから，同じフォームを続けてダイアログ表示した場合，入力不可のブール型カラム（チェックボックス表示）が入力可であるかのように描画されました。

* ACI0097633 64ビット版のみ。ラベルエディターで``&``または``%``記号をはさんでフィールドを連結した場合，文字のフォント色が赤になりました。

* ACI0096866 デフォルトユーザー設定が有効にされている場合，``CHANGE CURRENT USER``で切り替えたユーザー名ではなく，デフォルトのユーザー名が``LOCKED BY``から返されました。

* ACI0098098 フランス語版は定数``Web Client IP address to listen``がローカライズ（``Web client adresse IP d’écoute``）されていませんでした。

* ACI0094811 コマンドで作成したメニューバーに対して``RELEASE MENU``をコールしなかった場合，アプリケーションが終了時にクラッシュしました。

* ACI0096115 ``On Server Startup``データベースメソッドで``SET MENU BAR``コマンドを実行すると，サーバーがクラッシュしました。

* ACI0097984 アプリケーションプロセスが延期されている状態で，サーバー管理画面でユーザーをドロップした場合，クライアント側で「接続が切断されました。深刻なエラー」メッセージが表示されました。

**注記**: v16では，アプリケーションプロセスが延期されることはないので，問題を再現するためには，新規ユーザープロセスを起動する必要があります。

* ACI0098094 日付配列に対して``Min``や``Max``などの統計関数が使用されていた場合，コンパイラーからエラーが返されました。

* ACI0098149 プリエンプティブモードで実行中のプロセスをランタイムエクスプローラーで選択し，変数を表示させようとすると，アプリケーションがクラッシュしました。プリエンプティブモードで実行されているワーカーなどのプロセス変数は（外部から参照できない以上）入力されても無視されるべきです。

**注記**: プリエンプティモードで実行されているワーカーやプロセスは，ポップアップメニューから選択できないようになりました。

* ACI0094683 2個以上の要素を有する配列を使用し，インデックスが設定されたフィールドに対して``QUERY WITH ARRAY``を実行した場合，ワイルドカード文字（``@``）がヌルまたは空の文字列に対して効かず，該当する位置に少なくとも1個は文字がなければなりませんでした。インデックスが設定されていなければ問題ありません。

* ACI0098188 コンパイルモードで``Min``や``Max``などをレコードに対して使用して戻り値をポインターで逆参照された変数に代入した場合，ポインターによるタイプの再定義エラーが返されました。配列に対して統計関数を使用した場合には問題ありません。

* ACI0098128 4D Write Proの文章の背後に表示されたピクチャーを``command``+クリック操作で選択することができませんでした。

**注記**: 問題はテキストのボディ部分に``id``が設定されている場合に発生しました。つまり，4D Write Proのボディに``img1``という``id``を設定し，その背後にピクチャを追加した場合，ピクチャを選択することができませんでした。

* ACI0097930 配列型のリストボックスで行の高さおよび垂直スクロールバーが「自動」に設定されており，一部の行を非表示に設定（あるいは設定解除）した場合，連動して垂直スクロールバーが自動的に表示（あるいは非表示に）されませんでした。

* ACI0098136 オブジェクト記法が有効にされているデータベースでシンタックスチェックまたは型定義メソッドの作成を実行した場合，アプリケーションがクラッシュすることがありました。

```
If (True)	
	TEST (${1};${2};${3}) 
End if
 ```

* ACI0098107 4D Write Proでコンテキストメニューから用紙のサイズや方向を変更した場合，該当するコンテキストメニュー項目にチェックマークが表示されませんでした。

* ACI0097975 オブジェクトから作成されたダイナミックフォームの実行コンテキストで``Current method name``を実行した場合，``untitled``という文字列が返されました。

* ACI0097668 32ビット版のみ。空の``4LB``ファイルをラベルエディターで開いた場合，アプリケーションがクラッシュしました。

* ACI0098223 定数``OCI_STMT_DECLARE ``の値が正しくありませんでした。``39``ではなく``9``であるべきです。

* ACI0098104 データベースをv17にアップグレードした場合，「4D Mobileサービスで公開」プロパティが有効にされていないテーブルあるいはフィールドはORDAでアクセスできませんでした。

* ACI0098165 16.3以前に作成したWrite Pro文書のレコードを16R6以降で開いた場合，オブジェクトの中に属性が2個ずつ作成されました。

* ACI0098178 64ビット版のみ。``IMPORT DATA``の第1引数に空の文字列（``""``）が渡した場合，ファイル選択ダイアログが表示されませんでした。

* ACI0098271 特定の条件が揃った場合，4D Write Proの取り消し（``undo``）操作で直前に入力した文字だけでなく，キャレットの右隣にある1文字が余計に削除されました。

* ACI0098264 Windows 10 アップデート ``1803``以降，サービスとして登録された4D Serverの起動時にエラー``193 0xC1``が返されるようになりました。ビルドして署名したサーバーアプリケーションをサービスとして起動した場合にだけ問題が発生します。

* ACI0098236 Windows版のみ。Microsoftの[自己署名証明書](https://msdn.microsoft.com/en-us/library/windows/desktop/jj835832.aspx)を発行して[署名ツール](https://msdn.microsoft.com/en-us/library/aa387764.aspx)で64ビット版のOEMサーバーアプリケーションを署名することができませんでした。

**注記**: 回避策として[``delcert``](https://github.com/MadhukarMoogala/delcert)などで証明書を取り除いてから改めてサーバーアプリケーションに署名することができます。

* ACI0098063 64ビット版クイックレートエディターのタイトルに``n``の文字をタイプ入力すると，「レポートを開く（ファイル選択）」ダイアログが表示されました。

* ACI0098253 ``&``の文字が含まれているSVG画像を``SVGTOOL_show_in_viewer``メソッドで開いた場合，エラー`` -20002``が返されました。

* ACI0098237 ``SEND RECORD``で書き出したv2004のレコードをv14以降の``RECEIVE RECORD``で読み込もうとした場合，アプリケーションがクラッシュしました。

* ACI0097938 Windows Server 2008 R2，Windows Server 2012のみ。特定のマシンでは``Graphics.dll``が原因でアプリケーションがクラッシュしました。

* ACI0098194 リストボックス列の幅をフォームエディターのプロパティリストに入力した後，そのリストボックスの位置やサイズを変更すると，列の幅に加えた変更が失われました。ビルド``221608``で問題が発生しました。

* ACI0097994 4D Serverのライセンス（Team Developer Professionalではない）でクライアント側でシンタックスチェックや変数定義の生成を実行した場合，完了を伝えるメッセージがコンパイラー画面に表示されませんでした。

* ACI0097889 4D Writeプラグインで作成した文書（``4W7``）を4D Write Proで開いた場合，読み込みに時間がかかりました（``0.2``秒だったものが``0.4``秒に）。

* ACI0098320 プラグインコマンドが使用されているストラクチャをコンパイルした場合，``IsPluginCommandThreadSafe``の呼び出しによってアプリケーションがクラッシュすることがありました。

* ACI0098184 4D Write文書に埋め込まれた``Num(...) * "..."``のような式は，4D Write Proに変換した後，正しく評価されませんでした。

* ACI0097912 クライアント/サーバー通信の暗号化が有効にされており，データベース設定でアプリケーション開始時にWebサーバーが自動的に起動するように設定されていた場合，中間証明書のチェーンが不完全となり，セキュリティ評価が下がりました。メニューやコマンドでWebサーバーを起動した場合には問題ありません。

* ACI0098278 4D Write文書を4D Write Proに変換した後，テキストが失われてしまい，空のページになってしまうことがありました。

* ACI0098127 データベース設定の『Web』ページで，待ち受けIPアドレスを指定してからWebサーバーを開始したとしても，実際には『任意』，つまりすべてのIPアドレスでリクエストを受信しました。そのため，別のIPアドレス/同じポート番号で他のサーバーを起動することができず，また他のサーバーがすでに起動している場合は4DのWebサーバーを起動することができませんでした。``WEB SET OPTION``あるいは``SET DATABASE PARAMETER``で``Web IP address to listen``を指定しても結果は同じです。

**注記**: 問題は，IPv6サポート（16R4）と関係がありました。

* ACI0098321 Mac版のみ。ビルドしたサーバー版アプリケーションでMSCの検査を実行すると，クラッシュする場合がありました。ビルドしたデスクトップ版やインタープリターモードでは問題ありません。

* ACI0098269 クライアント側で``CHANGE CURRENT USER``を実行しても，サーバー側の管理画面には（何時間経過しても）カレントユーザーの変更が反映されませんでした。

* ACI0098261　``MODIFY SELECTION``で表示した出力フォームからダブルクリック操作で入力フォームに移行した場合，リストボックスのチェックボックスは（入力可であっても）入力不可であるかのように表示されました。

* ACI0098115 ``LISTBOX SET PROPERTY``コマンドで``lk font color expression``, ``lk font style expression``, ``lk background color expression``いずれかのプロパティに空の文字列を渡すと，アプリケーションがクラッシュしました。

* ACI0098391 ORDAで新規レコード（エンティティセレクション）を作成した場合，自動UUIDタイプのプライマリーキーに対して新しい値が発行されませんでした。自動インクリメント（倍長整数型）であれば，問題ありません。

* ACI0098388 32ビット版のみ。旧バージョンでは問題なかった，サードパーティ社製のプラグインコマンドを使用すると，終了時にアプリケーションがクラッシュしました。

**注記**: 別スレッドからプラグインSDKをコールしてハンドルを作成していることが原因です。返されたエラーコードを無視して無効なハンドルを使用しているためにクラッシュしています。修正により，別スレッドでもプラグインSDKをコールしてハンドルを作成することができるようになりました。
