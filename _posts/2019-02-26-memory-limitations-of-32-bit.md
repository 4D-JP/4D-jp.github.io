---
layout: post
title: "Mac 32ビット版の動作が不安定な場合"
date: 2019-02-26 12:25:00
categories: 注意点
tags: 17.x preferences
version: 17.x
---

Mac 32ビット版のアプリケーションがこれといった法則性もなく，頻繁にクラッシュするように思える場合，キャッシュメモリの設定を大幅に減らす必要があるかもしれません。

たとえば，アプリケーションモードからデザインモードに切り替えた直後，印刷ジョブを完了した直後，4D Writeプラグインエリアを操作した直後にアプリケーションがクラッシュする場合，クラッシュレポートの一番下にある使用メモリの合計が下記のようになっていることがあります。

```
===========                     =======  ======= 
TOTAL                              3.8G     2447 
TOTAL, minus reserved VM space     3.8G     2447 
```

32ビット版のアプリケーションがアクセスできるメモリ空間は，``4``GiBに限定されています。Mac版のアプリケーションは，「利用可能フォント」をすべてロードするため，フォントがかなりのメモリサイズを占有することを意識しなければなりません。加えてアプリケーションのキャッシュサイズに``1``GiB程度を予約した場合，ほとんどメモリ空間が残されないことになります。安定してアプリケーションを使用するためには，必要のないフォントを「使用停止」に設定したり，アプリケーションのキャッシュサイズを数百MiBに抑えるなどして，メモリを上手にやりくりしなければなりません。

こうした問題は，64ビット版のアプリケーションに移行すれば自然に解消されます。なお，17r5以降，32ビット版の4Dはリリースされませんので，32ビット版を使用しているのであれば，早期に移行の計画を立てることが勧められています。
