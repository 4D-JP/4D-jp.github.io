---
layout: fix
title: "4D v18r5 修正リスト"
date: 2021-01-18 08:00:00
categories: 修正リスト
tags: 18r5  
build: 260507
version: 18r5

---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}}  

* ACI0101600 ヌル終点エラー（ネットワーク切断）が突発的に発生しました。ネットワークリクエストログ（サーバー側）を解析すると，プロセスがアイドル接続タイムアウトから復帰するタイミングでネットワーク接続の例外が発生していることがわかります。

```
900562 2020-12-11 22:47:48 [APPL] INFO - 4D application, resume connection, task #-1
900563 2020-12-11 22:47:48 [APPL] ERROR - 4D client session, restore, failed to create connection, task #-1
900564 2020-12-11 22:47:48 [APPL] ERROR - 4D connection, failed to use, task #-1
900565 2020-12-11 22:47:48 [srvr] ERROR - [16] 4D connection, write exactly, failed to write, task #-1, socket -1
900566 2020-12-11 22:47:48 [APPL] ERROR - 4D request, send, critical net trigger, error -10002, task #-1
900567 2020-12-11 22:47:48 [APPL] ERROR - 4D controller task, critical net error signal, task #-2
```
**注記**: 接続リクエストは２ステップで構成されていますが，第１ステップが不成功に終わった場合，特殊な条件で第２ステップに進むことがあり，その場合が想定されてなかったことが原因でした。Microsoftのソケット実装は，この点で仕様に曖昧な点があることも関係しています。

> Until the connection attempt completes on a nonblocking socket, all subsequent calls to connect on the same socket will fail with the error code `WSAEALREADY`, and `WSAEISCONN` when the connection completes successfully. Due to ambiguities in version 1.1 of the Windows Sockets specification, error codes returned from connect while a connection is already pending may vary among implementations. As a result, it is not recommended that applications use multiple calls to connect to detect connection completion. If they do, they must be prepared to handle `WSAEINVAL` and `WSAEWOULDBLOCK` error values the same way that they handle `WSAEALREADY`, to assure robust operation.
  
<i class="fa fa-external-link" aria-hidden="true"></i> https://docs.microsoft.com/en-us/windows/win32/api/winsock2/nf-winsock2-connect

* ACI0101608 プロジェクトモードのみ。MSCでデータファイルの暗号化を設定した後にMSCの検証を実行した場合，「テーブルの暗号化が設定されていないのにレコードが暗号化されている」という趣旨のエラーが返されました。

* ACI0101599 macOS Big Surのみ。4D Serverの管理画面にシステムバージョンが「macOS 10.16」と表示されました。

* ACI0101594 [`#DECLARE`](https://developer.4d.com/docs/ja/Concepts/parameters.html)構文を使用しているメソッドの戻り値のパラメーター名が省略されている場合，未定義が返されました。ACI0101458が修正されたことによる副作用のようです。

* ACI0101446 macOS Big Surのみ。`command`+`.`（キャンセル）のキーボードショートカットを設定することも入力することもできませんでした。

* ACI0101572 クラスのソースコードにマルチラインコメント構文（`/*` `*/`）が使用されている場合，コメントブロックにローカル変数名を入力するとアプリケーションがクラッシュしました。

* ACI0101550 `#DECLARE`構文がシンタックスエラーになりました。

* ACI0101565 ストラクチャエディターにテーブル名やフィールド名を入力しようとした場合，日本語IMEが有効になりませんでした。プロパティリストを使用すれば問題ありません。

**注記**: リストボックスの`On Before Keystroke`イベントが強化されたことの副作用でした。フォームオブジェクトの階層リスト，およびスタイル付きテキストのIME処理も修正されました。

* ACI0100904 数週間にわたってストアドプロシージャを実行した場合，作成したローカル配列の最後の要素に対するアクセスが範囲チェックエラー`-20001`になることがありました。

* ACI0101553 `LAUNCH EXTERNAL PROCESS`に４個未満のパラメーター（`cmd` `stdIn` `stdOut`）を渡し，エラーストリーム（`stdErr`）を省略した場合，CPU消費が異常に高くなり，ハングしたような状態になりました。

* ACI0101501 ストラクチャエディターのインスペクターでフィールド名を入力した後，別のフィールドを選択した場合，入力した内容がキャンセルされました。確定するためには，`tab`キーを使用するか，インスペクター上のアクティブオブジェクトをクリックする必要があります。

* ACI0101552 `Device.current.isSimulator`がiPhone 12以降のシミュレーターを認識しないため，4D for iOSアプリでプッシュ通知を送受信することができませんでした。

**注記**: 修正により，`isSimulatorCase()`が使用されるようになりました。`Platform.isSimulator`のようなマクロはコンパイル前に定義されるため，動的に環境を判定することができません。

* ACI0101548 4D for iOSアプリにデータが埋め込まれていない場合，認証の後に「処理が完了できませんでした」というエラーが返され，データがリロードされませんでした。コールバックが適正なスレッドで実行されていないことが原因です。

* ACI0101545 MSCのマニュアル操作でバックアップを復元した後，最初に選択したジャーナルァイルのオペレーションはデータベースに統合されますが，続けて選択したジャーナルファイルのオペレーションはデータベースに統合されませんでした。ファイル選択ダイアログに問題があるようです。

* ACI0101494 バイナリモードのみ。リストボックスヘッダーの画像ソースプロパティを「ファイル」に設定した場合，アプリケーションがクラッシュしました。

* ACI0101338 **var**構文を使用した変数の宣言に改行（`\`）を挿入し，改行の前後にスペース記号を入力した場合，メソッドのトークナイズと同時にアプリケーションがクラッシュしました。

```
var $var1; \
 $var2 : Text
```

* ACI0101475 フィールドにインデックスが設定されていない場合，トランザクションを確定またはキャンセルした後に`SET QUERY AND LOCK`でロックされたカレントレコードがアンロックされました。オブジェクト型フィールドおよびインデックスが設定されたフィールドは問題ありません。また，カレントレコードを更新し，トランザクションを確定した場合は問題ありません。トランザクションを確定またはキャンセルした場合，`SET QUERY AND LOCK`でロックされたレコードはすべてアンロックされるべきですが，カレントレコードだけは引き続きロックされているのが正しい動作です。

* ACI0101437 macOS Big Surのみ。` Get system info`の`osVersion`には"macOS 11"ではなく`macOS 10.16"が返されました。

**注記**: マイナーバージョンおよびパッチバージョンは付加されず，単純に"macOS 11"が返されます。

* ACI0101489 Mac版のみ。View Proスプレッドシートのセルに対し，`command`+`V`ショートカットで値をペーストすることができませんでした。WebエリアのCEFバージョンが`86`にアップデートされたことによる副作用のようです。

* ACI0101509 リストボックスのデータソースを命名セレクションからカレントセレクションに変更した場合，両者に共通であるはずの列プロパティが一部リセットされました。

* ACI0101439 エンティティセレクション型のリストボックスがフォーカスされた状態でキー入力した場合，リストボックスとセルの区別がなく，`Is editing text`が常に`False`を返しました。セレクション型のリストボックスであれば問題ありません。

* ACI0101374 View Proスプレッドシートのセルに「2020年10月26日」を入力すると「2020年10月2**5**日」に変換されました。

* ACI0100969 4D for iOSのカスタムデータフォーマッターがＮ対１リレーションフィールドに適用されませんでした。

* ACI0101518 `#DECLARE`構文が使用されているメソッドを実行した場合，アプリケーションがクラッシュしました。

例：

```
#DECLARE ($i : Integer; $j : Text)->$value : Integer
```

* ACI010148 Mac版のみ。文字列の途中にキャレットがある状態で`e`キーを「長押し」してé`を入力した場合，１文字後の位置に文字が挿入されました。

* ACI0101366 macOS Big Surのみ。ダウンロードしたディスクイメージを開き，アプリケーションフォルダーに4Dをインストールした場合，「開発元を確認できないため，開けません」というエラーメッセージが表示されました。Volume Desktopと4D Serverは問題ありません。

* ACI0101478 クライアント/サーバー版のみ。エンティティ値にカンマが含まれる場合，エンティティセレクションやリレーション属性が ORDAで正しく転送されませんでした。

* ACI0101471 macOS Big Surのみ。ポップアップドロップダウンメニュー右側の矢印ボタンが`2`ピクセルほど欠けて表示されました。

* ACI0101458 コレクションメソッドのコールバック関数に`#DECLARE`宣言が使用されている場合，`2`巡目から正しくない値がパラメーターに渡されました。未定義のパラメーターが渡されたり，`$1`に渡されるべきオブジェクトが`$2`に渡されたりしました。

* ACI0101438 日付フィールド内の`On Before Keystroke`イベントで数字以外のキーストロークを処理した場合，値の先頭文字が消去されました。

* ACI0101428 macOS Big Surのみ。Apple SiliconマシンではWebエリアが表示されませんでした。

* ACI0101319 View ProスプレッドシートをSVGに変換した場合，ワードラップされたセルの文字列が正しくレンダリングされませんでした。

* ACI0101423 View Proのツールバーインタフェースのスタイル付きテキスト入力ダイアログのメニューにマウスポインターを重ねたときに表示される情報がローカライズされていませんでした。

* ACI0101422 フランス語版のみ。View Proのインターフェースに表示される関数のリストがソートされていませんでした。

* ACI0101365 リストフォームに配置したスプリッターを操作することができませんでした。ACI0101035が修正されたことによる副作用のようです。

* ACI0101382 View Proのインターフェースからフォーミュラを挿入することができませんでした。

* ACI0101037 メソッドエディターの自動コード補完で定数が正しく入力できませんでした。

**注記**: 前付き引数がサポートされるようになったことによる副作用でした。修正により，候補ウィンドウは表示されるようになりましたが，定数は低い優先順位でリストアップされます。

* ACI0101418 モディファイアを押しながらリストボックスの行をクリックして選択した場合，リストボックスを再フォーカスするまで，`On Before Keystroke`イベントが発生しませんでした。

* ACI0101386 Windows版のみ。クライアント/サーバー認証のドメインサーバーを使用している場合（シングル・サイン・オン），リクエストログとデバッグログを有効にするとアプリケーションがクラッシュしました。

**注記**: シングル・サイン・オンが接続を閉じてしまうため，ログプロセスが使用している接続が無効になってしまうことが原因でした。

* ACI0101226 IMAPトランスポーターでサーバーに接続し，`30`分（Exchangeサーバーのタイムアウト設定）メソッドの実行を停止してから処理を再開した場合，「SSL read failed」というエラーが返されました。期待されるのは，どれだけ間隔が空いたとしても，エラーを返さずに処理が継続できることです。

* ACI0100555 特定のメールサーバーに対して使用した場合，``POP3 Transporter``の``getMail()``メソッドから``Null``が返されました。

* ACI0101474 4D Writeから変換されたドキュメントに特定のフォント（例: `Uni Neue`）が設定できませんでした。

* ACI0101192 IMAPトランスポーターの``searchMails``メソッドでアクセント文字をサーチすることができませんでした。

* ACI0101470 macOS Big Surのみ。コンボボックスのテキスト入力エリアが角の丸いアウトラインに食い込んでいました。「自家製」のフォーカスリングと入力エリアのレンダリングと合っていません。

**注記**: 通常サイズのコンボボックスは修正されました。しかし，高さが``26``ポイントを超過するオブジェクト（Mac標準ではない）の描画は問題が残されています。

* ACI0101464 プロジェクトモードのみ。CSSプロパティの`resizingMode`が正しくハンドリングされていませんでした。[リサイズオプション](https://developer.4d.com/docs/ja/FormObjects/propertiesResizingOptions.html#column-auto-resizing)はカラム自動リサイズの有効（`rightToLeft`）または無効(`legacy`)に対応するものです。フォームエディターのプロパティリストとJSONファイルが連動していませんでした。

* ACI0101402 Mac版のみ。`OBJECT SET FORMAT`で3Dピクチャボタンのリソースピクチャファイルパスを更新することができませんでした。

* ACI0101274 クライアント/サーバー版のみ。サーバー管理ウィンドウメニューを使用することができませんでした。ACI0096662が修正されたことによる副作用です。

* ACI0101473 Windows版のみ。出力先をPDFに設定して`OPEN PRINTING JOB`でプリントジョブを開始した後，`WP PRINT`を実行すると，印刷ダイアログが表示されますが，そのダイアログをキャンセルしてもファイル作成ダイアログが表示され，結果的に空のPDFが作成されました。期待されるのは，第１のダイアログがキャンセルされたならば，システム変数が`OK`にセットされ，第２のダイアログが表示されないことです。

* ACI0101466 エンティティセレクションをパラメーターとして受け取るようなクラスメソッドをRESTで公開し，`Open remote datastore`で呼び出した場合，`exposed Function`のコード内でエンティティセレクションの`length`プロパティにアクセスできませんでした。

* ACI0101413 クライアント側で`GET BACKUP INFORMATION`を実行した場合，ユーザー設定ではなくストラクチャ設定のバックアップ情報が返されました。

* ACI0101318 オブジェクト型のプロパティに対してワイルドカードの`@`と`IN`比較演算子を使用してクエリを実行した場合の結果が正しくありませんでした。完全に合致する文字列が結果に含まれませんでした。

* ACI0101273 フランス語版のみ。定数の`mail disposition en pièce-jointe`が認識されませんでした。

* ACI0101420 フランス語版の4D View Proインターフェースが一部ローカライズされていませんでした。

* ACI0101376 共有オブジェクトのプロパティに`Signal`オブジェクトをセットしてオブジェクトグループを構成した場合，`Signal`オブジェクトの`__LockerID`が正しく更新されませんでした。期待されるのは，負の値から正の値に反転し，同一グループの共有オブジェクトが`Use`できるようになることです。

* ACI0100884 クライアント/サーバー版のみ。ORDAでピクチャ型の属性アクセスした場合，正しいサイズが返されませんでした。

* ACI0101430 セレクション型のリストボックスに``COPY NAMED SELECTION``で作成した命名セレクションを表示し，`shift`キーを押しながらクリックして複数の行を選択した後，上下矢印キーを使用して場合，間違った行がハイライトされました。

* ACI0101364 ワーカープロセスで実行した初回の``DELAY PROCESS``が無視されました。``Open window`` ``ALERT``のようなユーザーインタフェースコマンド，あるいは``TRACE``を使用して後であれば，問題ありません。

* ACI0101327 `shift`キーを押しながらエクスプローラーを表示した場合，ウィンドウサイズがリセットされますが，以後，メソッドのプレビューが表示されませんでした。プレビュー表示の状態を示すフラグがリセットされていないようです。プレビューエリアを閉じてから再表示すれば，問題が解消されます。

* ACI0101443 「変数または式」プロパティにマイナス記号が使用されているフォームオブジェクトをプロジェクトモードに変換した場合，マイナス記号がアンダースコア記号になりました。たとえば，``This.length-1``あるいは``Add to date(Current date; 1; 0; -1)``のような値が変換されてしまいました。

* ACI0101435 MacOs Big Surのみ。高さが``15``ポイント以下のチェックボックスまたはラジオボタンが完全に表示されませんでした。Windows版の場合，フォームエディターに限り，高さが``12``ポイント以下のオブジェクト表示に問題がありました。

* ACI0101397 ラベルエディターでフォームを指定し，自動リサイズオプションを解除した場合，列数の設定が無視されました。

* ACI0101401 クライアント/サーバー版のみ。新規作成したエンティティから`2`レベルのＮリレーション属性にドット記法でアクセスしようとした場合，エンティティセットがみつからないというエラーが返されました。スタンドアロン版のように空のエンティティセレクションが返されるべきです。

* ACI0101350 Windows版のみ。ラベル設定ファイル（`*.4lbp`）を上書き保存しようとした場合，新規ファイルが作成され，拡張子が二重に追加されました。

* ACI0101175 フォルダー名にウムラウト記号が含まれる場合，`IMAP_SetPrefs`および`POP3_SetPrefs`からエラー`-43`が返されました。

* ACI0098362 `.eml`ファイルの添付ファイルが`MSG_HasAttach`に認識されないことがありました。

* ACI0101414 `MAIL Convert from MIME`でMIMEを処理した場合，``Content-Disposition``ヘッダーの``name``パラメーターが正しく解析されませんでした。通常，`name`は`Content-Type`ヘッダーに記述されますが，Thunderbirdのようなメールクライアントはどちらに記述されていたとしても添付ファイル名を表示することができます。

* ACI0101372 クラスのコードにシンタックスエラーが存在する場合，間違った行番号がコンパイラーに表示されました。

* ACI0101357 `IMAP Transporter`でdovecotメールサーバーにログインすることができませんでした。

* ACI0101356 `buildapp.4dsettings`の`ClientServerSystemFolderName`オプションを使用してサーバーアプリケーションをビルドした場合，キャッシュフォルダー名が`info.plist`ではなく`catalog.4dcatalog`に記録されました。

* ACI0101345 `#DECLARE`をメソッドの第`1`行以外に記述した場合，メソッドエディターには警告が表示されますが，コンパイルエラーにはなりませんでした。

* ACI0101325 名前付き引数を参照するようなフォーミュラをコンパイルすることができませんでした。

* ACI0101412 ``IMAP Transporter``の``getMail()``メソッドで取得したメールオブジェクトには本文がありませんでした。

* ACI0101371 コンパイルされたストラクチャファイル（``.4DC``）で``FORM Convert to dynamic``を実行した場合，オブジェクトメソッドがロードされませんでした。 

* ACI0101361 ``SHOW PROCESS``を実行するたびにプロセスの非表示と表示が切り替わるために画面がちらつきました。

* ACI0101416 Mac版のみ。印刷ダイアログでユーザーがプレビューを有効にした場合，``SET PRINT PREVIEW``でプレビューを無効しても``WP PRINT``でプレビューが表示されました。``Print form``では問題ありません。

* ACI0101390 新規エンティティのリレーション属性が``0``件のエンティティセレクションだった場合，``entitySelection.orderBy()``を実行すると，リレーションで結ばれたデータクラスの全エンティティが返されました。

* ACI0101363 MIMEの``From``ヘッダー値にカンマが含まれる場合（例：``DOE, John <john.doe@4d.com>``），``MAIL Convert from MIME``で正しいメールオブジェクトに変換できませんでした。アドレス情報が``2``件の送信者（例：``DOE``および``John <john.doe@4d.com>``）に分断されました。

* ACI0100639 フォーカス不可でタブ不可のオブジェクトをJSONフォームあるいはプロジェクトモードに変換した場合，フォーカス可になりました。

**注記**: 同時にルーラーのJSON変換も修正されました。ルーラーもフォーカス可プロパティがエクスポートされるようになり，「上」「左」以外のラベル位置もサポートされるようになりました。

* ACI0101409 IMAPで受信したメールの``receivedAt`` ``getMail`` ``getMails``属性が正しくありませんでした。

* ACI0101388 新規プロセスにエンティティセレクションをパラメーターとして渡した場合，受け取った側のプロセスで開始したトランザクションの状態がエンティティセレクションには適用されませんでした。たとえば，トランザクション内でエンティティを保存してからトランザクションをキャンセルしても，保存が取り消されませんでした。

* ACI0101380 4D View Proエリアの「ファイル＞インポート＞CSVファイル」メニューで表示されるインタフェースではCSV以外のテキストデータをインポートすることができませんでした。列または行の区切り文字に``\t``または``\n``のような文字を指定しても無視されました。

**注記**: エクスポートも修正されました。

* ACI0101317 クライアント/サーバー版のみ。ORDA言語でWrite Proドキュメントを保存した後，そのエンティティ属性にアクセスするとエラーが返されました。

* ACI0101299 クライアント/サーバー版のみ。リモート側では，オブジェクト型フィールドのロードに時間がかかりました。たとえば，リストフォームのスクロール操作や，ループ処理内の``NEXT RECORD``の速度で違いを確認することができます。オブジェクトにおおきなサイズのピクチャ型プロパティが含まれている場合に問題が発生します。

* ACI0101218 特定のテーブルに対し，読み込みダイアログを使用してデータをインポートした場合，インポート対象に指定したフィールドがスキップされることがありました。すべてのテーブルで問題が発生するわけではありません。

**注記**: エディターが出力する``.4si``ファイルのフィールド情報にテーブル番号が含まれなかった場合に問題が発生しました。設定ファイルに``table_no``属性を追加することにより，問題を回避することができます。修正により，読み込みダイアログのヘッダークリックで選択されたフィールドのテーブル番号が自動的に挿入されるようになりました。

* ACI0101379 Windows版のみ。デフォルトのファイル名を``*.gif``に設定して``WRITE PICTURE FILE``を実行した場合，保存ダイアログに間違ったファイル拡張子（``.4pct``）が表示されました。

* ACI0101234 ``FORM SCREENSHOT``から返される出力フォームの画像は最終レコードが含まれていませんでした。

* ACI0101217 インポートダイアログでフィールド数が``1``個のテーブルを選択した場合，エラー``215``が返されました。
	
* ACI0101336 macOS Big Surのみ。ディスクイメージ（``.dmg``）からインストールした場合，終了時にアプリケーションがクラッシュしました。アーカイブ（``.zip``）からインストールすれば問題ありません。またストラクチャエディターを表示しなければ問題ありません。

* ACI0101308 ``MAIL convert from MIME``でメールの件名が正しくデコードされないことがありました。折り返されたUTF-8 quoted printableのエスケープ文字がそのまま返される場合がありました。

* ACI0101330 Mac版のみ。システムフォントをスタイルシート経由で設定した場合，ボタンタイトルのフォントをボールド体にすることができませんでした。R3では問題ありません。

* ACI0101051 Windows版のみ。フォームエディターのテキストエリアに``Alt``キーと数字のコンビネーションでアクセント文字を入力することができませんでした。メソッドエディターでは問題ありません。

* ACI0101312 ランタイムエクスプローラーの更新間隔を変更しても設定が無視され，常に``1``秒間隔で表示が更新されました。

* ACI0101246 Mac版のみ。別のアプリケーションを最前面に移動してから4Dを最前面に移動した場合，呼び出し元の検索やシンタックスチェックの速度が大幅に低下しました。おおきなアプリケーションの場合，処理が完了するまでにバイナリモードでは``10``秒，プロジェクトモードでは``10``分以上待たされることがありました。

* ACI0101065 アプリケーションビルド画面のオプションでコンポーネントビルドだけを選択した場合，「ビルド」ボタンがクリックできませんでした。

* ACI0101304 Mac版のみ。ようこそ画面など，CEF版Webエリアを使用しているフォームを表示した場合，終了直前にアプリケーションがクラッシュしました。

* ACI0101334 Write Proドキュメントを``.docx``形式でエクスポートした場合，リスト項目（数字または記号）がMicrosoft Wordで正しく表示されませんでした。

* ACI0101328 フランス語版のみ。Write Proツールバーの「画像」タブの表示が正しくありませんでした。「Images」の代わりに「Import/Export」と表示されました。

* ACI0101296 RESTで公開されているテーブルとRESTで公開されていないテーブルにリレーションが結ばれている場合，リモートデータストアとしてアクセスすることができませんでした。「リレーションを解決することができません」というエラーが返されました。

* ACI0101291 クライアント/サーバー版のみ。``dataClass.fromCollection()``から共有エンティティセレクションが返されませんでした。

* ACI0101280 4D ViewスプレッドシートをView Proに変換した場合，埋め込まれたフォーミュラの大部分が失われることがありました。

**注記**: View Proの限界を超える長さのフォーミュラが出力されることがありました。たとえば，データ型を文字列で統一するため，各パラメーターを関数でキャストしているようなフォーミュラを変換した場合，数式がさらに長くなりました。修正により，日付リテラルは文字列型リテラル，``String``関数はシンプルな関数名（``TEXT``）に変換されるようになりました。View Proの標準関数は，内部的にバリアント側を使用しているため，日付を文字列で渡すことができます。

* ACI0101242 Mac版のみ。コード署名せずにクライアントアプリーケーションをビルドした場合，起動直後にアプリケーションがクラッシュしました。シングル版およびサーバーアプリケーションでは問題ありません。

**注記**: 修正により，Apple発行のデベロッパー証明書が利用できない場合，アドホックコード署名が実施できるようになりました。``BuildApp.4DSettings``に下記の新しいビルドキー（ブール型）が追加されました。

```
/Preferences4D/BuildApp/SignApplication/AdHocSign
```

* ACI0101272 Windows版のみ。「アプリケーションについて」画面のリンク（法的な情報・著作権・世界の4D）を``1``回クリックすると，``2``回，WebページがEdgeブラウザで開かれました。ページHTMLの``<div>``と``span``それぞれにスクリプトが記述されているためです。

* ACI0099364 Mac 64ビット版のみ。プラグインSDKの``PA_GetCarbonPageFormat``および``PA_GetCarbonPrintSettings``が``null``を返しました。

* ACI0101315 ``entitySelection.query()``および``collection.query()``で``IN``比較演算子を使用した場合，条件に使用したコレクションがメモリーリークすることがありました。

* ACI0101307 4D for iOSの同期アクションでデータをシンクロした場合，文字列型のフィールドに``Null``が返されるとアプリがクラッシュしました。「ヌル値を空値にマップする」が有効であれば問題ありません。

* ACI0101305 リストボックスの「自動行の高さ」が有効にされている場合，``OBJECT GET SCROLL POSITION``から返される行番号が``0``から始まりました。通常のリストボックスであれば，行番号が``1``から始まります。

**注記**: 問題は修正されましたが，プロパティによってコマンドの振る舞いが違うことに留意してください。「自動行の高さ」が有効にされていない場合，階層リストやリストフォームと同じように，コマンドは完全に表示されている最初の行番号を返します。リストボックスの「自動行の高さ」が有効にされている場合，コマンドは部分的であっても表示されている最初の行番号を返します。

* ACI0099483 一部のコマンドは，パラメーターを必要としないのにも関わらず，メソッドエディターの補完機能（``tab``キー）でコマンド名を入力した場合，自動的にカッコが追加されました。例：

* ACI0099073 ストラクチャエディターのインスペクターにリレーション名を入力した後，フォーカスアウトしないままウィンドウを閉じた場合，入力した名前が保存されませんでした。

* ACI0098523 ``MODIFY RECORD``で表示した詳細フォームに配置されたオブジェクトからフォーカスが移動しないようにAPI Packプラグインで設定した場合，標準アクションの「次レコード」または「前レコード」をクリックするとフォームが閉じられ，``OK``に`1`が代入されました。

* ACI0097765 ツールボックスの「フォーマットとフィルター」ページでテスト用のデータ型を「数値」以外に変更しても，すぐにコンボボックスが「数値」に戻り，値がクリアされました。

* ACI0099670 Mac 64ビット版のみ。``SET WINDOW RECT``でウィンドウをリサイズした場合，プラグインエリアが正しく再描画されませんでした。プラグインに渡されるクリッピング領域がコマンドの実行後に更新されないためです。

* ACI0100304 ``WEB SERVICE CALL``でhttpからhttpsのリダイレクトが返された場合，アプリケーションがフリーズしました。

* ACI0100306 Write Proウィジェットのツールでページのマージンを変更することができませんでした。

* ACI0100359 サブフォームに表示されたクイックレポートのカラムを移動しても，表示が更新されませんでした。レポートの内容自体は合っています。

* ACI0101287 変数にコレクションの要素を代入し，その同じ変数を``For each``ブロックの第１パラメーター（カレント要素），コレクションを第２パラメーターに渡してループ処理を実行した場合，メモリリークが発生しました。

* ACI0101276 プロジェクトモードのみ。テキスト入力ボジェクト（変数）に対して``OBJECT SET LIST BY NAME``が使用できませんでした。

* ACI0100737 Windows版のみ。システム言語が「英語」に設定されている場合，バックアップ設定の項目「n秒後に再試行」が保存されませんでした。``.4DSettings``ファイルには値が書き込まれていますが，設定画面には``0``と表示されました。

* ACI0101143 プロジェクトモードのみ。大量のオブジェクト（アイコンが設定されたボタン）がフォームに配置されている場合，フォームエディターの動作がとても重くなりました。バイナリモードでは問題ありません。

* ACI0100926 Windows版のみ。進行中のプログレスバーのキャンセルボタンをクリックした場合，コールバックメソッドの呼び出しでエラーが返されました。ローカルプロセスのスタックサイズが不足しているようです。

* ACI0100974 ``MAIL Convert from MIME``でメールの本文が取り出せないことがありました。特定の標準テキストメールで問題が再現します。マルチパートメールでは問題ありません。

* ACI0101298 背景色が設定されているテキスト入力エリアに対して``OBJECT SET RGB COLORS``を使用した場合，フォーカスアウトのタイミングで``On Data change``イベントが発生しました。背景色が「透過」に設定されているオブジェクトは問題ありません。

* ACI0101114 Mac版のみ。ポップアップ/ドロップダウンメニューに大文字/小文字の区別またはアクセント記号だけが違っている値が表示されている場合，カレント項目ではない行にチェックマークが表示されました。

* ACI0101061 プロジェクトモードのみ。新規作成したリストボックスには「行の移動可」プロパティがありませんでした。バイナリモードから変換されたリストボックスは問題ありません。プロパティが設定されていない場合，行のドラッグ＆ドロップができません。

* ACI0101294 ``VP Convert to picture``はシート番号を``0``ではなく``1``からカウントしました。

* ACI0101212 ``MAIL Convert from MIME``でメールオブジェクトを作成した場合，エンコードに問題があるために画像が表示されないことがありました。

* ACI0101209 エンティティセレクション型のリストボックスをサブフォーム内で使用した場合，「カレントの項目の位置」や「選択された項目」がデバッガーに表示されませんでした。「カレントの項目」だけが表示されました。

* ACI0101135 プロジェクトモードのみ。``LISTBOX SET PROPERTY``と``lk named selection``の組み合わせでリストボックスの命名セレクションを設定することができませんでした。

* ACI0101067 ``MAIL Convert from MIME``で変換したメールオブジェクトは，送信日が正しく返されないことがありました。タイムゾーンが正しく計算されていないためです。たとえばMIMEのヘッダー値が``Mon, 3 Aug 2020 09:27:52 +0200``だった場合，``2020-08-03T09:27:52.000Z``のような日付に変換されました。

* ACI0101254 バイナリモードのみ。オブジェクトメソッドが設定されているオブジェクトを含むフォームを削除してごみ箱に空にした場合，MSCのアプリケーション検査を実行すると，どこにも使用されていない``CC4D``リソース（オーファンメソッド）が検出されました。

* ACI0100004 ノルウェー語とフランス語のスペルチェック辞書に同一のID番号が振られました。

**注記**: Mac版のシステムスペルチェックだけが修正され，番号ではなく``fr-FR``や``en-US``のような識別子が使用されるようになりました。Hunspell版のスペルチェックは，ライブラリが発行するIDをそのまま使用しています。

* ACI0101261 バイナリデータベースをプロジェクトに変換した場合，階層リストの「透過」プロパティがエクスポートされませんでした。

* ACI0101259 ``MAIL New attachment``で作成したメール添付オブジェクトを別プロセスに渡すことができませんでした。

* ACI0101240 ラベルエディターで連結したフィールドが正しく出力されませんでした。最初のオペランドだけが出力されました。

* ACI0101106 プロジェクトモードのみ。データソースに命名セレクションが設定されたリストボックスに``CUT NAMED SELECTION``または``COPY NAMED SELECTION``で作成したセレクションが表示されませんでした。

* ACI0101293 マルチコアのバーチャルマシンで``Get system info``を実行した場合，返されるコア数が正しくありませんでした。

* ACI0101288 Windows版のみ。統合CEF版Webエリアがマウスホイールのスクロール操作やポインターのホバリングイベントに反応しないことがありました。ACI100774が修正されたことによる副作用のようです。``On Load``イベントではなく，``SET TIMER(-1)``で誘発した``On Timer``イベントでHTMLをロードすれば問題ありません。

* ACI0101183 オフスクリーンモードのView Proエリアでは，``VP set allowed methods``で許可したメソッドが使用できませんでした。

* ACI0101182 巨大なWrite Proドキュメント（A4用紙で1100ページ以上）のテキストをすべて選択した状態でコンテキストメニューを表示するために右クリック操作をした場合，アプリケーションがフリーズしました。

* ACI0101181 ``.dbf``ファイルをインポートすることができませんでした。テキストは最初のワードだけがインポートされ，数値は常に``0``がインポートされました。

* ACI0101180 4D for iOSの同期では，１度に``100``件を超えるレコードが削除できませんでした。

* ACI0101179 クイックレポートのクロスタブモードでヘッダーを右クリックし，コンテキストメニューのサブメニュー項目を選択した場合，ランタイムエラーが返されました。リストモードとは列の数が同じではないことが考慮されていないようです。

* ACI0101177 トランザクション中に``SET QUERY AND LOCK``を実行し，インデックスが設定されていないオブジェクト型フィールドをクエリした場合，``VALIDATE TRANSACTION``の後もレコードのロックが解除されませんでした。ACI0101127が修正されたことによる副作用のようです。

* ACI0101176 iCloudサーバー（``imap.mail.me.com``）に対し，IMAPトランスポーターとApp用パスワードでPLAIN認証ができませんでした。

* ACI0101165 クイックレポートエディターのクロスタブモードでセルを編集することができませんでした。

* ACI0101163 Windows版のみ。名前にピリオドが含まれるフォルダーに``Select document``でファイルを保存しようとした場合，エラーが返されました。

* ACI0101161 クイックレポートエディターのクロスタブモードでフッターのコンテキストメニューからスペーシングのオプションを選択した場合，ランタイムエラーが返されました。

* ACI0101159 バイナリデータベースをプロジェクトに変換した場合，リレーションの「自動ワイルドカードサポート」が無効になりました。フィールドにワイルドカードで終わる値を入力してタブアウトした場合，候補値のリストが自動的に表示されませんでした。

* ACI0101156 エクスプローラーの「フォーム」ページの設定ボタン（歯車のアイコン）がクリックできませんでした。「ホーム」ページに切り替えてから「フォーム」ページに戻れば，ボタンが使用できるようになります。

* ACI0101152 ``BASE64 ENCODE``の第２パラメーター（テキスト型）に``$0``を指定した場合，コンパイルエラーになりました。R3では問題ありません。中間ローカル変数を使用すれば問題ありません。

* ACI0101151 垂直または水平のラインオブジェクトをグループ化した場合，グループの選択ハンドルが正しく描画されませんでした。図形の始点が右または下にあった場合，グループをリサイズすると，オブジェクトがグループからはみ出てしまいました。高さまたは幅が負の値であるオブジェクトの座標の計算が合っていないためです。

* ACI0101150 重複キーが検出された場合にRESTサーバーから返されるレスポンスに問題がありました。JSONの後に空のノード（``{}``）がありました。

* ACI0101141 トランザクション中にエンティティをロックし，ORDAの``entity.drop(dk force drop if stamp changed)``を実行した場合，エンティティは削除されていないのに，ステータスオブジェクトの``success``には``True``が返されました。

* ACI0101187 エクスプローラーでクラスを選択し，歯車アイコンのメニューから新規メソッドを作成しようとした場合，アプリケーションがクラッシュしました。

* ACI0101204 ビルドしたアプリケーションでは，``command``+``shift``+``F9``ショートカットでランタイムエクスプローラーを表示することができませんでした。

* ACI0101200 トランザクション中にレコードを削除してからトランザクションをキャンセルした場合，操作は取り消されますが，レコードがロックされたままになりました。

* ACI0101227 入力エリアに設定した指定リストおよび除外リストが適用されませんでした。ACI0099771が修正されたことによる副作用です。

* ACI0101224 4D Viewドキュメントのフォーミュラ名に小文字が使用されていた場合，フォーミュラ名の一部をハイライト選択してフォーミュラを書き換えることができませんでした。入力した文字列が間違った位置に挿入されました。

* ACI0101223 4D Viewドキュメントにピクチャが含まれる場合，PDFエクスポートが正しく出力されませんでした。ピクチャの代わりに``_pict_``という文字列が挿入されました。

* ACI0101211 PDFファイルが添付された``.eml``ファイルを``MIME Convert to mail``でメールオブジェクトに変換して送信した場合，受信クライアントに添付ファイルが表示されないことがありました。

* ACI0101086 Mac版のみ。昔のバージョンで作成したストラクチャから変換されたフォームは，拡大率が``1440%``に設定されていることがありました（Windows版では``100%``と表示されます）。そのようなフォームを印刷した場合，以後，アプリケーションを終了するまで，すべての印刷に異常な拡大率が適用されました。

* ACI0101083 4D for iOSの「公開」セクションでプッシュ通知を有効にしても，アプリの「通知」が有効になりませんでした。``.4Dmobileapp``ファイルの``pushNotification``は``true``にセットされ，``pushCertificate``にもファイルパスがセットされますが，生成されたXcodeプロジェクトの``.entitlements``ファイルが空でした。

* ACI0101079 プロパティリストの「配置」タブでフォームの垂直マージンを変更することができませんでした。「すべて」タブでは問題ありません。

* ACI0101077 プロジェクトモードのみ。入力フォームをサブフォームとして組み込んだ場合，オブジェクトの入力順が無視されました。

* ACI0101076 View Proエリアに対して``VP ADD RANGE NAME``を実行した場合，リボンバーの「名前マネージャー」が使用できなくなりました。

* ACI0101075 64ビット版の``RECEIVE PACKET``でストップ文字を指定した場合，32ビット版よりもずっと低速（およそ``75``倍）でした。バイトサイズを指定した場合，または``RECEIVE BUFFER``であれば問題ありません。シリアル/USB変換アダプター・プラットフォーム・接続デバイスに関係なく，問題が再現します。

* ACI0101071 エンティティセレクションから派生したクラスのメンバーメソッドの名称に数字が使用されていた場合（例：``method1``），そのメソッドを呼び出すと「無効なメンバーメソッド名」エラーが返されました。

* ACI0101070 クライアント/サーバー版のみ。エンティティセレクションから派生したクラスのメンバーメソッドの戻り値が正しくありませんでした。``$0``に代入した値ではなく "Dataclass" という文字列がクライアントに返されました。

* ACI0101069 ``vk workbook``スコープのレンジ名がセルに設定されている場合，``VP Get value``または``VP SET VALUES``の名前を指定してアクセスすることができませんでした。スコープがカレントワークシートであれば問題ありません。

* ACI0101068 4D View Proスプレッドシートのセルを``delete``キーで直接クリアした場合，``designer.actions.isFileModified``が``true``になりませんでした。セルを編集状態にして値を削除すれば問題ありません。

* ACI0101066 ``MAIL Convert from MIME``に渡されたMIMEデータに``CRLF``コードが含まれていない場合，アプリケーションがハングしました。ただし，空の文字列であれば問題ありません。

* ACI0101063 特定の文字（ "方" "油" "乳" など，Shift_JISエンコーディングで２バイト目が``0xFB``の漢字）がデータベースのパス名に含まれる場合，アプリケーションが起動直後にクラッシュしました。

* ACI0101059 おおきな4D Writeドキュメント（A4で``1000``ページ超・``50000``行程度）をWrite Proに変換した場合，すぐに表示されませんでした。

* ACI0101137 ファイル名にドイツ語のアクセント記号が含まれる添付ファイルを``MAIL Convert from MIME``で送信することができませんでした。

* ACI0101134 クライアント/サーバー版のみ。``var``構文に記述した``cs``に対し，補完候補が表示されませんでした。``var``構文でなければ問題ありません。

* ACI0101131 Write Proドキュメントの冒頭にテーブル（表組み）を挿入した場合，そのテーブルの上に行を挿入することができませんでした。

* ACI0101128 ``WP Get formulas``に未定義のオブジェクトが渡された場合，アプリケーションがクラッシュしました。

* ACI0101127 スタンドアロン版のみ。トランザクション中にエンティティをロックし，``VALIDATE TRANSACTION``の後に``entity.lock(dk reload if stamp changed)``を実行した場合，そのエンティティはロックされますが，その後，別のプロセスも同じエンティティをロックすることができました。クライアント/サーバー版では問題ありません。

* ACI0101126 クロスタブ型クイックレポートのヘッダーをクリックした場合，エラーが返されました。

* ACI0101121 プロジェクトモードでは「リレートした１レコードがなければ通知」が機能しませんでした。

* ACI0101119 4D WriteからWrite Proに変換したドキュメントのテキストをコピー＆ペーストした場合，段落スタイルシートが複製されました。結果的に，段落とペーストしたテキストに別々のスタイルシートが設定されてしまいました。

* ACI0101117 Write Proでタブを含む段落の左マージンを設定した場合，左マージンの値がドキュメントに保存されませんでした。右マージンであれば問題ありません。

**注記**: 左マージンが正の値でテキストのインデントが負の場合に問題がありました。

* ACI0101116 プロジェクトモードで作成されたコンポーネントの名前に日本語が使用されている場合，コンパイルモードでホストを開始するとエラーが返されました。

* ACI0101115 保存モードが「データファイルの外」に設定されているピクチャフィールドに``500``バイト以下のSVG画像を保存した場合，アプリケーションがクラッシュしました。

* ACI0101113 ループ内で``READ PICTURE FILE``を使用して大量のピクチャを読み込んだ場合，メモリーリークが発生しました。Windows版ではアプリケーションがクラッシュまたはフリーズしました。Mac版では，アプリケーションの実行速度が大幅に低下しました。18.x，17.xでは問題ありません。

* ACI0101112 クライアント/サーバー版のみ。エンティティセレクションから派生したクラスのメンバーメソッド内では``This.length``が常に``0``を返しました。クライアント側で作成したエンティティセレクションであれば問題ありません。

* ACI0101104 Mac版のみ。矢印キーを使用してソフトハイフン記号を越えようとした場合，キャレットがテキストの冒頭に移動しました。

* ACI0101093 Mac版のみ。コンボボックスの幅が不足している場合，アイテムが完全に表示されませんでした。

* ACI0101053 クライアント/サーバー版のみ。サーバーマシン上のクライアントでストラクチャに変更を加えた場合，エンティティセットが無効になりました。リストボックスにレコードを表示し，カタログをリロードしてから``20``秒ほど画面を放置すると，クライアントプロセスが延期されますが，その後，ウィンドウをリサイズするなどしてリストボックスをリフレッシュしようとした場合，「このエンティティセットはデータクラスのものではない」というエラーメッセージが表示されました。

* ACI0101050 プロジェクトモードのみ。進捗バーのタイトルフォントカラーを設定することができませんでした。

* ACI0101045 Mac版のみ。Write Proエリアに表示されたテキストのフォントを"Times New Roman"から"Times"に変更した場合，テキストがボールド体になりました。

* ACI0101043 ツールボックスから``.css``ファイルを作成したり開いたりすることができませんでした。

* ACI0101042 プロジェクトモードのみ。クライアント/サーバーモードでは，デザインモードがロックされているはずですが，マークダウン形式のドキュメンテーションを追加することができました。サーバー側のドキュメンテーションがクライアント側にコピーされないことも問題です。

* ACI0101040 クライアント/サーバー版のプロジェクトモードのみ。サーバーマシン上のクライアントでエクスプローラーのフォルダーを作成した場合，アプリケーションがクラッシュしました。

* ACI0101036 クライアント/サーバー版のみ。データストアクラスのメンバーメソッドで``entitySelection.orderByFormula()``を実行した場合，エラーが返されました。

* ACI0101035 Mac版バイナリモードのみ。``MODIFY SELECTION``で表示したリストフォームにフッターエリアに表示されたボタンがクリックに反応しないことがありました。

* ACI0101034 Windows版のみ。サーバー側で「4D Serverについて…」画面を表示してから閉じようとした場合，アプリケーションがフリーズしました。

* ACI0101032 エンティティセレクション型リストボックスのデータソースをセットした後，そのテーブルにフィールドを追加するなど，エンティティ定義を変更した場合，アプリケーションがクラッシュしました。

* ACI0101028 Windows版のみ。PHPフォルダーに必要なランタイムDLLファイルがありませんでした。

	- concrt140.dll
	- msvcp140.dll
	- msvcp140_1.dll
	- msvcp140_2.dll
	- vccorlib140.dll
	- vcruntime140.dll

* ACI0101024 4D ViewドキュメントをView Proに変換した場合，１番列の下および右の罫線が表示されませんでした。

* ACI0101018 パイナリモードのみ。エクスプローラーの「ホーム」ページに「クラス」という項目が表示されました。クラスは，プロジェクトモードに特有のものです。

* ACI0101014 エクスプローラーでメソッドの名称を変更（「すべての参照箇所でメソッド名を変更」モード）した場合，「式」が入力できるフォームオブジェクトのプロパティ内で参照されているメソッドの置換されませんでした。

* ACI0101012 Mac版のみ。``WP EXPORT DOCUMENT``でエクスポートしたMIMEをGoogle Chromeブラウザに表示することができませんでした。また，その内容をメールで送信した場合，受信者のメールクライアントにHTMLのソースコードがそのまま表示されました。

* ACI0101004 日本語名のフィールドがフォームに配置されており，そのオブジェクトメソッドにエラーが存在する場合，コンパイラーに表示されるエラーメッセージが部分的に文字化けしました。

* ACI0100998 Ｎ対１リレーションが設定されたテーブル同士にSQLのプライマリーキーおよび外部キーを設定し，``INNER JOIN T2 ON T2.foreign_key = T1.primary_key``および``GROUP BY``を実行した場合，エラー``1002``が返されました。

* ACI0100996 インポートダイアログでレコードの読み込みと同時にテーブルを作成した場合，エラー``9935``が返されました。

* ACI0100992 クライアント/サーバー版のみ。RESTリソースとして公開されていないリソース（フィールドなど）にORDAでアクセスすることができませんでした。18 r3以前は問題ありません。

* ACI0100991 Mac版のみ。DOCXまたはPDF形式でWrite Proドキュメントをエクスポートした場合，ペーストしたピクチャが画像のプレースホルダーとして表示されました。

* ACI0100989 Windows版のみ。ダウンロードしたインストーラーの開発元が「4D SAS」ではなく「未確認」と表示されました。

* ACI0100981 Write Proに改行だけを返すメソッドが数式として改行の直前に挿入されている場合，フッターで``This.pageCount``というフォーミュラを評価すると，アプリケーションがクラッシュしました。

* ACI0100980 hMailServerから``POP3 Transporter``の``getMail()``メソッドでメールを受信しようとした場合，``Null``が返されることがありました。

* ACI0100978 ``QUERY BY FORMULA``の右オペランドにポインターの逆参照を渡した場合，エラーが返されました。左オペランドであれば，問題ありません。

* ACI0100972 View Proエリアの日付セパレーター文字にカスタム設定が適用されませんでした。たとえば，フランス語のシステム（デフォルトは``YY/MM/DD``）で日付フォーマットを``DD.MM.YY``に設定した場合，View Proで日付として認識されるフォーマットは``YY/MM/DD``でした。

* ACI0100971 クライアント/サーバー版のみ。プロセス毎のデバッグログを有効にした場合，別プロセスにロックされた共有オブジェクトまたは共有コレクションに遭遇すると，ログがブロックされるためにクライアント/サーバー通信が無応答になることがありました。

* ACI0100970 プロジェクトモードのみ。``On Load``イベントで``OBJECT DUPLICATE``を使用し，非表示のリストボックスで複製した場合，フォームを閉じると同時にアプリケーションがクラッシュしました。

* ACI0100968 リストボックスの描画が不自然でした。垂直スクロールバーの上下に四角形の領域ができました。表示モードが「あり」であれば問題ありません。表示モードが「自動」の場合に問題があります。垂直スクロールバーの上下はヘッダーおよびフッターと同じカラーで塗りつぶされるべきです。

* ACI0100966 Mac版のみ。4D for iOSで設定した「パラメーター無し」アクションのスコープを後から変更することができませんでした。追加アクションのスコープはテーブル，更新アクションのスコープはカレントエンティティであり，他に選択肢はありません。「パラメーター無し」アクションは，どちらでも良いはずです。

* ACI0100964 4D ViewからView Proに変換されたドキュメントを``.xlsx``形式でエクスポートした場合，そのスプレドシートをMicrosoft Excelで開くとエラーが表示されました。

* ACI0100963 プロジェクトモードのみ。``BUILD APPLICATION``データベースフォルダー内にでOEM版のクライアント/サーバーアプリケーションをビルドすることができませんでした。ACI0100783の修正により，ビルド中，データベースフォルダー内の``.4DCatalog``ファイルがロックされるようになったためです。

* ACI0100961 タブコントロールにアイコンが表示されている場合，タイトル文字列の直下ではクリックイベントが発生しませんでした。

* ACI0100960 プロジェクトモードのみ。リストボックスの境界スタイル「なし」が正しく描画されませんでした。

* ACI0100956 クイックレポートエディターのカラムに日付型のフィールドを設定した場合，合計行の最小値（``Min``）が正しく計算されませんでした。

* ACI0100955 ブール型フィールドをチェックボックスとして表示するようなフォームをプロジェクトに変換した場合，そのフォームを使用してブール型フィールドにデータをインポートすることができなくなりました。オブジェクトのタイプをチェックボックスから「入力」オブジェクトに変更する必要があります。

* ACI0100953 Mac版のみ。4D for iOSのクエリフィルターが設定されたデータクラスに対し，１対Ｎリレーションでアクセスした場合，フィルターが適用されず，すべてのレコードが表示されました。

* ACI0100951 Write Proエリアに挿入されたフォーミュラの後にキャレットを移動して``backspace``キーを使用した場合，フォーミュラ全体が削除されませんでした。フォーミュラが選択されていれば，問題ありません。

* ACI0100943 サーバーをサービスとして起動し，クライアント側でサーバー管理画面を表示しようとした場合（例：``OPEN ADMINISTRATION WINDOW``），エラーが表示されました。Designerにパスワードが設定されていなければ問題ありません。

* ACI0100942 ボタンタイトルのフォントカラーを「自動」以外に設定した場合，ボタンをdisabled状態にしてもタイトルがグレーアウトされませんでした。

* ACI0100937 メソッド名に大文字が使用されている場合，メソッドのドキュメンテーション（``.md``）に挿入されているメソッドのアンカーが正しく動作しませんでした。MacではFinderにフォーカスが移動し，Windowsでは何も起きません。

* ACI0100934 View Proの「関数カテゴリ」リストボックスに表示される関数名がソートされていませんでした。追加あれたされたカテゴリは，リストの最後ではなく，正しいソート位置に挿入されるべきです。

* ACI0100925 Write Proのタブ位置は，水平ルーラーで移動することができますが，``alt``または``control``を押しながらドラッグしても，4D Writeプラグインのように細かい操作をすることができず，目盛りの単位でしか動かすことができませんでした。

* ACI0100924 Write Proウィジェットのツールでテキストのスタイルをコピーした場合，フォントのファミリーがコピーされませんでした。たとえば「Optima Extra Black」をコピーした場合，スタイルをペーストすると，「Optima Bold」が適用されました。

* ACI0100921 エンティティセレクション型のリストボックスの列に設定された選択リストで値を入力した場合，カレント項目のプロパティに値が代入されませんでした。コレクション型のリストボックスであれば，問題ありません。

* ACI0100909 ``On Load``イベント中に``LISTBOX SELECT ROW``を使用し，リストボックスの行をあらかじめ選択した場合，上矢印キーを入力すると最終行が選択され，下矢印キーを入力すると``1``行目が選択されました。配列型のリストボックスでは問題ありません。セレクション型およびコレクション型のリストボックスで問題が再現します。ACI0099586が修正されたことによる副作用のようです。

* ACI0100905 HTTPリクエストのボディに不正なJSONをセットしてRESTサーバーにPOSTした場合，エラーが返されませんでした。エラー``550``（JSON malformed）が返されるべきです。

* ACI0100901 値に``Null``が含まれるフィールドを``SQL LOAD RECORD``でテキスト配列に受け取った場合，アプリケーションがクラッシュしました。たとえばMySQLデータベースとのODBC接続で問題が再現します。

* ACI0100700 ODBCドライバー経由でテキストフィールドに二重引用符（``"``）を含むデータを登録した場合，引用符がブラケット記号（``[`` ``]``）として保存されました。ODBCではなく，SQLパススルーであれば，問題ありません。

* ACI0100675 Mac版のみ。バックアップの対象フォルダーに無効なシンボリックリンクが含まれていた場合，バックアップが中止され，エラー``1409``が返されました。たとえオリジナルが存在しなかったとしても，シンボリックリンクファイルがそのままバックアップされるべきです。

* ACI0100668 Mac版プロジェクトモードのみ。ツールボックスのメニュータブを開いた状態で，別のアプリケーションを最前面に移動してから4Dに復帰した場合，ツールボックスの右側に表示されるメニューバーの内容がおかしくなりました。

* ACI0100620 日本語ではないシステム言語設定で日本語のファイル名を添付して``SMTP_Send``を実行した場合，エラー``-43``が返されました。

* ACI0100619  プロジェクトモードのみ。データベース設定に「自動コメント」が表示されました。プロジェクトモードにこの設定は存在しないはずです。

* ACI0100553 Mac版のみ。4D View Proエリアが配置されたフォームを素早く何度も開いたり閉じたりした場合，アプリケーションがクラッシュすることがありました。

* ACI0100528 MSCでデータの圧縮と修復を実行した後，サーバーを再起動せず新しいデータファイルを開いた場合，インデックスの再構築でアプリケーションがクラッシュすることがありました。

* ACI0100907 ``VP Convert from 4D View``コマンドがスレッドセーフではありませんでした。

* ACI0100890 32ビット版で作成されたラベル定義ファイルをラベルエディターでロードしようとした場合，エラー``-9930``が返されました（``Editor_ON_DATA_CHANGE``コンポーネントメソッドの``286``行目）。ACI0096880が修正されたことによる副作用のようです。

* ACI0100869 クライアント/サーバー版のみ。属性パスを指定して``entity.toObject()``を実行した場合，返されるオブジェクトにリレーション属性が含まれないことがありました。

* ACI0100841 Write ProドキュメントをDOCX形式でエクスポートした場合，文字レベルのスタイルシートが正しく変換されないことがありました。

* ACI0100840 Write Proドキュメントをエクスポートしてから再インポートした場合，``wk page first number``で設定したセクションの先頭ページが正しく反映されませんでした。

* ACI0100812 プロジェクトモードのみ。プロジェクトを開くたびに``catalog.4DCatalog``ファイルが更新されました。XMLにCDATAが含まれる場合，``<comment>``要素に余計なタブ記号が追加されるためです。

* ACI0100803 Write Proの表組に極太のボーダーを設定した場合，ラインに細い隙間が描画されました。

**注記**: 問題は修正されましたが，デフォルトの背景[クリッピングボックス](https://doc.4d.com/4Dv17/4D/17/Using-4D-Write-Pro-standard-actions.200-3726284.ja.html)が「段落」に設定されているため，アンチエイリアス処理により，背景カラーがボーダーにオーバーフローすることがあります。これが問題であれば，クリッピングボックスを「``padding-box``」に変更することができます。

* ACI0101282 一定の時間（``3``時間以上），リモートデバッガーにアタッチされていた場合，クライアントの終了時に「Task Pending」メッセージが表示されました。

* ACI0101249 Mac版のみ。SVGをPDFに出力した場合，``@media``属性で印刷用のスタイル設定が出力に反映されませんでした。スクリーン用と同じイメージが出力されました。

* ACI0101284 リストボックスオブジェクトをコピーするとアプリケーションがクラッシュしました。

* ACI0101283 ボタンまたはテキスト入力またはリストボックスをコピーしてオブジェクトライブラリペーストした場合，エラーが返され，プレビューが正しく表示されませんでした。

* ACI0101275 フォームに配置されたWrite Proツールバーまたはウィジェットのタブを変更した場合，「ポインターが正しく初期化されていません」または「渡された変数はWriteオブジェクトではありません」というエラーが返されました。

**注記**: オブジェクトライブラリからWrite Proエリアとインタフェースのセットをフォームに追加した場合，``WParea1``というオブジェクト名になってしまい，``WParea``に変更できないことがありました。その場合，``WP UpdateWidget("WPtoolbar"; "WParea)``のようなスクリプトがエラーになります。修正により，オブジェクトライブラリから追加されたオブジェクトに正しい名前が設定されるようになりました。

* ACI0101220 リストボックス全体にCSSクラスが設定されている場合，フッターに設定されたCSSフォントがフォームの実行時に反映されませんでした。デザインモードでは問題ありません。

* ACI0101239 プラットフォームに追加インストールされたフォントをフォームオブジェクト指定することができませんでした。

* ACI0101231 ビルド版のクライアント/サーバー版アプリケーションを再ビルドした場合，クライアントキャッシュフォルダー内のリソースファイルが更新されませんでした。

* ACI0099960 プロジェクトモードのみ。デフォルトメニューバーの名前がローカライズされていませんでした。たとえば英語版であっても「Menu Bar #1」ではなく「Barre #1」という名前でした。

* ACI0099643 「ログを使用する」を有効に設定した直後に``1``回だけバックアップを実行した場合，``.4BK``は作成されますが，``.4BL``は作成されません。初回のバックアップを開始した時点でカレントログファイルが存在しないためです。この場合，ロールバックを実行することができませんでした。

**注記**: 修正により，初回のバックアップ時にも``.4BL``が作成されるようになりました。

* ACI0099560 フォームにクイックレポートエディターエリアを配置した場合，列をドラッグ＆ドロップ操作で移動することができませんでした。

* ACI0100288 ランタイムエクスプローラーに表示される予備プロセスが異常に高いCPU使用率を示していました。内部タイマープロセスの使用率に影響されているようです。予備プロセスの状態は「実行中」ではなく「イベント待機中」であるべきです。

**注記**: 予備プロセスはWebサーバーを起動すると作成される内部プロセスです。ランタイムエクスプローラーに表示されるCPU使用率の小数点の位置が間違っていました。``0.9%``と表示されるべきところが``90%``と表示されました。

* ACI0101222 プロジェクトモードのみ。データファイル用のユーザー設定が有効にされており，ストラクチャ設定に``directory.json``ファイルが存在する場合，アプリケーションがクラッシュしました。

* ACI0101199 フロート型から実数型に変換されたフィールドが存在する場合，「レコードを強制的に更新」モードでデータ圧縮を実行すると，エラーが検出されました。

* ACI0101198 ``USE ENTITY SELECTION``コマンドでメモリーリークが発生する場合がありました。

* ACI0101197 フロート型から実数型に変換されたフィールドが存在する場合，レコードの値をデバックに表示しようとすると，エラー``1045``が返されました。

* ACI0101196 SQLで``1.9E-4951``のような極小値を実数型のフィールドに代入した場合，``0``ではなく``INF``が挿入されました。

* ACI0101194 プロジェクトモードのみ。プラグインエリアの境界線がデザインモードでは表示されませんでした。

* ACI0101193 プロジェクトモードのみ。``.4DProject``ファイルがプロジェクトフォルダーの外に場所に置かれていた場合，ツールボックスの「スタイル」ページで作成したスタイルシートのCSSファイルが間違った位置に作成されました。

* ACI0101191 ``File``および``Folder``にファイルシステムパスを指定した場合，追加のパラメーター（``*``オプション）が無視されました。

* ACI0101185 クライアント/サーバー版のみ。ORDAの``entitySelection.minus()``メソッドがエンティティセレクションを返しませんでした。

* ACI0101138 フォームエディターにプロパティリストが表示されている状態で，そのフォームのJSONファイルを外部エディターで編集し，フォームエディターに復帰した場合，プロパティリストが表示されませんでした。

* ACI0101088 メソッドエディターに畳まれた``Case of``コードブロックが表示されており，その下に表示されている畳まれていないコードブロックの行を削除した場合，アプリケーションがクラッシュしました。

* ACI0101054 クライアント/サーバー版のみ。プロジェクトモードで``QUERY BY SQL``を実行した場合，サーバーがフリーズしました。

* ACI0101022 ``VP ADD formula name``でセルの相対参照を含むフォーミュラを追加することができませんでした。

**注記**: 修正により，``options``に相対参照を指定するための``baseRow``および``baseColumn``というプロパティが追加されました。

* ACI0101017 オブジェクトグループをビューに移動した場合，オブジェクトグループが非表示になりました。

* ACI0101002 新しい変数宣言シンタックスを使用した場合，シンタックスプレビューが正しく表示されませんでした。たとえば``C_TEXT($0)``と記述した場合，プレビューには「Method1 -> Text」のように表示されますが，``var $0 : Text``と記述した場合，プレビューには「Method1」とだけ表示されました。

* ACI0100880 自動スペルチェックが有効にされたテキスト入力エリアに対してコマンドでスペルチェックを実行した場合，スペルチェックのダイアログがすぐに閉じられてしまい，正常なスペルチェックができませんでした。

**注記**: 不具合は修正されましたが，スペルチェックを実行するボタンを「フォーカス可」に設定しないでください。スペルチェックはフォーカス中にオブジェクトを対象に実行されるからです。

* ACI0100416 ビルド版クライアントアプリケーションのコンポーネント内で``SMTP_Attachment``を使用した場合，アプリケーションがクラッシュしました。

* ACI0100993 グループに所属するオブジェクトを削除してフォームを閉じた場合，アプリケーションがクラッシュしました。

* ACI0100946 プロジェクトモードのみ。グループ内のオブジェクトを移動またはリサイズした後，グループ全体の位置とサイズが更新されませんでした。

* ACI0100892 プロジェクトモードにみ。サーバーを実行しているマシンではないリモートマシンからクライアントをサーバーに接続した場合，デザインモードはリードオンリーとなりますが，ツールボックスの「リスト」タブだけはクリックすることができました。
