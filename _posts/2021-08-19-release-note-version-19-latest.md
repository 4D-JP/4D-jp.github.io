---
layout: fix
title: "4D v19.0 修正リスト"
date: 2021-09-07 08:00:00
categories: 修正リスト
tags: "19.0"
build: 270260
version: 19.0
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0102142 ``IMAP Transporter``の`getMail`コマンドで添付ファイル名が取得できないことがありました。

**注記**: サポートされていないエンコーディング（例：ベトナム語 *Windows-1258*）がMIMEヘッダーに使用されている場合に問題が発生しました。修正により，ヘッダーがデコードできない場合，強引に処理する代わりにエンコードされた文字列がそのまま返されるようになりました。

* ACI0102268 Mac版のみ。`SET ABOUT`を実行しても，「…について」メニューの項目名がカスタマイズされませんでした。

**注記**: 18r6で起動後にシーケンスが調整されたことが関係しています。修正により，*On Startup*よりも後にプロジェクトメソッドでコマンドを実行すれば，メニューが更新されるようになりました。

* ACI0102206 メソッドエディターでクラスではない一般的なオブジェクト型（`C_OBJECT`または`var : Object`）のドット記法をコード補完で入力しようとした場合，プロパティやメンバー関数の候補が表示されませんでした。`var : 4D.Object`であれば問題ありません。

* ACI0102201 Mac版のみ。IPアドレスを特定して`80`番ポートでWebサーバーを開始することができませんでした。ヘルパーツールのインストール画面も表示されません。IPアドレスが「すべて（`0.0.0.0`または`::`つまり`ANY_ADDR`）」であれば問題ありません。

**注記**: Appleでは，サーバーのTCPリスナーを特定のIPアドレスにバインドすることを例外的な処理とみなしているようです。macOS Mojave以降，iOSと仕様が統一され，`1024`未満のポート番号でサーバーを公開するのにヘルパーツールが不要となりました（非公式情報）。これに伴い4Dでも，ヘルパーツールの使用を中止しましたが，特定のIPアドレスにリスナーをバインドするためには，引き続きヘルパーツールが必要です。修正により，「すべて」以外のアドレスが指定された場合，以前と同じようにヘルパーツールが使用されるようになりました。

* ACI0102166 クライアント/サーバー版のみ。*Components`フォルダーに*Resources*フォルダーが存在し，以前のクライアント接続で作成されたアーカイブが残っている場合，コンポーネントを入れ替えた後の再起動でキャッシュが再生成されないため，クライアント側のリソースがアップデートされませんでした。

**注記**: 修正により，ホストの*Resources*フォルダーと同じロジックがコンポーネントにも適用されるようになりました。

* ACI0102288 クライアント側のツールバーに「管理」ボタンが表示されませんでした。

* ACI0102141 クライアント/サーバー版のみ。クライアント側で`entitySelection.fromCollection()`を実行した場合，日付ではなくISO文字列形式で日付が保存されました。

* ACI0101834 クライアント/サーバー版のみ。クライアント側でロックしたエンティティを再びロックした後，エンティティに`Null`を代入してオブジェクトをクリアした場合，ロックが解除できなくなりました。`Null`を代入した時点でエンティティh解放されるべきです。

* ACI0102216 ビルド版のサーバーアプリケーションの*Server Database*フォルダー内に`Resources`フォルダーが存在する場合，クライアントが接続するとフォルダー内に*cache.xml*や*.4darchive*ファイルを含む`Caches`フォルダーが作成されました。アプリケーション内のフォルダーがインストール後に書き換えられることは望ましくありません。

**注記**: 修正により，*Libraries*および*Resources*のキャッシュは*Components*および*Plugins*と同じように処理されるようになりました。

* ACI0102188 クライアント/サーバー版のみ。レコードにオブジェクト型のフィールドが含まれる場合，同サイズのBLOBと比較し，エンティティの取得にずっと長い時間を要しました。スタンドアロン版では再現しないので，オブジェクトの解析ではないはずです。ネットワークリクエストログを開くと，オブジェクト型の`exec_duration`は同サイズのBLOB型の`5`倍程度の時間であることが確認できます。

* ACI0102098 クライアント/サーバー版のみ。クライアント側でトランザクション中に保存したリレーション属性を再び保存しようとした場合，エンティティのスタンプがインクリメントされているために保存できないというエラーが返されました。

* ACI0102260 `collection.remove`の`howMany`パラメーターで指定した個数が`index`パラメーターで指定した開始位置からの残数よりも多かった場合，開始位置が無視され，飽くまで指定した個数が削除されました。

**注記**: v19 LTS以降が修正されました。v18は過去バージョンと同じ振る舞いとなります。

* ACI0101326 コンパイルモードのみ。ポインター型のプロジェクトメソッドのパラメーターに`Null`が渡された場合，アプリケーションがクラッシュしました。
 
* ACI0102224 旧式ネットワークレイヤーのみ。クライアント側でSOAPサーバーをプリエンプティブモードで公開した場合，アプリケーションがフリーズする可能性がありました。
