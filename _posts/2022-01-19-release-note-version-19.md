---
layout: fix
title: "4D v19 修正リスト"
date: 2022-02-08 08:00:00
categories: 修正リスト
tags: "19.1"
build: 275855
version: "19.1"
permalink: /19/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0102663 インタープリターモードのみ。数日以上にわたってアプリケーションを運用し，プロセスの作成と破棄を日の案に繰り返した場合，ローカル変数に対するポインターが未定義となることがありました。

* ACI0102644 プロジェクトを開くたびにカタログファイル（*catalog.4DCatalog*）が変更されることがありました。データファイルを切り替えた場合，データファイルに合わせてインデックスのUUIDが更新されるためです。

**注記**: 修正により，データファイルとカタログファイルのインデックスUUIDが一致しない場合，カタログに合わせてデータのUUIDが更新されるようになりました。

* ACI0102629 クラスを削除した場合，再コンパイルせずにビルドアプリケーションが実行できました。
 
* ACI0102424 View Proスプレッドシートに統合されたセルが含まれている場合，SVG形式のエクスポートが正しく変換されませんでした。

* ACI0102635 *On Load*イベントでタブコントロールに対して`SELECT LIST ITEMS BY POSITION`を実行することにより，フォームのページを切り替えることができませんでした。
 
* ACI0102641 `WP Get position`が`1`回目と`2`回目以降で異なるページ番号を返すことがありました。正しいのは`2`回目以降の値です。

* ACI0102634 日本語入力モードでスペースバーを押しても半角スペース（`U+0020`）が入力されました。全角スペース（`U+3000`）が入力されるべきです。

* ACI0102622 BLOB型フィールドの保存オプションが「データファイル内」に設定されており，一部のレコードが暗号化されていない場合，MSCでデータファイルの暗号化または圧縮を実行しても，当該レコードが暗号化されないことがありました。
  
* ACI0102593 プロジェクトモードのみ。フォームの最小サイズを最大サイズよりも上に設定した場合，右位置が最大サイズを超えているオブジェクトが完全に表示されませんでした。矛盾した設定ですが，フォームのプロパティは`.json`ファイルまたはオブジェクト型で設定できる以上，あり得ないことではありません。バイナリモードでは，最大サイズと最小サイズの大きいほうが最大サイズになりました。

* ACI0102507 クライアント/サーバー版プロジェクトモードのみ。入力フォームでトランザクションを開始し，フォームを閉じると同時にトランザクションをキャンセルした場合，約`3`分後に「サーバーとの接続が壊れました」エラーが返されました。トランザクション中に`ARRAY TO LIST`を実行した場合に問題が発生します。

* ACI0102546 フランス語版のみ。Write Proウィジェットに英語とフランス語のローカライズが混在していました。

* ACI0102560 データベース設定で「Webサービスリクエストを許可する」を無効にした場合，`/4DWSDL`にアクセスするとXMLエラーが表示されました。
 
* ACI0102636 ページ・カラム・セクションのブレークで終了する段落に`WP INSERT DOCUMENT`でドキュメントの断片を挿入した場合，`WP Get position`が正しい値を返さなくなりました。

* ACI0102630 クライアント/サーバー版のみ。ORDAのHTTPリクエストがgzipではなくzlibを使用するためにメモリーリークが発生しました。

* ACI0102618 Write Proドキュメントの表組の直前にハイバーリンクを挿入した場合，列の幅を変更することができませんでした。`WP SET LINK`でハイパーリンクを設定した場合は問題ありません。

* ACI0102601 View Proスプレッドシートのセルスタイルに`wordWrap`が適用されている場合，`VP EXPORT DOCUMENT`がエラーを返しました。

* ACI0102589 Apple Siliconのみ。プラグインコマンドの整数型パラメーターに定数の`0xffff`が渡されている場合，コンパイルエラーが返されました。

* ACI0101791 コンパイルされていないプロジェクトの*On Startup*データベースメソッドで`BUILD APPLICATION`を使用した場合，コンパイラーのエラーログファイルが出力されませんでした。*On Startup*のタイミングでは，デザインモードがセットアップされていないためです。

* ACI0102606 コンパイルモードでは`#DECLARE`構文で宣言したパラメーター名の大文字と小文字が区別されました。

* ACI0102357 Apple Siliconのみ。メソッドが追加されていない空のプロジェクトをコンパイルしようとした場合，内部エラーが返されました。

* ACI0102425 クラス関数の中で`WEB SET HTTP HEADER`を使用した場合，常に`200 OK`のHTTPステータスコードが返されました。プロジェクトメソッドで使用すれば問題ありません。

* ACI0102313 日本語のテーブルタイトルを`VP SET FIELDS`で登録した場合，テーブル名の濁点や半濁点が除去されました。

* ACI0102555 `LISTBOX SET PROPERTY`に空の文字列を渡してリストボックスの詳細フォーム名（`lk detail form name`）をリセットすることができませんでした。

* ACI0102474 Mac版のみ。マウス操作でウィンドウをリサイズした場合，リサイズ中は`GET WINDOW RECT`から返される`top`位置が上下に変動しました。

* ACI0102388 詳細フォーム型のサブフォーム（ウィジェット）に対して`OBJECT SET SCROLL POSITION`または`OBJECT GET SCROLL POSITION`を使用することができませんでした。

**注記**: コマンドが改良され，詳細フォーム型のサブフォームも操作できるようになりました。ただし，`OBJECT SET SUBFORM`でサブフォームの内容をセットした場合は注意が必要です。サブフォームのロードは同期処理ではないため，複数のイベントサイクルにコードを分散する必要があります。具体的には
1. `OBJECT SET SUBFORM` → `CALL FORM`
1. サブフォームがロードされる → `CALL FORM`（２回目）
1. スクロール位置の操作ができるようになる

サブフォームを一旦ロードしてからスクロールするため，画面が一瞬ちらつくかもしれません。

* ACI0102225 ビルドしたサーバーアプリケーションにコマンドラインオプションの`--cache-folder-name`を渡してサーバーのキャッシュフォルダーをカスタマイズすることができませんでした。
