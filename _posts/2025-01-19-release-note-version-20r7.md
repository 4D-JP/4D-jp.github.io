---
layout: fix
title: "4D 20r7 Hotfix 1 修正リスト"
date: 2025-02-16 08:00:00
categories: 修正リスト
tags: 20r7
build: 100359
version: "20r7"
permalink: /2025/19/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0105398 Windows版のみ。`PRINT SETTINGS`を実行した場合，*Windows Server 2025* の新しい印刷設定ダイアログが表示されました。従来の印刷設定ダイアログが表示されるべきです。

* ACI0103409 設定＞メソッドエディター＞オプションの「変数とフィールドを強調」を「選択範囲上のみ」にした場合，メソッドエディターで変数をダブルクリックすれば，大文字と小文字を区別せずに同名の変数がハイライト表示されるはずですが，大文字と小文字が区別されました。

**注記**: 修正により，プロパティ名は大文字と小文字が区別され，変数名は大文字と小文字されないようになりました。

* ACI0105341 Mac版のみ。「4Dについて…」およびWelcome ウィザードが4Dのアピアランスではなく，システムの外観モードで表示されました。

**注記**: それぞれの画面にはWebエリアが使用されており，CSSの`@media (prefers-color-scheme: dark)`が設定されていました。修正により，アプリケーションのアピアランスが反映されるようになりましたが，ダイアログを表示した後にシステムの外観モードが切り替わった場合，自動的に変化することはありません。

* ACI0105005 オブジェクト型フィールドのORDAクエリで`YYYY-MM-DD`形式の日付リテラルが正しく評価されませんでした。日付型フィールドのORDAクエリであれば問題ありません。

* ACI0105323 `entitySelection.attributeName`をエンティティのエイリアス属性として宣言した場合，リレーション属性のすべてのエンティティが返されませんでした。

* ACI0105224 クライアント/サーバー版のみ。「サーバー側で実行」メソッドにトランスポーターオブジェクトをパラメーターとして渡した場合，添付の`File`オブジェクトが失われました。

* ACI0105403「データファイルの外に保存」オブションが選択されたフィールドにORDAで値を代入した場合，データが外部ファイルに保存されませんでした。クラシック言語を使用すれば問題ありません。

* ACI0105392 クライアント/サーバー版のみ。`EXECUTE ON CLIENT`プロセスが動作している状態でデザインモードのメニューからクライアントを終了した場合，アプリケーションがクラッシュしました。

* ACI0105351 オブジェクト型フィールドのプロパティにクラシック言語とオブジェクト記法で代入した値が保存されませんでした。クラシック言語と`OB SET`，あるいはORDAとオブジェクト記法を使用すれば，問題なく値が保存されます。

```4d
CREATE RECORD([Table_1])
[Table_1]obj:={}
SAVE RECORD([Table_1])
[Table_1]obj.Monaco:=True
SAVE RECORD([Table_1])
```

* ACI0105352 Windows版のみ。CEF版Webエリアにキーストークを監視するタイプのWebアプリケーションを表示した場合，パフォーマンスに問題がありました。

**注記**: CEFのバージョンアップに伴い，過去バージョン向けのパッチが無効になりました。修正により，[*4DCEFParameters* ファイル](https://blog.4d.com/ja/custom-parameters-for-initializing-embedded-web-area/)を使用せず，非公式の`WA SET PREFERENCES (...;200;False)`を実行することで，`disable-gpu-compositing`を無効化し，パフォーマンスを改善することができます。とはいえ，これは特定のWebアプリを対象とした特別な措置であり，通常は使用するべきではありません。

* ACI0105240 `var`構文で変数のデータモデルクラスを宣言した場合，その変数のリレーション属性に続けてパスを入力しようとすると，リレーション属性であるデータクラスではなく，変数のデータクラスのプロパティがコード補完に表示されました。

* ACI0104489 メソッドエディターでクラス名をダブルクリックしてハイライト選択した場合，メニューの「定義に移動」が動作しませんでした。マウスやキーボードを使用してクラス名をハイライト選択した場合，あるいはクラス名をハイライト選択せずにキャレットをクラス名に置いた場合は問題ありません。

* ACI0105373 Windows版のみ。フォームにスプリッターが配置されている場合，リサイズ操作で移動したオブジェクトが新しい位置に引っかかってしまうことがありました。ウィンドウを小さくした直後によく現象が発生します。

* ACI0104856 Write Proドキュメントにセルのマージされたテーブルが表示されている場合，水平ルーラーの左マーカーが間違った位置に表示されました。

* ACI0104816 Write Proドキュメントのテーブルの後に改行コードが存在する場合，`WP Get elements`と`wk type table`で取得したテキストに余計な改行コードが含まれました。

**注記**: `WP Get elements`ではなく`WP INSERT DOCUMENT`が修正されました。

* ACI0105319 ビルド版サーバーアプリケーションの「ウィンドウ」メニューに「プロジェクト依存関係」が表示されました。*Info.plist* ファイルに`com.4D.HidePackageManagerMenuItem`を追加すれば，回避することができます。

* ACI0105308 フランス語版のみ。ようこそ画面のフランス語が正しくありませんでした。*Ouvrir ou Créer un projet d'application* の"C"は小文字で表記するべきです。

* ACI0105295 クライアント/サーバー版のみ。サーバー側で特定のキーボードショートカットを設定することができませんでした。`escape` `tab` `backspace` `return` `space` および矢印キーが認識されません。

**注記**: リソースのXLIFFファイル（*ToolBox__.xlf* ）に問題がありました。
* ACI0105251 コンポーネントから関連メニューバーの設定されたフォームを表示した場合，アプリケーションのメニューバーが切り替わりませんでした。

* ACI0105230 目的の値よりも前に`null`が出現する場合，コレクション型プロパティに対するクエリがエンティティを返しませんでした。つまり，コレクション型プロパティの値が`["Value";Null]`であれば，`attr.col[] in :1`クエリでエンティティをクエリできますが，`[Null;"Value"]`では，クエリできませんでした。

**注記**: 修正に伴い，ブール型フィールドに対するシーケンシャルクエリの不具合も是正されました。ブール型フィールドの値が`Null`の場合，`NOT(boolField IS NOT True)`がヒットするようになりました。

* ACI0105135 計算属性のORDAクエリに[名前付き引数](https://developer.4d.com/docs/ja/Concepts/parameters#オブジェクトプロパティを名前付き引数として使用する)を使用した場合，[`Function query`](https://developer.4d.com/docs/ja/ORDA/ordaClasses#function-query-attributename)にパラメーター値が渡されませんでした。プレースホルダーを使用すれば問題ありません。

* ACI0104743 コンポーネントのクラス名をエクスプローラーで編集することができました。入力を確定すると，エラーメッセージが表示され，クラス名が復元されます。

* ACI0104609 クライアント/サーバー版のみ。プロジェクトメソッドまたはクラス関数を文字列で渡した場合，`entitySelection.orderByFormula()`がエラーを返しました。`Formula from string`で文字列をフォーミュラに変換すれば問題ありません。