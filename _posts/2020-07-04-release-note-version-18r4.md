---
layout: fix
title: "4D v18r4 修正リスト"
date: 2020-08-29 08:00:00
categories: 修正リスト
tags: 18r4  
build: 255349
version: 18r4

---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}}  

* ACI0100980 hMailServerから``POP3 Transporter``の``getMail()``メソッドでメールを受信しようとした場合，``Null``が返されることがありました。

* ACI0101137 ファイル名にドイツ語のアクセント記号が含まれる添付ファイルを``MAIL Convert from MIME``で送信することができませんでした。

* ACI0101121 プロジェクトモードでは「リレートした１レコードがなければ通知」が機能しませんでした。

**注記**: プロジェクトモードでは，原則的にフォームオブジェクトの「フィールド」と「変数」の区別はなく，両方とも「テキスト入力」となります。修正により，オブジェクトの「変数または式」がフィールドの場合には，フィールド特有の振る舞いが再現されるようになりました。

* ACI0101040 クライアント/サーバー版のプロジェクトモードのみ。サーバーマシン上のクライアントでエクスプローラーのフォルダーを作成した場合，アプリケーションがクラッシュしました。

* ACI0101128 ``WP Get formulas``に未定義のオブジェクトが渡された場合，アプリケーションがクラッシュしました。

**注記**: 修正により，シンタックスエラーが返されるようになりました。

* ACI0101113 ループ内で``READ PICTURE FILE``を使用して大量のピクチャを読み込んだ場合，メモリーリークが発生しました。Windows版ではアプリケーションがクラッシュまたはフリーズしました。Mac版では，アプリケーションの実行速度が大幅に低下しました。18.x，17.xでは問題ありません。

* ACI0101112 クライアント/サーバー版のみ。エンティティセレクションから派生したクラスのメンバーメソッド内では``This.length``が常に``0``を返しました。クライアント側で作成したエンティティセレクションであれば問題ありません。

* ACI0101086 Mac版のみ。昔のバージョンで作成したストラクチャから変換されたフォームは，拡大率が``1440%``に設定されていることがありました（Windows版では``100%``と表示されます）。そのようなフォームを印刷した場合，以後，アプリケーションを終了するまで，すべての印刷に異常な拡大率が適用されました。

* ACI0101071 エンティティセレクションから派生したクラスのメンバーメソッドの名称に数字が使用されていた場合（例：``method1``），そのメソッドを呼び出すと「無効なメンバーメソッド名」エラーが返されました。

* ACI0101070 クライアント/サーバー版のみ。エンティティセレクションから派生したクラスのメンバーメソッドの戻り値が正しくありませんでした。``$0``に代入した値ではなく "Dataclass" という文字列がクライアントに返されました。

* ACI0101053 クライアント/サーバー版のみ。サーバーマシン上のクライアントでストラクチャに変更を加えた場合，エンティティセットが無効になりました。リストボックスにレコードを表示し，カタログをリロードしてから``20``秒ほど画面を放置すると，クライアントプロセスが延期されますが，その後，ウィドウをリサイズするなどしてリストボックスをリフレッシュしようとした場合，「このエンティティセットはデータクラスのものではない」というエラーメッセージが表示されました。

* ACI0100992 クライアント/サーバー版のみ。RESTリソースとして公開されていないリソース（フィールドなど）にORDAでアクセスすることができませんでした。18 r3以前は問題ありません。

* ACI0100359 サブフォームに表示されたクイックレポートのカラムを移動しても，表示が更新されませんでした。レポートの内容自体は合っています。

* ACI0101043 ツールボックスから``.css``ファイルを作成したり開いたりすることができませんでした。

* ACI0101024 4D ViewドキュメントをView Proに変換した場合，１番列の下および右の罫線が表示されませんでした。

* ACI0101066 ``MAIL Convert from MIME``に渡されたMIMEデータに``CRLF``コードが含まれていない場合，アプリケーションがハングしました。ただし，空の文字列であれば問題ありません。

* ACI0100965 クライアント/サーバー版プロジェクトモードのみ。データモデルクラスのメンバーメソッドからオブジェクト型が返された場合，アプリケーションがクラッシュしました。インタープリターモードでは問題ありません。

* ACI0100964 4D ViewからView Proに変換されたドキュメントを``.xlsx``形式でエクスポートした場合，そのスプレドシートをMicrosoft Excelで開くとエラーが表示されました。

* ACI0101042 プロジェクトモードのみ。クライアント/サーバーモードでは，デザインモードがロックされているはずですが，マークダウン形式のドキュメンテーションを追加することができました。サーバー側のドキュメンテーションがクライアント側にコピーされないことも問題です。

* ACI0101034 Windows版のみ。サーバー側で「4D Serverについて…」画面を表示してから閉じようとした場合，アプリケーションがフリーズしました。

* ACI0101012 Mac版のみ。``WP EXPORT DOCUMENT``でエクスポートしたMIMEをGoogle Chromeブラウザに表示することができませんでした。また，その内容をメールで送信した場合，受信者のメールクライアントにHTMLのソースコードがそのまま表示されました。

* ACI0101030 プロジェクトモードのみ。**var**シンタックスで単独のローカル変数の型を宣言した場合，その変数は自動的に空の値でインスタンス化されますが，[セミコロン区切り](https://discuss.4d.com/t/aci0101030-var-does-not-instantiate-all-variables/14798/9)で複数のローカル変数をまとめて宣言した場合，それらの変数は自動的に空の値でインスタンス化されませんでした。

* ACI0101036 クライアント/サーバー版のみ。データストアクラスのメンバーメソッドで``entitySelection.orderByFormula()``を実行した場合，エラーが返されました。

* ACI0101032 エンティティセレクション型リストボックスのデータソースをセットした後，そのテーブルにフィールドを追加するなど，エンティティ定義を変更した場合，アプリケーションがクラッシュしました。

* ACI0100907 ``VP Convert from 4D View``コマンドがスレッドセーフではありませんでした。

* ACI0100553 Mac版のみ。4D View Proエリアが配置されたフォームを素早く何度も開いたり閉じたりした場合，アプリケーションがクラッシュすることがありました。

* ACI0101028 Windows版のみ。PHPフォルダーに必要なランタイムDLLファイルがありませんでした。

	- concrt140.dll
	- msvcp140.dll
	- msvcp140_1.dll
	- msvcp140_2.dll
	- vccorlib140.dll
	- vcruntime140.dll

* ACI0100937 メソッド名に大文字が使用されている場合，メソッドのドキュメンテーション（``.md``）に挿入されているメソッドのアンカーが正しく動作しませんでした。MacではFinderにフォーカスが移動し，Windowsでは何も起きません。

**注記**: 無効なアンカーがクリックされた場合の動作が修正されました。ドキュメント内のアンカーに対するジャンプが動作するためには，アンカー名の大文字と小文字が一致している必要があります。クラスのメンバーメソッドに対するアンカーを挿入する場合，（たとえメソッド名に大文字が使用されていたとしても）すべて小文字でアンカー名とヘッダーのタイトルを記述するようにしてください。

```md
[link to getValues](#getvalues)

...

## getvalues
```

* ACI0100869 クライアント/サーバー版のみ。属性パスを指定して``entity.toObject()``を実行した場合，返されるオブジェクトにリレーション属性が含まれないことがありました。

* ACI0100963 プロジェクトモードのみ。``BUILD APPLICATION``データベースフォルダー内にでOEM版のクライアント/サーバーアプリケーションをビルドすることができませんでした。ACI0100783の修正により，ビルド中，データベースフォルダー内の``.4DCatalog``ファイルがロックされるようになったためです。

**注記**: 問題は修正されましたが，システムの制約により，アプリ内部にビルドする場合，Macでは``sudo``モードで4Dを起動する必要があります。通常，この場所にアプリをビルドすることは想定されていません。

* ACI0100997 ODBCアドミニストレーターで4Dをデータソースとして登録することができませんでした。ODBCドライバーの名前が変更されているためです。

**注記**: フィーチャーリリース版のODBCドライバーは「4D v18 Rx ODBC Driver 64-bit」のような名称であるのに対し，ロングタイムサポート版（LTS）の名称は「4D v18 ODBC Driver 64-bit」となっています。これは，インストーラーが互いのドライバーを上書きしないようにするための措置でした。問題は，Rバージョンのドライバー本体がこの命名規則を考慮していなかったことが原因でした。つまり，LTS版のドライバーだけをインストールすれば，RバージョンもODBCアドミニストレーターでデータソースとして登録することができます（両者のODBCドライバーには互換性があります）。修正により，RバージョンのドライバーはRバージョンのパスを参照するようになりました。

* ACI0100978 ``QUERY BY FORMULA``の右オペランドにポインターの逆参照を渡した場合，エラーが返されました。左オペランドであれば，問題ありません。

* ACI0100951 Write Proエリアに挿入されたフォーミュラの後にキャレットを移動して``backspace``キーを使用した場合，フォーミュラ全体が削除されませんでした。フォーミュラが選択されていれば，問題ありません。

* ACI0100700 ODBCドライバー経由でテキストフィールドに二重引用符（``"``）を含むデータを登録した場合，引用符がブラケット記号（``[`` ``]``）として保存されました。ODBCではなく，SQLパススルーであれば，問題ありません。

* ACI0100306 Write Proウィジェットのツールでページのマージンを変更することができませんでした。

**注記**: 修正により，ドキュメント全体ではなく，選択されているセクションにマージンやバディングの変更が適用されるようになりました。

* ACI0100981 Write Proに改行だけを返すメソッドが数式として改行の直前に挿入されている場合，フッターで``This.pageCount``というフォーミュラを評価すると，アプリケーションがクラッシュしました。

* ACI0100970 プロジェクトモードのみ。``On Load``イベントで``OBJECT DUPLICATE``を使用し，非表示のリストボックスで複製した場合，フォームを閉じると同時にアプリケーションがクラッシュしました。

* ACI0100943 サーバーをサービスとして起動し，クライアント側でサーバー管理画面を表示しようとした場合（例：``OPEN ADMINISTRATION WINDOW``），エラーが表示されました。Designerにパスワードが設定されていなければ問題ありません。

* ACI0100989 Windows版のみ。ダウンロードしたインストーラーの開発元が「4D SAS」ではなく「未確認」と表示されました。

* ACI0100934 View Proの「関数カテゴリ」リストボックスに表示される関数名がソートされていませんでした。追加あれたされたカテゴリは，リストの最後ではなく，正しいソート位置に挿入されるべきです。

* ACI0100991 Mac版のみ。DOCXまたはPDF形式でWrite Proドキュメントをエクスポートした場合，ペーストしたピクチャが画像のプレースホルダーとして表示されました。

* ACI0100989 Windows版のみ。ダウンロードしたインストーラーの開発元が「4D SAS」ではなく「未確認」と表示されました。

* ACI0100649 Mac 64ビット版のみ。プラグインSDKのエントリーポイント``PA_GetKey``は，``option``キーの補助を利用して入力したアクセント文字を返しませんでした。U.S.キーボード配列の場合，``option``キーを押しながら``u`` ``e`` ``i`` のようなキーを押すことにより，結合用のアクセント記号を入力することができますが，``PA_GetKey``は，そのような文字に対して``0``を返し，続けて入力されたキーをアクセント記号がない文字のコードを返しました。

* ACI0100632 4D Write Proエリアをズームするたびに``On Data Change``イベントが発生しました。

* ACI0100631 4D Write Proエリアに数式を挿入した場合，``On Data Change``イベントが発生しませんでした。

* ACI0100630 4D Write Proエリアのスクロールバーを操作した場合，``On Data Change``イベントが発生しました。

* ACI0100629 トランスポーターで送信したメールの件名に含まれるスペース記号が``_``文字にエンコードされず，そのまま送信されました。

* ACI0100622 クライアント/サーバー版のみ。``dataClass.get()``のプライマリーキーに空の文字列を渡した場合，スタンドアロン版では``null``が返されましたが，クライアント/サーバー版ではそれぞれの属性が``null``にセットされたエンティティが返されました。

* ACI0100620 日本語ではないシステム言語設定で日本語のファイル名を添付して``SMTP_Send``を実行した場合，エラー``-43``が返されました。

* ACI0100593 コンポーネントがコンパイルモードで実行されている場合，コンポーネントメソッドのパラメーターがデバッグログ（モード``2``または``6``）に記録されませんでした。

* ACI0100571 メールサーバーがExchangeまたはdovecotの場合，``POP3 Transporter``がフリーズしました。GMailでは問題ありません。

* ACI0100564 ``dataStore.canceTtransaction()``メソッドを実行した場合，トランザクション中に削除されたエンティティのロックが解除されませんでした。

* ACI0100556 Windows版のみ。CEF版Webエリアのテキスト入力にユーロ通過記号（``€``）を入力することができませんでした。代わりに「トーフ」が入力されます。32ビット版では問題ありません。ペースト操作であれば入力することができます。``Alt``キーを使用した特殊文字の入力全般の問題です。

* ACI0100487 ツールボックスのメニューエディターでピクチャライブラリから選んだ画像をスプラッシュ画面の背景イメージにすることができませんでした。

* ACI0100442 Webサービス（SOAP）メソッドからテキスト配列を返した場合，クライアント側（``WEB SERVICE GET RESULT``）でアプリケーションがクラッシュしました。サーバーから返されるXMLが正しくないためです。

* ACI0099944 ``Execute on server``のようなコマンドに渡されたパラメーターが明示的に型宣言されていない場合，コンパイルに失敗しました。期待されるのは，デフォルトでバリアント型になることです。

* ACI0099052 ``FTP_Receive``および``FTP_Delete``はデンマーク語の文字（``æøå``）に対応していませんでした。エラー``10060``が返されました。

* ACI0100854 同名のXML要素を``DOM Create XML element``で続けて追加した場合，呼び出しとは逆の順に要素が作成されました。つまり，既存の要素の直前に新しい要素が挿入されました。互換性オプションの「[標準XPathを使用する](https://doc.4d.com/4Dv18R3/4D/18-R3/Compatibility-page.300-4919546.ja.html)」が有効にされていなれば，問題ありません。

* ACI0100857 クラスのメンバーメソッドでクラスオブジェクト``This``をパラメーターとして``DIALOG``に渡した場合，呼び出し後に別のオブジェクトが返されました。フォームに表示したリストボックスのコードが使用している``This``に影響されているようです。

* ACI0100861 ``4DACTION``で呼び出されたメソッドから``WEB SEND TEXT``を使用した場合，メモリーリークが発生しました。コンポーネントの``WEB Server``で``4DINCLUDE``タグが使用できなかった問題（ACI0100832）が修正されたことによる副作用のようです。

* ACI0100868 Mac版のみ。4D for iOSの「プロダクションサーバーデータファイル」を有効にし，「公開」セクションにサーバーのIPアドレスとポート番号を入力した後，サーバー側の``mobileapps``から``key.mobileapp``をファイルをクライアント側にコピーし，「データ」セクションでローカルのキーファイルを選択しても，「サーバーはオンラインです」のメッセージが表示されませんでした。

* ACI0100891 プロジェクトモードのみ。フォームエディターからフォームを実行し，ウィンドウを移動またはリサイズして閉じた場合，次回の実行で配置が再現されませんでした。``geometryStamp``プロパティが更新されていないためです。

* ACI0100879 Windows版のみ。SDIモードアプリを実行し，外部モニターに表示したWrite Proインタフェースで新規スタイルシートを作成しようとした場合，保存ダイアログがメイン画面に表示されました。

* ACI0100877 Mac版のみ。iPadのシステム環境設定で4D for iOSアプリの「Send feedback」を有効にした場合，アプリからフィードバックが送信できるようになりますが，実際にはフィードバックメニューを操作することができませんでした。

* ACI0100875 バイナリデータベースをプロジェクトにエクスポートした場合，そのプロジェクトが開けないことがありました。書き出されたXMLにエラーがあるためです。

* ACI0100872 ``PICTURE PROPERTIES``の第１パラメーターにオブジェクトのピクチャ型プロパティを渡した場合，コンパイルモードでエラーが返されました。代わりにピクチャ型のローカル変数を使用すれば問題ありません。

* ACI0100853 サーバー管理画面の「ユーザー」あるいは「プロセス」ページを切り替えている最中に``Get process activity``を実行した場合，アプリケーションがクラッシュしました。

* ACI0100851 クライアント/サーバー版のみ。サーバーがWindows版の場合，１対Ｎリレーションが存在するテーブルに対して``dataClass.fromCollection()``メソッドを実行するとエラーが返されました。

* ACI0100847 64ビット版のみ。``SET CURRENT PRINTER("")``でカレントプリンターをデフォルトプリンターにリセットすることができませんでした。

* ACI0100846 Windows版のみ。地域と言語が英語（シンガポール）に設定されている場合，日付フォーマット（``System Date abbrievated``）が正しくありませんでした。``DD/MM/YY``ではなく``MM/DD/YY``で表示されました。

* ACI0100845 メールオブジェクトの``messageId``プロパティに空の文字列を設定してトランスポーターでメールを送信した場合，MIMEメッセージの``Message-ID``ヘッダーが中途半端（``<>``）な状態で出力され，メールがスパム扱いになる恐れがありました。``messageId``プロパティが未定義であれば，自動的に値が設定されるので，問題ありません。

* ACI0100844 Windows版のみ。MDIモードで最大化されたウィンドウを表示しているプロセスが新規ウィンドウを表示した場合，新しいウィンドウは最大化されていない状態で表示されますが，そのウィンドウをマウス操作でリサイズしようとすると，アプリケーションがクラッシュしました。

* ACI0100842 Mac版のみ。ZIP圧縮したアプリを``ZIP Read archive``で展開した場合，内部のシンボリックリンクがオリジナルのアイテムよりも先に展開されるため，アプリが起動できませんでした。

* ACI0100836 入力不可・フォーカス可のオブジェクトにフォーカスを移動した場合，テキストをコピーすることができますが，編集メニューの「コピー」はdisabled状態のままでした。

* ACI0100835 メソッドエディターでプロジェクトメソッド名を選択して「定義に移動」した場合，エディターでそのメソッドが開きませんでした。

* ACI0100832 ``WEB Server``コンポーネント内では``4DINCLUDE``タグが動作しませんでした。

* ACI0100831 ``WEB SEND FILE``をコンポーネント内で使用し，文字セットが特定できないファイルを送信した場合，アプリケーションがクラッシュしました。

* ACI0100826 Kerioのメールサーバーに対して``POP3 Transporter``の``getMail()``メソッドを使用した場合，``5``分間，アプリケーションがフリーズしたようになりました。``getMailInfoList()``から返されるバイト数と，最終的にダウンロードされるBLOBデータのサイズが一致しないことが関係しているようです。

* ACI0100825 SQLの``IN``句をインデックスフィールドに対して使用した場合，``IN``のリストが降順にソートされていないと，正しい結果が返されませんでした。

* ACI0100822 ``Open form window``コマンドにパラメーターとして渡されているテーブルフォーム名を範囲選択して「定義に移動」した場合，フォームエディターではなく，ストラクチャエディターのテーブルプロパティにジャンプしました。

* ACI0100821 ストラクチャをプロジェクトにエクスポートした場合，出力フォームに配置されたブール型フィールドが正しく変換されませんでした。

* ACI0100809 クライアント/サーバー版のみ。IPアドレスの「許可/拒否リスト」のエントリーにクライアントの「拒否」アドレスと「すべて許可」を組み合わせた設定を入力した場合，拒否」に設定されているアドレスからクライアントを接続することができました。たとえば

* ACI0100803 Write Proの表組に極太のボーダーを設定した場合，ラインに細い隙間が描画されました。

**注記**: 問題は修正されましたが，デフォルトの背景[クリッピングボックス](https://doc.4d.com/4Dv17/4D/17/Using-4D-Write-Pro-standard-actions.200-3726284.ja.html)が「段落」に設定されているため，アンチエイリアス処理により，背景カラーがボーダーにオーバーフローすることがあります。これが問題であれば，クリッピングボックスを「``padding-box``」に変更することができます。

* ACI0100801 Webサーバーのホームページが設定されていない場合，``Get 4D folder(HTML Root folder)``および``Folder(fk web root folder)``は絶対パスではなく，相対パスを返しました。

* ACI0100799 ``1``行 ``1``列にコマ割り設定されたピクチャボタンをクリックすると，アイコン画像が消えました。再度，クリックすると，ピクチャが再表示されます。

* ACI0100928 Mac版のみ。デザインモードのエクスプローラーで「ホーム」タブのフォルダーに収容されているクラスをメソッドエディターで開いた後，``command``+``W``または``command``+``S``を入力した場合，クラスが「ホーム」タブから消えることがありました。アプリケーションを再起動すると，「ホーム」タブのトップレベルにクラスが移動していることが確認できます。

* ACI0100923 新しいXPathシンタックスを有効にした場合，``DOM Create XML element``の速度が以前よりもずっと遅くなりました。

* ACI0100916 ``OBJECT SET SCROLLBAR``でピクチャオブジェクトのスクロールバーを表示した場合，フォームのページを切り替えると，スクロールバーが非表示に戻りました。

* ACI0100915 Mac版のみ。4D for iOSの同期処理中にアプリがクラッシュすることがありました。

* ACI0100908 ``FTP_Receive``のパラメーターにファイル名を渡した場合，相対パスとして処理されず，エラー``-48``が返されました。

* ACI0100902 コレクション型リストボックスの``On Data Change``イベントでは``This``が使用できませんでした。

* ACI0100898 ``VP SET FORMULA``でフォーミュラを設定したセルに対して``VP COLUMN AUTOFIT``を使用した場合，``autoFit``が適用されませんでした。

* ACI0100897 非常に長い件名のメールをトランスポーターで送信した場合，空白文字が挿入されました。ヘッダーエンコーディング``mail mode UTF8 in base64``で問題が発生します。

* ACI0100896 プロジェクトモードのみ。マークダウン形式のコメント内に記述したコード（言語は未指定）が4Dコードブロックとして表示されました。

* ACI0100894 エンティティセレクション型リストボックスのデータソースをクエリし，エンティティセレクションのサイズを減らした場合，``LISTBOX SELECT ROWS ``が正しく動作しませんでした。

* ACI0100893 「外部ファイルのユーザー設定」が有効にされている場合，サーバー側の管理画面でクライアントをドロップすることができませんでした。

* ACI0100961 タブコントロールにアイコンが表示されている場合，タイトル文字列の直下ではクリックイベントが発生しませんでした。

* ACI0100890 32ビット版で作成されたラベル定義ファイルをラベルエディターでロードしようとした場合，エラー``-9930``が返されました（``Editor_ON_DATA_CHANGE``コンポーネントメソッドの``286``行目）。ACI0096880が修正されたことによる副作用のようです。

* ACI0100966 Mac版のみ。4D for iOSで設定した「パラメーター無し」アクションのスコープを後から変更することができませんでした。追加アクションのスコープはテーブル，更新アクションのスコープはカレントエンティティであり，他に選択肢はありません。「パラメーター無し」アクションは，どちらでも良いはずです。

* ACI0100953 Mac版のみ。4D for iOSのクエリフィルターが設定されたデータクラスに対し，１対Ｎリレーションでアクセスした場合，フィルターが適用されず，すべてのレコードが表示されました。

* ACI0100932 プロジェクトモードのみ。オブジェクトの「クラス」プロパティだけを変更した場合，JSONフォームの配置スタンプが更新されませんでした。

* ACI0100797 WebサーバーにHTTPの``PATCH``メソッドを送信した場合，HTTPヘッダーの``X-METHOD``フィールドに値がセットされませんでした。

* ACI0100795 XPathで指定した要素名にハイフン（``-``）記号が含まれている場合，``DOM Find XML element``でその要素ノードをみつけることができませんでした。ハイフン（``-``）記号がマイナス演算子として評価されるためです。

* ACI0100794 自己署名証明書など，信頼されていない証明書を使用しているHTTPSページはCEF版の統合Webエリアに表示されませんでした。

* ACI0100793 １対Ｎのリレーション属性に対して``AND``と``OR``条件を組み合わせてORDAクエリを実行した場合，結果が正しくありませんでした。

* ACI0100790 プロジェクトモード。フォームのプロパティを変更した場合など，特的の条件では，ドキュメントが更新されたことを示すアイコン（Macでは閉じるボタンのスポット，Windowsではアスタリスク記号）が表示されませんでした。プロパティリストを操作した後，フォームエディターをクリックすれば，アイコンが表示されます。

* ACI0100789 エンティティセレクション型リストボックスの「選択された項目」プロパティの管理が正しくありません。たとえば，すべての行を選択した後，行の選択を解除した場合，「選択された項目」から対応する行が除かれませんでした。

* ACI0100788 ``TRANSFORM PICTURE``に``Crop``オプションを指定した場合，特定の画像でアプリケーションがクラッシュしました。内部的な計算で座標が負の値がなる場合に問題が発生します。

* ACI0100783 プロジェクトモードのみ。OEMライセンスを使用し，``IsOEM``キーを``True``に設定してサーバーアプリケーションをビルドした場合，データファイルを開こうとするとエラーが返されました。バイナリモード，スタンドアロン版，あるいは標準ライセンスであれば，問題ありません。

* ACI0100782 リモートデータストアセッションが開かれている状況で``QUIT 4D``を実行した場合，サーバーがハングすることがありました。進行中のセッション数が``2``個であれば問題ありません。``3``個であれば，稀にハングします。進行中のセッション数が``6``個の場合に問題が発生します。

* ACI0100781 ``MSG_Extract``で取り出した添付ファイル名のアポストロフィ記号がデルタ（``∆``）記号になりました。

* ACI0100779 テーブルの暗号化を有効にした時点で該当するテーブルにレコードが存在しなかった場合，そのテーブルにレコードを追加することができませんでした。

* ACI0100777 非常に長いループ処理で文字列演算子の``+``を使用し，結合した文字列の自己代入を繰り返した場合，アプリケーションがクラッシュしました。バッファサイズが指数関数的に確保されているようです。無事にループを脱出すれば，占有メモリは元に戻ります。

* ACI0100775 プロジェクトモードのみ。``Administrator``ユーザーは，他のユーザーを削除することができませんでした。``Designer``が削除したユーザー以外は削除できるべきです。

* ACI0100774 Windows版のみ。統合CEF版Webエリアに画像ファイルを表示した場合，リストボックスからWebエリアにフォーカスが移動しました。リストボックスに表示された画像ファイルのパスを矢印キーで操作するようなインタフェースが正しく機能しません。システムWebエリアであれば，問題ありません。

* ACI0100773 ``POP3 Transporter``の``checkConnection()``メソッドを続けてコールした場合，すでに接続が確立されているか確認するために``NOOP``リクエストが送信されませんでした。接続が再確立されました。

* ACI0100768 ``DOM Find XML element``で使用できるXPathシンタックスが拡張されましたが，``contains()``関数がサポートされていませんでした。

* ACI0100760 4D View Proエリアを表示した直後のタイプ入力に対し，``On After Edit``イベントが発生しませんでした。Macの場合，アプリケーションを再起動した後は問題が発生しません。Windowsの場合，最初に入力したのが数字であれば，問題は発生しません。いずれのプラットフォームでも，最初の文字をフォーミュラバーから入力したのであれば，問題は発生しません。また，セルをダブルクリックsて入力モードに移行したのであれば，問題は発生しません。セルを選択した状態から直接タイプ入力を開始した場合に問題が発生します。

* ACI0100757 4D Write Proドキュメントの冒頭にテキストをタイプ入力した場合，キー操作から文字の表示まで少しの遅延がありました。ドキュメントの終わりのほうであれば，問題ありません。

* ACI0100756 ``OB Is empty``にフォーミュラオブジェクトを渡した場合，``True``が返されました。

* ACI0100749 クライアント/サーバー版のみ。クライアント側のコンポーネント内でORDAを実行し，エンティティセレクションを作成した場合，``null``が返されました。ローカルモードおよびサーバー側コードでは問題ありません。

* ACI0100748 ``SET DATABASE PARAMETER``でセレクター``34``を``0``にセットした場合，``Get database parameter``から返される値が更新されませんでした。

* ACI0100747 ``DOM Create XML element``で要素を追加した場合，逆順に要素が作成されました。

* ACI0100741 プロジェクトモードのみ。デーファイルと同じ場所にユーザー設定が存在する場合（つまりストラクチャとデータが別々のフォルダーに存在する場合），バックアップからデータベースを復元すると，アプリケーションがクラッシュしました。

* ACI0100740 4D Write ProドキュメントをHTML形式でエクスポートした場合，段落全体に適用された下付き文字や上付き文字，段落中の特定の単語にだけ適用された背景カラーが正しく出力されませんでした。

* ACI0100735 クラスのコンストラタよりもファンクションを記述した場合，そのクラスをインスタンス化してファンクションを実行するとエラーが返されました。

* ACI0100734 ``SET ALLOWED METHODS``で許可したメソッドが4D View Proのツールバーに数式として表示されませんでした。

* ACI0100732 4D Write ProドキュメントをMicrosoft Word形式でエクスポートした場合，経線で区切られた段落がひとつの段落に結合されました。

* ACI0100731 エンティティセレクション型のリストボックスビルダーに表示されるテーブルリストが正しくありませんでした。RESTリソースとして公開されているだけが表示されました。``ds``コマンドでアクセスできるテーブル，つまりORDAの条件に適っているテーブルのリストが表示されるべきです。

* ACI0100727 v16からv17に変換されたストラクチャの場合，フォームエディターのプロパティリストでチェックボックスの標準アクションを``accept``に設定することができました。

* ACI0100726 新ネットワークレイヤーのみ。新規ユーザープロセスでダイアログを実行しているクライアントのネットワーク接続が不意に切断された場合，およそ``30``秒後にエラーメッセージが表示され，およそ``60``秒後にサーバー側で当該クライアントの「アプリケーションプロセス」が消滅するのが確認できますが，ユーザープロセスは残されたままの状態になります（およそ``2``時間後に処分されます）。このタイミングでネットワーク接続が回復し，クライアントをサーバーに再接続した場合，以前のセッションやプロセスが消えず，クライアント接続ライセンスが余分に消費されました。接続が失われたクライアントのプロセスが「延期」状態になった後に再接続すれば，問題ありません。

* ACI0100725 ``SMTP Transporter``でメールを送信した場合，``\r\n``文字列がQuoted-Printableエンコーディングされて``=0D=0D``になりました。大概のメールクライアントでは問題ありませんが，OutlookまたはOutlook Expressではメール本文の表示が崩れました。

* ACI0100723 4D Write Proドキュメントにページ番号が挿入されている場合，ページの下方向スクロール速度が遅くなることがありました。``500``ページ規模のドキュメントで問題が発生します。

* ACI0100722 [``File``](https://doc.4d.com/4Dv18/4D/18/File.301-4506034.ja.html)に定数（例：``Build application log file``）を渡し，そのファイルが存在しなかった場合，「引数番号1が無効です」というエラーが返されました。ファイルが存在しないだけであり，パラメーターが間違っているわけではないので，このようなエラーが返されるべきではありません。

* ACI0100716 畳まれた``Case of``ブロックの行の終わりにキャレットを移動し，``return``キーを入力したから「取り消し」操作をした場合，``End case``キーワードが消えました。

* ACI0100715 ORDAでエンティティの１対Ｎリレーションを使用した場合，メモリーリークが発生しました。シングルユーザー版とクライアント/サーバー版の両方で問題がありますが，サーバー側のほうが顕著でした。

* ACI0100708 Windows版のみ。サービス起動中のサーバーの自動アップデートが失敗しました。アップデーターのサービス名が間違っているためです。"4DS "+ストラクチャ名という固定値が使用されていますが，ストラクチャ名とサービス名が一致するとは限りません。

* ACI0100707 4D WriteドキュメントをWrite Proに変換した場合，特定の数式が変換されずに失われました。

**注記**: リテラル文字列内でダブルクオート記号（``"``）がバックスラッシュ記号（``\``）でエスケープされているような数式で問題が発生しました。

* ACI0100706 ピクチャ演算子``*|``をコンパイルするとシンタックスエラーが返されました。

* ACI0100704 4D for iOSの「データ」セクションで「MobileApps」フォルダーの中にない``key.mobileapp``ファイルをプロダクションサーバーのデータファイルとして選択した場合，「プロダクションサーバーが利用できません」というエラーでビルドが中止されました。「MobileApps」フォルダーの中にあるファイルであれば，問題ありません。

* ACI0100698 macOS 10.14のみ。３Ｄチェックボックスの「開示ボタン」をクリックした場合，``Form event code``コマンドが正しいイベントを返しませんでした。10.15では問題ありません。

* ACI0100696 Windows版のみ。画面の下方で日本語を入力した場合，変換プログラムの候補リストが入力中の文字列を覆い隠してしまいました。ポップアップがテキスト入力エリアの（上端ではなく）下端から上に向かって描画されるためです。

* ACI0100687 Mac版のみ。4D for iOSの「プロダクションサーバーデータファイル」を有効に設定した場合，``Mobileapps``フォルダーに``key.mobileapp``ファイルが作成されませんでした。ACI0100704（修正済み）と関連のある問題です。

* ACI0100681 特定の条件が揃った場合，SQLの``LEFT OUTER JOIN``を実行すると，同じレコードが``2``個，返されました。

* ACI0100680 Retina高解像度ディスプレイとそうではないディスプレイの間でウィンドウを移動した場合，フォームの背景が表示されなくなりました。

* ACI0100678 ``MAIL Transporter``の``htmlBody``よりも前に``textBody``をセットした場合，受診者のメールクライアントがHTMLメールよりも標準テキストメールのほうを優先的に表示しました。逆の順序でプロパティをセットすれば，問題ありません。

* ACI0100668 Mac版プロジェクトモードのみ。ツールボックスのメニュータブを開いた状態で，別のアプリケーションを最前面に移動してから4Dに復帰した場合，ツールボックスの右側に表示されるメニューバーの内容がおかしくなりました。

* ACI0100528 MSCでデータの圧縮と修復を実行した後，サーバーを再起動せず新しいデータファイルを開いた場合，インデックスの再構築でアプリケーションがクラッシュすることがありました。

* ACI0100304 ``WEB SERVICE CALL``でhttpからhttpsのリダイレクトが返された場合，アプリケーションがフリーズしました。

* ACI0100960 プロジェクトモードのみ。リストボックスの境界スタイル「なし」が正しく描画されませんでした。

**注記**: 「標準」スタイルも修正されています。デザインモードとランタイムモード，WindowsとMacの間で描画が統一されました。

* ACI0100906 有効なブロックコメント内に有効なブロックコメントを記述した場合，「開く（または閉じる）記号がありません」という不要な警告がエディターに表示されました。

* ACI0100871 エンティティセレクションに属性を追加しようとした場合，ランタイムエラーが返されませんでした。エンティティのように，エラーが返されるべきです。

* ACI0100867 無効な4D View Proエリアを指定した場合に返されるエラーメッセージが正しくありませんでした。

* ACI0100859 SQLの``SELECT``コマンドにローカル配列で``LIMIT``を指定し，コンパイルモードで使用した場合，データが返されませんでした。

```
ARRAY LONGINT($a_ID;0)
ARRAY LONGINT($a_Limit;1)
$a_Limit{1}:=3

Begin SQL
	SELECT  ID FROM Table_1  LIMIT  :$a_Limit INTO :$a_ID
End SQL
```

* ACI0100855 コンパイルモードで「サーバー上で実行」メソッドを実行した場合，クライアントがクラッシュしました。

* ACI0100837 18r2以前の方式（``VP SET ALLOWED METHODS``）で4D View Proエリアにカスタム数式を挿入することができませんでした。

* ACI0100824 プロジェクトモードのみ。リストフォームを使用してブール型のフィールドをSYLK形式をエクスポートした場合，アプリケーションがクラッシしました。

* ACI0100798 ピクチャのオブジェクトメソッドで``On Clicked``イベントのサイクル中に``Select document``を実行した後，別のウィンドウにフォーカスを移動し，前のフォームを再びアクティブにした場合，フォームで``On Clicked``イベントが発生することがありました。ピクチャボタンであれば，問題ありません。

**注記**: 問題は修正されましたが，ボタンの代わりにピクチャを使用する「テクニック」は推奨されていないことに留意してください。

* ACI0100743 ファイル名にアクセント文字（``à`` ``é`` ``è``）が含まれている場合，``MSG_MessageSize``からエラー``-43``が返されました。

**注記**: ビルド250993でInternet Commands内部のファイルパス名がUnicode（UTF-16）に変更されたことに伴う不具合でした。

* ACI0100739 Mac版のみ。``Formula($o:=New object("foo";"bar")).call()``でフォーミュラを実行した場合，アプリケーションがクラッシュしました。

**注記**: フォーミュラ内部でローカル変数に値を代入することは許されていません。修正により，コンパイルモードではランタイムエラーが返されるようになりました。

* ACI0100729 ビルド250707以降，「データファイルの外に保存」タイプのフィールド（ピクチャ・テキスト・オブジェクト・BLOB）がディスクに保存されなくなりました。セッション中はクエリが実行できますが，アプリケーションを再起動すると，データが失われました。

* ACI0100796 クライアント/サーバー版のみ。SQLでレコードを削除することができませんでした。カレントプロセスがレコードをロックしているというエラーが返されます。``DELETE RECORD'``であれば問題ありません。また``UNLOAD RECORD``を実行すれば問題が解消されます。

**注記**: サーバー側のデータベースコンテキストで直接4Dコードを実行できるようにするために実施されたORDAリファクタリングの副作用でした。

* ACI0100787 Mac版のみ。日本語版のアプリケーションが起動しませんでした。

* ACI0100574 大量のテーブルやフィールドをバーチャルストラクチャで改名している場合，4D View Proの実行速度が著しく低下しました。

**注記**: 他の目的で設定しているバーチャルストラクチャとView Proエリア内で必要なフィールドを区別するために，専用のコマンド``VP SET ALLOWED FIELDS``が追加されました。

* ACI0099343 ORDAクエリ文字列でオブジェクトの属性名を無効なプレースホルダー名で指定しても，クエリ解析エラーが返されませんでした。

* ACI0100767 Mac版のみ。``CONVERT FROM TEXT``および``Convert to text``でUTF-7エンコーディングを処理することができませんでした。

* ACI0100751 プロジェクトモードのみ。ツールボックスの「スタイルシート」ページをクリックしても，ボタンの背景カラーが変化しませんでした。他のページは問題ありません。

* ACI0100745 プロジェクトモードのみ。フォームにリストフォームを組み込んだ場合，デザインモードでは代わりに詳細フォームが表示されました。ランタイムモードでは正しいフォームが表示されます。

* ACI0100711 プロジェクトモードのみ。クラス名を変更すると，ブレークポイントが失われ，追加もでくなくなりました。

**注記**: クラス名を変更した場合，ブレークポイントが失われるのは仕様です。修正前，ブレークポイントは以前のクラス名と結びついたままでした。メソッド全般のブレークポイント管理も修正されています。修正前，削除したメソッドのブレークポイントは無効なメソッド名と結びついたままでした。修正により，ブレークポイントはメソッドと一緒に削除されるようになりました。

* ACI0100689 バックアップにデータファイルと同じ階層に置かれた「Settings」フォルダーがデフォルトでバックアップに含まれませんでした。

* ACI0100677 プロジェクトモードのみ。エクスプローラーのウィンドウをリサイズした場合，マークダウン形式のコメント表示が崩れました。

* ACI0100656 システム言語をハンガリー語に設定した場合，アプリケーションがクラッシュしました。スペルチェッカーの問題です。

* ACI0100709 ビルトインのクラスを``new()``でインスタンス化することはできませんが，そのようなコードを実行しても，ランタイムエラーが返されませんでした。

**注記**: 修正により，エラーコード``10749``が返されるようになりました。

* ACI0100703 メソッドエディターのコード補完で，定数した入力できないようなコンテキストであっても，メソッドやコマンドが上位の候補として表示されました。

**注記**: ビルド236865（17r5と17r6の間）でACI0099525が修正されたことにより，パラメーター候補としてコマンドやメソッドも表示されるようになりました。オブジェクト指向プログラミング　（``File``や``Folder``など）では，そのような構文が多用されるためです。修正により，まず定数がポップアップメニューの上位に表示されるようになりました。
