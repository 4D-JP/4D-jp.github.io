---
layout: fix
title: "4D v18r4 修正リスト"
date: 2020-07-04 08:00:00
categories: 修正リスト
tags: 18r4  
build: 253814
version: 18r4

---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}}  

* ACI0100649 Mac 64ビット版のみ。プラグインSDKのエントリーポイント``PA_GetKey``は，``option``キーの補助を利用して入力したアクセント文字を返しませんでした。U.S.キーボード配列の場合，``option``キーを押しながら``u`` ``e`` ``i`` のようなキーを押すことにより，結合用のアクセント記号を入力することができますが，``PA_GetKey``は，そのような文字に対して``0``を返し，続けて入力されたキーをアクセント記号がない文字のコードを返しました。

* ACI0100632 4D Write Proエリアをズームするたびに``On Data Change``イベントが発生しました。

* ACI0100631 4D Write Proエリアに数式を挿入した場合，``On Data Change``イベントが発生しませんでした。

* ACI0100630 4D Write Proエリアのスクロールバーを操作した場合，``On Data Change``イベントが発生しました。

* ACI0100629 トランスポーターで送信したメールの件名に含まれるスペース記号が``_``文字にエンコードされず，そのまま送信されました。

* ACI0100622 クライアント/サーバー版のみ。``dataClass.get()``のプライマリーキーに空の文字列を渡した場合，スタンドアロン版では``null``が返されましたが，クライアント/サーバー版ではそれぞれの属性が``null``にセットされたエンティティが返されました。

* ACI0100620 日本語ではないシステム言語設定で日本語のファイル名を添付して``SMTP_Send``を実行した場合，エラー``-43``が返されました。

* ACI0100593 コンポーネントがコンパイルモードで実行されている場合，コンポーネントメソッドのパラメーターがデバッグログ（モード``2``または``6``）に記録されませんでした。

* ACI0100571 メールサーバーがExchangeまたはdovecotの場合，``POP3 Transporter``がフリーズしました。GMailでは問題ありません。

* ACI0100564 ``dataStore.canceTtransaction()``メソッドを実行した場合，トランザクション中に削除されたエンティティのロックが解除されませんでした。

* ACI0100556 Windows版のみ。CEF版Webエリアのテキスト入力にユーロ通過記号（``€``）を入力することができませんでした。代わりに「トーフ」が入力されます。32ビット版では問題ありません。ペースト操作であれば入力することができます。``Alt``キーを使用した特殊文字の入力全般の問題です。

* ACI0100487 ツールボックスのメニューエディターでピクチャライブラリから選んだ画像をスプラッシュ画面の背景イメージにすることができませんでした。

* ACI0100442 Webサービス（SOAP）メソッドからテキスト配列を返した場合，クライアント側（``WEB SERVICE GET RESULT``）でアプリケーションがクラッシュしました。サーバーから返されるXMLが正しくないためです。

* ACI0099944 ``Execute on server``のようなコマンドに渡されたパラメーターが明示的に型宣言されていない場合，コンパイルに失敗しました。期待されるのは，デフォルトでバリアント型になることです。

* ACI0099052 ``FTP_Receive``および``FTP_Delete``はデンマーク語の文字（``æøå``）に対応していませんでした。エラー``10060``が返されました。

* ACI0100854 同名のXML要素を``DOM Create XML element``で続けて追加した場合，呼び出しとは逆の順に要素が作成されました。つまり，既存の要素の直前に新しい要素が挿入されました。互換性オプションの「[標準XPathを使用する](https://doc.4d.com/4Dv18R3/4D/18-R3/Compatibility-page.300-4919546.ja.html)」が有効にされていなれば，問題ありません。

* ACI0100857 クラスのメンバーメソッドでクラスオブジェクト``This``をパラメーターとして``DIALOG``に渡した場合，呼び出し後に別のオブジェクトが返されました。フォームに表示したリストボックスのコードが使用している``This``に影響されているようです。

* ACI0100861 ``4DACTION``で呼び出されたメソッドから``WEB SEND TEXT``を使用した場合，メモリーリークが発生しました。コンポーネントの``WEB Server``で``4DINCLUDE``タグが使用できなかった問題（ACI0100832）が修正されたことによる副作用のようです。

* ACI0100868 Mac版のみ。4D for iOSの「プロダクションサーバーデータファイル」を有効にし，「公開」セクションにサーバーのIPアドレスとポート番号を入力した後，サーバー側の``mobileapps``から``key.mobileapp``をファイルをクライアント側にコピーし，「データ」セクションでローカルのキーファイルを選択しても，「サーバーはオンラインです」のメッセージが表示されませんでした。

* ACI0100891 プロジェクトモードのみ。フォームエディターからフォームを実行し，ウィンドウを移動またはリサイズして閉じた場合，次回の実行で配置が再現されませんでした。``geometryStamp``プロパティが更新されていないためです。

* ACI0100879 Windows版のみ。SDIモードアプリを実行し，外部モニターに表示したWrite Proインタフェースで新規スタイルシートを作成しようとした場合，保存ダイアログがメイン画面に表示されました。

* ACI0100877 Mac版のみ。iPadのシステム環境設定で4D for iOSアプリの「Send feedback」を有効にした場合，アプリからフィードバックが送信できるようになりますが，実際にはフィードバックメニューを操作することができませんでした。

* ACI0100875 バイナリデータベースをプロジェクトにエクスポートした場合，そのプロジェクトが開けないことがありました。書き出されたXMLにエラーがあるためです。

* ACI0100872 ``PICTURE PROPERTIES``の第１パラメーターにオブジェクトのピクチャ型プロパティを渡した場合，コンパイルモードでエラーが返されました。代わりにピクチャ型のローカル変数を使用すれば問題ありません。

