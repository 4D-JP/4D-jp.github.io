---
layout: fix
title: "4D v20 修正リスト"
date: 2024-01-12 08:00:00
categories: 修正リスト
tags: "20.2" 
build: 101065
version: "20.2"
permalink: /2023/331/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0104499 QUICネットワークレイヤーのみ。ビルド版のクライアントからサーバーに接続しようとした場合，ストラクチャを開くことができない，というエラーが表示されることがありました。特定の変数が正しく初期されていないことが関係しています。

* ACI0104468 ピクチャポップアップメニューのデータソースに`Form`を使用することができませんでした。

* ACI0104500 クラスが存在しないプロジェクトを「コンパイル時にコード補完用のシンタックスファイルを生成する」を有効にしてコンパイルした場合，アプリケーションがクラッシュしました。

* ACI0104490 データクラスに計算属性が存在する場合，フォームエディターのリストボックスビルダーがエラーを返しました。

**注記**: 修正により，計算属性はリストボックスビルダーのフィールドリストから除外されるようになりました。

* ACI0104486 Mac版プロジェクトモードのみ。ツールボックスのヘルプTipsのテキストエリアがダークモードに対応していませんでした。白色の文字が明るい黄色の背景色に表示されます。

* ACI0104450 Write Proインタフェースのドロップダウンメニューでフォントを選択した場合，ポップアップの選択項目が変更前のフォント名に戻りました。

* ACI0104445 Mac版のみ。アプリケーションビルドキーの*ServerEmbedsProjectDirectoryFile* を使用した場合，*directory.json* ファイルが非表示ファイルとしてコピーされました。

* ACI0104401 Write Proドキュメントの末尾に段落あるいは行以外のブレークを削除することができませんでした。

* ACI0104203 プロジェクトモードのみ。ボタンがフォーカスされた状態で`WA OPEN WEB INSPECTOR`を実行した場合，アプリケーションがクラッシュしました。Webエリアがフォーカスされていれば問題ありません。

* ACI0104454 Windows版のみ。ポップアップ/ドロップダウンメニューをフォーカス可・タブ移動可に設定した場合，矢印キーで区切り線（`-`）を選択することができました。

* ACI0104442 タイトルが中央揃えのボタンをプロジェクトモードに変換した場合，タイトルが右揃えになりました。

* ACI0104441 Windows版/Intel Mac版のみ。クラスのメンバー関数をフォーミュラとしてリストボックスに表示した場合，アプリケーションがクラッシュしました。

* ACI0104426 コンパイルモードのみ。ホストデータベースのローカル配列に対するポインターをコンポーネントメソッドに渡した場合，ポインターに対する参照が失われました。３億回ほどプロセスの起動と終了を繰り返したところでランタイムエラー（ポインターの不正な使用）が返されます。

**注記**: 修正により，変数に対するポインターは，カレントプロセスコンポーネントのランゲージ実行コンテキストで優先的に逆参照されるようになりました。その後，別プロセスのランゲージ実行コンテキストで逆参照を試みます。

* ACI0104399 テキストの途中にカーソルを移動し，入力中の日本語を *delete* または *backspace* キーで削除した場合，未確定の文節に続く文字が一緒に削除されました。

* ACI0104432 ３レベル以上の`AND`および`OR`で構成されたJOINクエリの処理が正しくありませんでした。

* ACI0104418 コンパイルモードのみ。*ObjectTools* プラグイン`v5.1r1`の`OT GetPointer`が正しいポインターを返しませんでした。ACI0104030が修正されたことによる副作用です。

* ACI0104366 並び替えのプロパティパスにリレーション属性とオブジェクト属性の両方を使用した場合，アプリケーションがクラッシュしました。ACI0097511が修正されたことによる副作用です。

* ACI0104436 3Dチェックボックスがクリックに反応しませんでした。ACI0104409が修正されたことによる副作用のようです。

* ACI0104400 フォームウィザードで作成したリスト画面をプロジェクトモードに変換した場合，スプリッターのプッシャー属性（以降のオブジェクトを移動）が失われました。スプリッターモードで動作する透明ボタンが正しく変換されていないことが原因です。標準のスプリッターオブジェクトは問題ありません。

**注記**: バイナリモードからプロジェクモードへの変換処理が修正されました。すでに変換が済んでいるフォームは対象外です。

* ACI0104365 Windows版コンパイルモードのみ。`PRINT LABEL`が１ページに１毎しかラベルを出力しませんでした。高解像度ディスプレイでなければ問題ありません。

* ACI0104409 チェックボックスに対して`OBJECT SET ENTERABLE`を使用した場合の動作が過去のバージョンと違いました。コマンドを実行しても，チェックボックスの外観が変化せず，クリックすることができました。

* ACI0104276 クライアント/サーバー版のみ。`On Startup`にブレークポイントをセットし，クライアントでデザインモードに移行しようとした場合，空のメソッドエディターウィンドウが表示され，デッドロック状態に陥ることがありました。旧式ネットワークレイヤーで問題が発生します。

**注記**: コード補完および診断ログはプリエンプティブプロセスを使用しており，旧式ネットワークレイヤーには対応していません。修正により，一部のコード補完（インタープロセス変数および未定義オブジェクトのメンバー
関数）および診断は旧式ネットワークレイヤーで無効化されるようになりました。

* ACI0104047 `LISTBOX SET AUTO ROW HEIGHT`で自動行高リストボックスの行の最大高さを変更した後，`OBJECT SET SCROLL POSITION`で行をスクロールした場合，間違った位置の行にスクロールしました。

* ACI0104046 `LISTBOX SET AUTO ROW HEIGHT`で自動行高リストボックスの行の最大高さを変更した後，行をスクロールした場合，セルの内容が正しく描画されないことがありました。セルの内容が行の最大高さに収まらない場合に問題が発生します。

* ACI0104023 *Alt* キーを押さなくても，複数のリストボックス行をドラッグできるようになりましたが，複数の行が選択されている場合は最後にクリックで選択した行が表示されるまでスクロールしてからドラッグが始まりました。行をコマンドで選択したり，下から上に選択したりした場合は問題ありません。

* ACI0104416 証明書と鍵ペアがない状態でTLSを有効にしてSQLサーバーを開始した場合，特にエラーが表示されませんでした。

* ACI0104384 OEMではない標準ライセンスを`Create deployment license`に渡した場合，無効な組み込みライセンスが発行されました。OEMライセンスでなければ，コマンドはエラーを返すべきです。

* ACI0104180 *On Web Connection* データベースメソッドでランタイムエラーが発生した場合，正しくないエンコーディングでエラーページが返されるため，ブラウザ側でXML解析エラーになりました。

* ACI0104388 マルチスタイル設定のリストボックスのセルに選択リストを関連付けている場合，セルの入力を確定すると値のソース（`<span>`タグ）がそのまま表示されました。

* ACI0104415 Windows版のみ。複数のモニターが接続されている環境で最大化されたSDIモードのウィンドウを最小化し，タスクバーのアイコンをクリックして復元した場合，元のディスプレイにウィンドウが表示されませんでした。

ACI0104413 Windows版のみ。MDIモードで最大サイズの設定されたフォームを *Movable dialog box* タイプのウインドウに表示し，`MAXIMIZE WINDOW`を実行した場合，フォームの最大サイズが無視されました。タイトルバーの最大化ボタンをクリックした場合は問題ありません。

* ACI0104411 Windows版のみ。リサイズ制約のあるフォームをサブフォームとして表示しているウィンドウを最大化した場合の動作が正しくありませんでした。組み込まれたフォームの最大幅ではなく，最大高さが幅に反映されました。

* ACI0104387 Windows版のみ。大量（`1000`レベル以上）の`<div>`要素で構成されるHTMLを4D Write Proで開こうとした場合，アプリケーションがクラッシュしました。

**注記**: `100`を超える入れ子をHTMLに記述することは推奨されていません。修正により，クラッシュはしないようになりましたが，`100`レベル以降の入れ子は無視されます。

* ACI0104381 Window版のみ。高DPIモードのディスプレイにピクチャポップアップメニュー小さく表示されました。

* ACI0104337 Windows版のみ。メソッドエディターに入力された半角の濁点または半濁点を含むテキストを削除した場合，正しくない位置にカーソルが表示され，カーソルの位置とは違う位置の文字が削除されるようになりました。

* ACI0104409 チェックボックスに対して`OBJECT SET ENTERABLE`を使用した場合の動作が過去のバージョンと違いました。コマンドを実行しても，チェックボックスの外観が変化せず，クリックすることができました。
