---
layout: fix
title: "4D 20 修正リスト"
date: 2025-10-28 08:00:00
categories: 修正リスト
tags: "20.7"
build: 101982
version: "20.7"
permalink: /2025/252/:slug/
---

* ACI0105976 ORDAリクエストログ（`ds.startRequestLogs()`）がスレッドセーフではありませんでした。

* ACI0105975 「アプリケーションについて」画面のリンク（法的な情報・著作権・世界の4D）が間違っていました。ホームページではなく，[世界中の4D](https://jp.4d.com/4d-around-the-world)にジャンプするべきです。

* ACI0105765 コンパイルモードのみ。Webプロセスのコンテキストで`#DECLARE`で宣言されたプロジェクトメソッドのパラメーターに値を渡さず，そのパラメーターに値を代入しようとした場合，エラーが返されました。本来，[渡されなかった引数にアクセスすることは可能](https://blog.4d.com/ja/stop-press-accessing-parameters-not-being-passed-is-possible/)なはずです。

**注記**: メソッドの呼び出しから任意パラメーターの型を推定するコードでは，コンパイルの順序により，シンタックスチェックが任意パラメーターの存在を見落とすことがありました。問題は修正されましたが，再コンパイルが必要です。

* ACI0105864 リストボックスのセルを編集中にアプリケーションを背面に移動した場合，点滅カーソルのアニメーションが停止しませんでした。テキスト入力やコンボボックスは問題ありません。

* ACI0105852 バックスラッシュ記号（`\`）で終わるテキストを`Begin SQL`ステートメントの直前にペーストした場合，アプリケーションがフリーズしました。

* ACI0105847 同一プロセスで繰り返し日付ピッカーを使用した場合，以前に設定した値が残っていることがありました。

* ACI0105883 Windows版のみ。デスクトップの解像度が`100`%以外に設定されている環境でプリンターフォントを参照した場合，アプリケーションがフリーズしました。

**注記**: 修正により，プリンターフォントは無視されるようになりました。Direct2Dでビットマップフォントはサポートされていません。

* ACI0105478 [`SET DATABASE PARAMETER`](https://developer.4d.com/docs/ja/commands/set-database-parameter)のセレクター`34`（デバッグログ）の「即時記録」モードを有効化した場合，二重にエントリーが記録されました。

**注記**: 遅延記録モードでコマンドのパラメーターが二重に出力される不具合が修正されました。
二重に記録されているようにみえること自体は不具合ではありません。即時記録モードは，クラッシュ等の原因を調査するために使用されることが想定されており，オペレーションの前後にコマンド名が記録されるように設計されています。一方，遅延記録モードはパフォーマンスの最適化を図るために使用されることが想定されており，オペレーションの回数を確認したり，ベンチマーク統計のために使用されることが想定されています。

* ACI0105887 Windows版のみ。`SHOW ON DISK`に渡したフォルダー内で最初に表示されるファイルが別のフォルダーに対するショートカットだった場合，そのショートカットが開かれてしまい，コマンドに渡したパスではなく，ショートカットのターゲットがエクスプローラーに表示されました。

* ACI0105797 明示的に型宣言されていない変数を`BASE64 ENCODE`の第`2`パラメーターに渡した場合，インタープリターモードではテキスト型，コンパイルモードではBLOB型が返されました。

* ACI0105741 Write Proドキュメントのアンカー画像フォーミュラやテーブル埋め込みフォーミュラにエスケープ文字が含まれている場合，BLOBやファイルからドキュメントを正しくデコードすることができませんでした。インラインフォーミュラであれば問題ありません。

* ACI0103921 `OPEN PRINTING JOB`で開始した印刷ジョブでView Proでオフスクリーンエリアを印刷した場合，アプリケーションが終了する恐れがありました。画面上のView Proエリアであれば，問題ありません。

**注記**: 問題は修正されましたが，オフスクリーンエリアを印刷する場合，印刷ジョブを開始する前に`SET CURRENT PRINTER`と`SET PRINT OPTION`を忘れずに実行してください。パス名を指定せずに印刷コマンドを実行した場合，ファイル選択画面が表示されるのは仕様です。オフスクリーンWebエリアのコンテキストで画面を表示しようとした場合の動作は未定義です。

* ACI0105889 `VP SET FORMULA`で無効なフォーミュラを設定した場合，セルに`#NAME?`という文字列が表示されませんでした。

* ACI0105853 `Begin SQL`/`End SQL`ブロック内では，メソッドエディターのコード補完にローカル変数が表示されませんでした。

* ACI0105863 幅に収まらないテキストを単一行の入力オブジェクトに代入した場合，テキストの先頭ではなく末尾が表示されました。マルチスタイルが有効であれば，過去バージョンと同じようにテキストの先頭が表示されます。ACI0105769が修正されたことによる副作用のようです。

* ACI0105578 Windows版のみ。サーバーアプリケーション終了時に表示される通知メッセージのタイトルが英語で表示されました。