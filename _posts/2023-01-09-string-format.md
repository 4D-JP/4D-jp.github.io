---
layout: post
title: "文字列と数値フォーマット"
date: 2023-01-09 12:00:00
categories: 仕様
tags: string programming
---

19r5 Hotfix 1および19.4以降，数値ではなく文字列に数値フォーマットを適用した場合の仕様が明確になりました（ACI0103061）。桁区切り＝カンマ/小数点＝ピリオドではないシステムでは注意が必要です。なお，macOS Montereyはシステム環境設定で桁区切りと小数点をカスタマイズすることができましたが，Venturaではそれができなくなりました。

数値に数値フォーマットを適用した場合，システムの桁区切り記号および小数点が使用されます。文字列に数値フォーマットを適用した場合，フォーマットのカンマおよびピリオドがそのままトークナイズ解釈されずに使用されます。つまり，[`String`](https://doc.4d.com/4Dv19/4D/19.5/String.301-6136784.ja.html)などのドキュメントに記述されている数値フォーマットが適用されるのは，数値だけであり，文字列には適用されません。文字列を（電話番号等ではなく）数値として扱う場合，`Num`で数値に変換することが必要かもしれません。
