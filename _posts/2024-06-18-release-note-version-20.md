---
layout: fix
title: "4D 20 修正リスト"
date: 2024-07-25 08:00:00
categories: 修正リスト
tags: "20.4"
build: 101399
version: "20.4"
permalink: /2024/170/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0104957 デバッガのコンテキストメニューから「参照箇所を検索…」を選択し，デザインモードの検索が完了しないうちにメソッドの実行を再開し，新規プロセスでメソッドを再実行してデバッガを表示した場合，アプリケーションがクラッシュしました。

* ACI0104563 リモートデータストアのホスト名に`http(s)://`を追加した場合，`Open datastore`がエラーを返されませんでした。

**注記**: 修正により，URLプロトコルの有無に関係なく，リモートデータストアがみつからない場合，エラー`1610`（ホストに接続できません）および`1630`（RESTサーバーではありません）が返されるようになりました。これらのエラーはエラー処理メソッド等でトラップすることができます。接続に失敗した場合，`Open datastore`は`Null`を返します。

* ACI0104960 サーバーがビジー状態のときに複合クエリを実行した場合，クライアントのネットワーク接続が切断されることがありました。クライアントのアイドル接続タイムアウトにサーバーの処理が追いつかないことが関係しているようです。

* ACI0104853 Windows版バイナリモードのみ。`HTTP Get`を実行するとアプリケーションがクラッシュすることがありました。`Content-Type: text/html, charset=iso-8859-1`のようにセミコロン記号ではなくカンマ記号を使用したRFC非準拠のヘッダーが返された場合に問題が発生します。

* ACI0104843 `VP Convert to picture`でView Proスプレッドシートの一部をピクチャに変換した場合，テキストが違うフォントで表示されました。

* ACI0104795 メソッドエディターに入力したテキストがハイライト表示された状態で*command/control*+*F*を入力した場合，検索ツールが表示されますが，フォーカスは検索ツールに移動しませんでした。

**注記**: 意図的な動作でしたが，[デベロッパーの声](
https://discuss.4d.com/t/regardless-if-text-is-highlighted-put-the-cursor-in-the-search-text-box-when-ctrl-f/30451)を考慮し，仕様が見直されました。

* ACI0104904 コンパイルモードのみ。変数に対するポインターの逆参照に続けて`&&`短絡演算子を使用した場合，ブール型の変数が`False`から`True`に変わりました。

```4d
$bool:=False
$ob:={bool: ->$bool}
If ((($ob.bool)->) && True)

End if 
//$boolがTrueに
```

* ACI0104950 プロジェクト設定の「ツールバーを表示する」が有効にされていない場合，プロジェクト再起動後にエクスプローラーのウィンドウがツールバーの高さだけ低い位置に表示されました。

* ACI0103643 プロジェクトを再起動した場合，ツールボックスで更新したプラグインのアクセス権が元に戻りました。

* ACI0103521 データの`255`文字目にセパレーターが出現する場合，`IMPORT TEXT`がフィールドやレコードの区切りを認識しませんでした。

* ACI0104948 Windows版のみ。地域と言語の設定に対応する*.lproj* が存在しない場合，ストラクチャエディターのコンテキストメニューにXLIFFリソースが表示されませんでした。デフォルトで英語のXLIFFリソースがロードされるべきです。

* ACI0104938 `IMAPTransporter.getMails()`でサイズのおおきなメールをダウンロードしようとした場合，アプリケーションがフリーズしました。

* ACI0104863 リストボックスの列に垂直パディングが設定されており，行の高さがピクセル単位で設定されている場合，行が正しくハイライト表示されませんでした。ACI0103153が修正されたことによる副作用です。

* ACI0104935 プロジェクトモードのみ。リストボックスの列を削除した場合，リストボックスの列数を超える「ドラッグしない列数」および「スクロールしない列数」プロパティが自動的に変更されませんでした。

* ACI0104861 「ヌルのときブランクにする」が有効に設定された入力オブジェクトにカレント時刻が表示されませんでした。オブジェクトが入力状態でなくても値が表示されるべきです。

* ACI0104371 Windows版のみ。*4D ODBC Driver* のバージョン情報がODBCアドミニストレータに表示されませんでした。

* ACI0104930 ジャーナルファイルをデータファイルに統合した場合，*.4DIndx* インデックスファイルのサイズが過去のバージョンよりも大幅に増えることがありました。ACI0104510が修正されたことによる副作用等です。特定のデータベースで現象が発生します。

* ACI0104896 スイス式（桁区切りにアポストロフィ記号を使用する）の数値フォーマットを使用している場合，Write Proドキュメントの数値タブ揃えが小数点の位置ではなくアポストロフィ記号の位置に設定されました。

* ACI0104870 Mac版のみ。チェックボックスのタイトルをボールド体に設定した場合，Retinaディスプレイでのアンチエイリアス処理がフォームエディターとランタイムでは違いました。

* ACI0104897 Windows版のみ。`Dynamic pop up menu`のメニュー項目に*Bold* *Underline* *Italic* のようなスタイルを設定した場合，アイコンがずれた位置に表示され，ポップアップメニューの角が丸くレンダリングされませんでした。

**注記**: アイコンの位置が修正されました。カスタマイズされたポップアップメニューの角が丸くレンダリングされないのは，Windows APIの制約です。

* ACI0104879 Wordドキュメントに埋め込まれたExcelスプレッドシートからデータをWrite Proドキュメントにコピー＆ペーストすることができませんでした。

* ACI0104844 `ON ERR CALL`でインストールしたエラーハンドリングメソッドから呼び出し元にステップアウトした場合，そのメソッドをトレースすることができなくなりました。

* ACI0104776 並び替えエディターの項目をダブルクリックした場合，不自然な順にフィールドが追加されました。

* ACI0104900 サーバーからクライアントに転送されるコンポーネントやプラグインのアーカイブファイル（拡張子 *.4darchive* ）が圧縮されていませんでした。

* ACI0104839 ファイルの相対パスがフォームのドキュメンテーションに使用されている場合，画像が表示されませんでした。

* ACI0104890 Mac版のみ。プロジェクト開始時にアプリケーションがクラッシュすることがありました。ACI0104865が修正されたことによる副作用です。

* ACI0104875 `SPELL ADD TO USER DICTIONARY`に文字列型のフォーミュラを渡した場合，コンパイルエラーが返されました。

* ACI0104868 スタンドアロン版コンパイルモードのみ。`ORDER BY FORMULA`のフォーミュラとして自動リレーションフィールドの演算式を記述した場合，セレクションの並び順が正しくありませんでした。クライアント/サーバー版またはインタープリターモードでは問題ありません。

* ACI0104865 Mac版のみ。システム設定で4Dの言語設定をOSとは別のものに変更した場合，正しい*.lproj'* フォルダーが使用されませんでした。

* ACI0104799 ORDAクエリにリレーション属性のパスと計算属性を指定した場合，*onQuery*が実行されず，空のエンティティセレクションが返されました。