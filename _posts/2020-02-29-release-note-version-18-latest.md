---
layout: fix
title: "4D v18 修正リスト"
date: 2020-03-26 08:00:00
categories: 修正リスト
tags: "18.1"  
build: 250317
version: 18.1

---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}}  

* ACI0100636 バックアップから復元した後，あるいはアプリケーションを再起動した後，4D for iOSがレコードの同期に使用する管理用テーブル（__DeletedRecords）の管理用フィールド（__GlobalStamp）が正しく更新されませんでした。

* ACI0100611 4D Write Proエリアのコンテキストメニューを無効にした場合，ルーラーのコンテキストメニューも無効になりました。

* ACI0100609 ``WP EXPORT VARIABLE``でMIMEエクスポートしたHTMLをトランスポーターで送信した場合，メールクライアントに本文が正しく表示されないことがありました。Unicodeのバイト・オーダー・マークに続き，HTMLのソースコードがそのまま``ï»¿<html xmlns=...``のように表示されます。受信者がKerioのメールサーバーを使用している場合に問題が発生します。Exchangeサーバーであれば問題ありません。

**注記**: 修正により，Write ProのMIMEエクスポートには，BOMが出力されないようになりました。

* ACI0100669 Webサーバーに対し，HTTPの``PATCH``メソッドを送信した場合，``On Web Connection``が実行されませんでした。即座にエラー``501``が返されます。

* ACI0100651 コンパイルモードで``ARRAY LONGINT``を``VARIABLE TO BLOB``でBLOBに変換した後，``BLOB TO VARIABLE``で``ARRAY REAL``に復元した場合，配列が部分的に変換されました。インタープリターモードでは問題ありません。

**注記**: ドキュメントに明記されているように，BLOBに出し入れする変数・配列の型は，本来，一致していなければなりません。修正により，互換性のある値は，自動的に変換されるようになりました。``BLOB TO VARIABLE``は，インタープリターモードと同じように整数と実数を扱うことができます。

* ACI0100625 ``ZIP Create archive``のオプションで指定したコールバックフォーミュラが処理中に呼ばれませんでした。

* ACI0100612 ``ZIP Create archive``に``ZIP Without enclosing folder``オプションを指定した場合，``success``に``True``が返されますが，アーカイブは作成されませんでした。

* ACI0100654 プロジェクトモードのみ。リストボックス列のプロパティ「エリプシスで省略」が効きませんでした。「ワードラップ」プロパティがデフォルトで「自動」に設定されているためです。

* ACI0100638 プロジェクトモードのみ。バイナリデータベースをプロジェクトにエクスポートした場合，リストボックス列の「交互に使用する背景カラー」プロパティがデザインモードに反映されませんでした。

* ACI0100637 クライアント/サーバー版のみ。クライアント側でWebサーバーを公開した場合，`` http://host/rest``から始まるURL（たとえば``/restaurant``）がハンドルできませんでした。``/rest/``が予約されたURLであることは理解できますが，URLコンポーネントが前方一致するだけであれば，``403``を返すのではなく，通常のURLとして扱われるべきです。

* ACI0100614 ORDAのクエリ条件に``NOT IN :1``と記述し，空のコレクションを渡した場合，``0``件のエンティティセレクションが返されました。期待されるのは，すべてのエンティティが返されることです。

* ACI0100604 ``SMTP Transporter``で送信したメール本文の行が``80``文字を超過する場合，余計な空白文字が挿入されました。

* ACI0100597 ダイナミックフォーム（JSONフォーム）で``EXPORT TEXT``を実行することができませんでした。ファイルは作成されますが，データが出力されません。

**注記**: 修正により，JSONフォームだけでなく，プロジェクトモード全般で``EXPORT TEXT``が使用できるようになりました。

* ACI0100567 クイックレポートで出力したHTMLに問題がありました。余分な``<BR>``タグが大量に出力されます。列やレコードの数に比例するようです。

* ACI0100543 SQLステートメントの構文エラーが引き金となって，エラー処理メソッドがコールされた場合，トランザクションレベルがロールバックされました。

* ACI0100469 本文がないメールを``MIME Convert from MIME``で処理した場合，エラー``-10718``が返されました。

* ACI0099888 クライアント/サーバー版のみ。``dataClass.query()``および``entitySelection.query()``のクエリ条件文字列の末尾に``order by``キーワードを記述した場合，空のエンティティセレクションが返されました。

* ACI0089985 32ビット版のみ。インポートプロジェクトファイル（``.4SI``）に保存した設定を読み込んだ場合，テーブル作成，テーブル名，エンコーディング，列名をフィールド名にバインドなどのパラメーターが正しくダイアログにセットされませんでした。
