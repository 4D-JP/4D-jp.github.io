---
ayout: post
title: 管理ダイアログを4Dコードでカスタマイズ
date: 2019-10-01 00:00:00
categories: ブログ
tags: 18.x 17r6
author: Thomas Maul
---

![interfaceAdmin-1-1024x512](/images/blog/10/interfaceAdmin-1-1024x512.jpg)

4D Server管理画面を修正したいという要望は以前からありました。あるカスタマーは情報を削除したいと思い、別のカスタマーはカスタマイズした情報を追加したいと考えていました。このAdminWindowコンポーネントはそのやり方をお見せします。「そのまま」使うことも必要に応じて修正することも可能です。

以前のブログでは、webベースの管理ウィンドウを構築する方法をお見せしました。しかし、4Dコードで純粋にカスタマイズしたインターフェイスに興味があるのなら、このブログ（と関連するHDI）がやり方を提示します！

コンポーネントは、最初の画面からグラフィックスを取り除き、システム情報と共に強化されました。また、二つのページが含まれます：

＊<strong> DB Measures</strong> – カレントでロックされているレコードの概観
＊ <strong>Locked Records</strong>  – クエリーオプションの概観

オペレーションのカウント、あるいはオペレーションを使った総合計時間によってリストボックス をソートするのにヘッダーを使用できます。このダイアログを使って見落とされたインデックスを見つけたり、クエリーを最適化したりもすることでしょう。リアルタイム・モニターのページは、ビルトインモニターの機能を広げます。通常はピークタイムを表示しています（オペレーションには0.5秒以上が必要です。）さらにオペレーションが動いている場合は、一つ前の最も遅いオペレーションを表示します。ページが開いている時だけ記録され、履歴は残りません。

以下のイメージは、コンポーネントのデフォルトのインターフェイスと、これまでの4D Server管理ウィンドウとの違いを表示しています。

コンポーネントのデフォルトのインターフェイス
![adminWindowDBM-1024x625](/images/blog/10/adminWindowDBM-1024x625.png)

4D Server管理ウィンドウ
![defaultServerAdmin](/images/blog/10/defaultServerAdmin.png)

このコンポーネントのソースコードは、<a href="https://github.com/ThomasMaul/AdminWindow">Github</a>（英語版 ）から入手できます。テストするには、<span class="notranslate command">On Startup</span>データベース・メソッドの<span class="notranslate command">Monitor_Start</span>メソッドを呼び出すだけです。このように、データベースを開けばカスタマイズしたダイアログが表示されます。

あなたの必要に応じてコンポーネントをカスタマイズしてください。ページやコンテンツの消去、非表示、修正は思いのままです。独自のプロセスリストなど自分だけのコンテンツや、状態変数、ライセンス情報などを追加できます。コードはクライアント端末で使うように設計されていることに留意してください（サーバーから自動的に情報を取ってきます）。

<strong>互換性ノート：このサンプルは4D v17 R5と<a href=”https://developer.4d.com/docs/en/Project/overview.html”>プロジェクト・データベース</a>で作られています。</strong>
