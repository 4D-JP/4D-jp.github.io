---
layout: fix
title: "4D v19.3 Hotfix 1 修正リスト"
date: 2022-06-28 08:00:00
categories: 修正リスト
tags: 19.3 hotfix
build: 280554
version: "19.3"
permalink: /179/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0103038 `MAIL Convert from MIME`で変換したメールの添付ファイル名にMIMEヘッダーの文字列が追加されることがありました。

* ACI0103015 Mac版のみ。ダークモードでMSCの検証を実行した場合，エラーが返されました。

* ACI0102965 Windows版のみ。*On Load*イベントで入力順が設定されているテキスト入力オブジェクトのフォントを設定し，ポインター経由で値をセットした場合，入力エリアの内容が空になりました。`OBJECT SET FONT`でフォントを設定なければ問題ありません。
 
* ACI0102955 プロジェクトモードのみ。個別のドロップダウンメニュー項目にフォントを設定することができませんでした。

**注記**: Mac版だけが修正されました。Windows版は，技術的な制約により，メニュー項目にフォントを設定することがサポートされていません。

* ACI0103016 Windows版のみ。Windows 2012 R2では，ドロップダウンメニューの隣にある矢印がオブジェクトよりも低い位置に表示されました。

* ACI0102949 `LISTBOX SET PROPERTY`でリストボックスのプロパティを書き換えるたびにメモリーリークが発生しました。

* ACI0103004 *On Load*イベントで`FORM SET INPUT`を実行した場合，リストボックスをダブルクリックしたときに使用される入力フォームが変更されないことがありました。

* ACI0102942 レコードを削除した場合，削除したレコードが *__DeleteRecords* テーブルに追加されますが，エンティティセレクションを削除した場合，削除したエンティティセレクションが *__DeleteRecords* テーブルに追加されませんでした。
 
* ACI0103011 ユーザー名に空の文字列を指定した場合，SMTPのOAuth 2.0トークン認証は失敗しますが， トランスポーターの`checkConnection()`が`True`を返しました。

* ACI0102858 Mac版プロジェクトモードのみ。リストフォームの余剰行にチェックボックスやラジオボタンが表示されました。レコードのない行にフィールドが表示されるべきではありません。

* ACI0101808 Windows版のみ。Direct2Dレンダリングが無効にされている場合，Write Proエリアを使用することができませんでした。

```
SET DATABASE PARAMETER(Direct2D status; Direct2D disabled)
```

* ACI0102983 `TRACE`またはプレークポイントでデバッガーが起動しないことがありました。

* ACI0102899 `VP Convert to picture`でレンジを指定した場合，背景が正しく変換されないことがありました。

* ACI0102787 *On Server Startup*でメソッドを実行し，そのままサーバー側でダイアログを表示するなどして*On Server Startup*イベントを完了させないままアプリケーションを運用した場合，ストアドプロシージャーのコンテキストで`Current user`が空の文字列を返しました。*On Server Startup*イベントを終了すれば問題ありません。

**注記**: 問題は修正されましたが，スタートアップメソッドでアプリケーションを運用するようなことはしないでください。

* ACI0102996 `SMTP New Transporter`で送信したメールが途中で途切れることがありました。

**注記**: メールにSMTPプロトコルで本文を終わりを意味する`\r\n.\r\n`という文字列が含まれている場合に問題が発生しました。

* ACI0102861 データファイルとインデックスファイルを圧縮した後，新規レコードを保存しようとしたタイミングでアプリケーションがクラッシュする場合がありました。プリエンプティブスレッド（Webプロセスなど）からスレッドアンセーフな（例：インタープロセス変数にアクセスしている）メソッドをコンパイルモードで呼び出そうとした場合，問題が発生するようです。

* ACI0101068 4D View Proスプレッドシートのセルを``delete``キーで直接クリアした場合，``designer.actions.isFileModified``が``true``になりませんでした。セルを編集状態にして値を削除すれば問題ありません。

* ACI0102988 フォームに配置されたテキスト入力オブジェクトのスクロール位置がテキストサイズに応じて冒頭・中間・末尾に設定されました。デフォルトのスクロール位置はテキストサイズとは無関係のはずです。

* ACI0102972 プロジェクトモードのみ。バイナリモードからデータベースを変換した場合，*Designer*アクセスグループからユーザーが外されました。*Administrator*グループの設定だけが正しくエクスポートされます。

* ACI0102923 SQLで`8001`バイト以上のデータをSybaseの画像フィールドに送信した場合，`255`バイトでデータが途切れました。ODBC Proプラグインでは問題ありません。

**注記**: 修正により，[`SQL SET OPTION:`](https://doc.4d.com/4Dv19/4D/19.1/SQL-SET-OPTION.301-5653382.ja.html)に新しいオプション*SQL data chunk size*が追加されました。デフォルト値は`8000`です。Sybase ODBC driverは，断片化された*PutData*命令に対応していないため，バイナリデータを一気に送信する必要があります。Oracle・MySQL・Microsoft SQL Serverなどのデータベース管理システムでは，特に設定を変更する必要はないはずです。

* ACI0102959 デバッガーが接続されていないサーバーで直接RESTリクエストを処理した場合，予備プロセスおよび10分後に消滅するRESTプロセスが作成されました。

**注記**: [`Open datastore`](https://developer.4d.com/docs/ja/API/DataStoreClass.html)を使用せずにREST APIをダイレクトに呼び出した場合，セッション識別子（クッキー）は送信されません。修正により，そのような場合は新規RESTプロセスを作成するのではなく，予備プロセスが利用されるようになりました。

* ACI0102943 Write Proドキュメントで表の最終行を削除した場合，最終行と一緒に直後のセクションブレークも削除されました。

* ACI0102968 プラグインSDKのエントリーポイント`EX_GET_FIELD`でBLOBフィールドの値を取得できませんでした。

* ACI0102940 `MAIL New attachment`で作成したメールオブジェクトの添付ファイルをパラメーターとして別プロセスに渡すことができませんでした。

* ACI0102931 MIMEのバウンダリー文字列に`"boundary Wed, 27 Apr 2022 08:46:59 +0200 boundary"`のような文字列が使用されていた場合，`MAIL Convert from MIME`で添付ファイルが抽出できませんでした。

* ACI0102929 `SVG_New_embedded_image`でSVGにSVGを挿入した場合，エクスポートしたピクチャがブラウザに表示されませんでした。`xlink:href`が`data:image/svg+xml;base64,`から始まっていないためです。

* ACI0102908 コンパイルモードのみ。`collection.map()`や`collection.find()`のようなファンクションで実行したメソッドのポインター型で宣言されているパラメーターに`Null`を渡した場合，シンタックスエラー`#54`が返されました。

* ACI0102489 Mac版のみ。タブコントロールのアイコンが正しく表示されませんでした。右側のタブほど左に位置がずれて表示されます。
