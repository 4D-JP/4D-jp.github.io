---
layout: fix
title: "4D v19 修正リスト"
date: 2022-05-06 08:00:00
categories: 修正リスト
tags: 19.2 
build: 279144
version: "19.2"
permalink: /88/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0102825 Webサーバーの「セッションなし」オプションが外部ファイルのユーザー設定に保存されませんでした。v19にアップグレードしたプロジェクトで問題が再現します。v19で作成したプロジェクトでは問題ありません。一旦「旧式セッション管理」などの新しいオプションを選択し，設定を保存した後であれば，問題ありません。

* ACI0102887 プロジェクトモードのみ。CSSでオブジェクトのサイズを設定した場合，`OBJECT GET BEST SIZE`が正しい値を返さないことがありました。

* ACI0102870 Webサービス公開メソッドのパラメーターに日本語の変数名を使用した場合，SOAPエンベロープのデータ値が正しく変数に代入されませんでした。

* ACI0102864 入力フィルターが設定されている入力不可の日付型フィールドを表示中にコマンドで入力可に切り替えた場合，正しい日付が表示されませんでした。ナイトリービルドだけの問題です。

* ACI0102897 バイナリモードのみ。コンパイル済みコードが存在するメソッドをクライアント側で変更して保存した場合，サーバーとの同期でメモリーリークが発生しました。

* ACI0102855 `Split string`の区切り文字に`Char(1)`から`Char(31)`を使用した場合，アプリケーションがクラッシュしました。

**注記**: 問題は修正されましたが，`Split string`は文字列の解析に`Position`（`*`オプションを渡さなかった場合）と同じアルゴリズムを使用しており，制御文字による文字列の分解は想定されていないことに留意してください。

* ACI0102852 プロジェクトモードのみ。リストボックスの行フォントカラー配列にプロジェクトメソッドが設定されている場合，シンタックスチェックまたはコンパイルを実行するとアプリケーションがクラッシュしました。

* ACI0102907 プロジェクトモードのみ。ピクチャ型の変数が設定されたリストボックスのヘッダーに対して`OBJECT GET FORMAT`を使用した場合，空の文字列が返されました。

**注記**: リストボックスのヘッダーにピクチャ型を変数を使用する場合，プロジェクトモードでは，`var:myVariable`のように接頭辞が追加されます。

* ACI0102903 リストボックスのCSSクラスに`@media`を使用した場合，デザインモードではダーク/ライトモードに応じたプロパティが適用されますが，アプリケーションモードでは無視されました。

* ACI0102811 Windows版のみ。リストフォームを`BRING TO FRONT`で最前面に移動した場合，他のウィンドウに隠れていた部分が完全に再描画されませんでした。

* ACI0102791 データベース設定のタブをクライアント/サーバーからバックアップに切り替えた場合，OKボタンが有効になりました。設定を変更したわけではないので，保存するものは何もないはずです。

* ACI0102783 ストラクチャ設定でカスタマイズしたキーボードショートカットがユーザー設定に継承されませんでした。

* ACI0102826 クエリ条件を`.4DF`ファイルに保存した場合，日付型の値が`!00-00-00!`になりました。
 
* ACI0102803 プロジェクトモードのみ。ユーザーIDの欠番がある場合，プロジェクトを開き直すと*directory.json*ファイル内のユーザーやグループの順序が入れ替わりました。

* ACI0102143 `Get process activity`または`OB Get`（テキスト型のプロパティを参照した場合）を実行するたびにメモリーリークが発生しました。

* ACI0102521 コンパイルモードのみ。`SET DATABASE PARAMETER`でデバッグログ（`Debug log recording`）を実行した場合，メソッドのパラメーターが正しく記録されませんでした。

**注記**: コンパイルモードでメソッドのパラメーターを記録することはできません。修正により，設定はインタープリターモード限定のオプションとなりました。

* ACI0102573 バイナリモードのみ。インタープリターモードではREST公開したメソッドをサーバー側でデバッガすることができませんでした。また，コンパイルモードではREST公開したメソッドをサーバー側のコオペラティブプロセスで実行できませんでした。

* ACI0102802 IMAPトランスポーターを使用してdovecotメールサーバーからメールを受信しようとした場合，アプリケーションがフリーズすることがありました。GmailやExchangeサーバーでは問題ありません。

* ACI0102473 ラベルエディターでのフォントメニューで設定できる最小フォントサイズが`9`でした。`6` `7` `8`も選択肢に含まれているべきです。

* ACI0102822 入力不可フィールドに表示フォーマットが設定されている場合，値が完全に表示されないことがありました。ACI0102747が修正されたことによる副作用のようです。
 
* ACI0102814 Mac版のみ。ビルドプロジェクトファイルの`CommonCopyright`を設定して`BUILD APPLICATION`を実行した場合，アプリケーションがクラッシュしました。

* ACI0102801 Mac版のみ。4Kまたは5KのRetinaディスプレイにフォームを表示した場合，線。四角形・円などのオブジェクトが正しく表示されませんでした。図形とはずれた位置に外縁が描画されました。
 
* ACI0102831 *On Server Startup*データベースメソッドで`OPEN DATABASE`を使用した場合，管理画面を閉じるまで再起動がブロックされました。

* ACI0102626 サーバーアプリケーションが非公開で，サービス名をブロードキャストされていない場合，初回の起動時にアドレスを手入力する必要がありますが，直後にビルド版クライアントの自動アップデートが実行された場合，アップデート後にアドレスの再入力を求められました。`LastServer.xml`ファイルが作成または更新されないためです。

* ACI0102731 バイナリモードのみ。クライアント側で`FORM LOAD`を使用し，空のフォームをロードした場合，終了時にアプリケーションがクラッシュしました。

* ACI0102675 メール本文がUTF-7エンコードされている場合，オングストロームなど文字が`MAIL Convert from MIME`で正しく変換されませんでした。

* ACI0102795 [`Web Server`](https://developer.4d.com/docs/ja/WebServer/webServerObject.html)オブジェクトを使用して複数のHTTP/HTTPSサーバーを起動した場合，すでにポートが使用されている場合はエラーが返されるべきですが，特定の条件が揃うと，待ち受けポート番号が勝手にインクリメントされてサーバーが開始されました。

* ACI0102768 Mac版のみ。macOS 10.14.6 Mojaveで起動した場合，アプリケーションがクラッシュしました。

* ACI0102739 データ言語が日本語に設定されている場合，`WP Find all`を`sk strict`モードで使用すると，`sk case insensitive`を指定しなくても常に大文字と小文字が同等とみなされました。日本語版は，大文字と小文字を同等とみなさないのがデフォルトの動作です。

* ACI0102808 Windows版のみ。タブコントロールの描画に問題がありました。タブの数が多く，フォームの幅にすべて収まらない場合，矢印ボタンが縦スクロールバーに重ねて表示されました。Windows 11では，矢印ボタンが表示されません。
 
* ACI0102785 `VP All`でレンジを作成し，`VP SET CELL STYLE`で*backColor*を`Null`に設定してデフォルトのスタイル属性をクリアした後，`VP Cells`で作成したレンジの*backColor*を設定しようとした場合，*backColor*以外の属性はクリアされ，*backColor*は変更されませんでした。
 
* ACI0102810 Windows版のみ。電源に接続されていないノートパソコンからサーバーに接続し，クライアントを起動したままシステムを放置した場合，スリープの解除後にクライアントがサーバーに自動再接続できませんでした。

* ACI0102806 クライアント/サーバー版のみ。クラス関数からエンティティセレクション型のオブジェクトを返した場合，メモリーリークが発生する可能性がありました。
 
* ACI0102763 プロジェクトモードのみ。v18から変換したプロジェクトで内部にリストボックスが表示されたサブフォームの「自動サイズ」プロパティをコンテキストモードで有効にした場合，アプリケーションがクラッシュしました。

* ACI0102751 Windows版のみ。Webエリアを使用して入力フォームにPDFファイルを表示した場合，ダイアログを終了して出力フォームに戻ると，入力フォームの一部が出力フォームに重ねて描画されました。

* ACI0102782 すべてのセクションが横向きに設定されたWrite Proドキュメントからセクションを削除した場合，一部のセクションが縦向きになりました。

**注記**: 用紙の向きだけでなく，セクション属性全般の処理が修正されました。セクションのブレークを削除した場合，削除されたセクションの残り部分と直後のセクションがマージされ，直後セクションのスタイルシート・ヘッダー・フッターが両者に適用されるようになりました。

* ACI0102772 `Begin SQL`という文字列を`Parse formula`で解析した場合，トークン（`Begin SQL:C949`）が返されませんでした。`End SQL`も同様です。

* ACI0102764 View Proスプレッドシートのチャートをコピー＆ペーストすることができませんでした。
 
* ACI0102779 4D ViewスプレッドシートをView Proに変換した場合，フォーミュラが正しく変換されないことがありました。フォーミュラの冒頭に`-1`という値が使用されている場合に問題が発生します。

* ACI0102771 プロジェクトモードのみ。ボタンが「フォーカス可」に設定されている場合，「サブレコード追加」および「サブレコード削除」の標準アクションが動作しませんでした。
