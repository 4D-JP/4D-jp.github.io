---
layout: post
title: "印刷ジョブをセマフォで保護する"
date: 2020-04-02 12:00:00
categories: 仕様
tags: printing
version: 17.x
---

4Dアプリケーションで同時に複数の印刷ジョブを実行することはできません。たとえば，サーバーアプリケーションで印刷コマンドを使用してPDFを出力するような場合，あるプロセスが印刷ジョブを開始した後に別のプロセスが印刷設定コマンド（``SET PRINT OPTION`` ``WP USE PAG SETUP`` ``_o_PAGE SETUP``など）を使用すると，「印刷ジョブを開始した後にこのコマンドを使用することはできません」エラーが返されます。これは仕様です。複数のプロセスが並行して印刷コマンドを使用することが想定されている場合，印刷ジョブをセマフォで排他的に制御するか，ワーカーなどを使用して印刷ジョブのキューを管理する必要があります。
