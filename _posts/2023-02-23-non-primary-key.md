---
layout: post
title: "__KEYはリレーション属性"
date: 2023-02-23 09:00:00
categories: 仕様
tags: programming orda
---

ACI0102487が修正された19r5およびv19.1 Hotfix 1以降，`entity.toObject()`および`entitySelection.toCollection()`の振る舞いが調整されています。修正前は`__KEY`バーチャル属性にプライマリーキーが返されていましたが，修正後はリレーション使用されているキーフィールドの値が返されるようになりました。

リレーションの１フィールドにはプライマリーキー以外を使用することができるとはいえ，特別な理由がない限り，ORDAではキーフィールドにプライマリーキーを使用することが推奨されています。
