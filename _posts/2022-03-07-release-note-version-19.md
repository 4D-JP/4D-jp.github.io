---
layout: fix
title: "4D v19.2 Hotfix 1 修正リスト"
date: 2022-03-24 08:00:00
categories: 修正リスト
tags: 19.2 hotfix
build: 277563
version: "19.2"
permalink: /66/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0102735 Webリクエストの処理中にデバッガーが表示され，数回，ステップオーバーを実行した場合，デバッガーが途中で閉じられ，それ以降，デバッガーが表示されなくなりました。

**注記**: 非コンテキストモードの仕様で，Webプロセスでデバッガーが表示された場合，コードの実行がアボートされ，HTML版のエラーメッセージがブラウザに表示されるようになっています。修正により，デバッガーを表示したことがないプロセスでは，このメカニズムが使用されないようになりました。

* ACI0102541  Mac版のみ。Intelターゲット専用のアプリをビルドした場合，アプリケーションが起動できませんでした。`LSArchitecturePriority`プロパティキーをセットし，Siliconターゲットが存在しない場合には自動的にRosettaで起動するべきです。

* ACI0102777 旧バージョンで作成されたインタープリター版のストラクチャをサーバーで開いた場合，クライアントのログイン画面と同時にデッドロック状態が発生し，アプリケーションが使用できないことがありました。

**注記**: 変換の過程で失われたなどの理由でメニューバー#1が存在しない場合，アプリケーションが終了しようとすることが原因でした。

* ACI0102780 Windows版のみ。*Alt*キーを押しながら下矢印キーを入力した場合，コンボボックスまたはポップアップメニューに関連づけられた選択リストの表示がトグルされるべきですが，何も起きませんでした。

* ACI0102147 Mac版のみ。デバイスがケーブルで接続されていない状況で4D for iOSアプリのビルドとインストールを実行しようとした場合，エラーが表示されました。
 
* ACI0102747 入力不可かつフォーカス可のテキスト入力エリアに入力フィルターを設定した場合，オブジェクトをスクロールしたりクリックしたりして表示を更新するとデータソースの値に入力フィルターが適用されました。値をタイプ入力したわけではないので，入力フィルターは適用されるべきではありません。

* ACI0102495 クライアント/サーバー版のみ。「サーバー側で実行」メソッドを実行した後，クライアント側のプロセスでレコードをロックした場合，`LOCKED BY`や`Get lock record info`がサーバー側のユーザー名およびマシン名を返しました。

* ACI0102746 Mac版のみ。無名のインタープロセス変数に値を代入するようなコード（例：`<>:=0`）をコンパイルした場合，Intelターゲットは成功しますがApple Siliconターゲットはエラーになりました。

**注記**: 修正により，シンタックスエラーが返されるようになりました。

* ACI0102684 デバッグログを有効にしてサーバー側で`OPEN DATA FILE`を何度も実行した場合，サーバーが終了しました。

* ACI0102708 `MAIL Convert from MIME`で解析したメールの本文が正しくデコードされないことがありました。コマンドが文字セット`Windows-1258`に対応していません。

**注記**: コマンドはベトナム語の文字セットに対応していませんが，修正により，非対応の文字セットを`US-ASCII`でデコードするのではなく，システムのデフォルトエンコーディングが使用されるようになりました。

* ACI0102707 `MAIL Convert from MIME`で解析したメールの件名が正しくデコードされないことがありました。コマンドが文字セット`unicode-1-1-utf-7`に対応していません。

**注記**: `CONVERT FROM TEXT`および`Convert to text`も修正されました。

* ACI0102757 Mac版のみ。リストボックスのヘッダーの表示に問題がありました。上側の罫線が描画されません。ヘッダーの高さを２行以上にすると上側の罫線が描画されます。

**注記**: Macでは，リストボックスのヘッダーに相当するネイティブオブジェクトは高さが決められています。高さをカスタマイズした場合，ヘッダーは4Dによって描画されるため，macOS 11/12特有のデザインに左右されません。macOS 10.15 Catalina以前のデザインでは，ヘッダーに上側の罫線がありました。

* ACI0102754 macOS 12 Montereyのみ。ボタンタイトルにハイフン記号（U+002D, `-`）を単独で使用した場合，非アクティブ時にはハイフンが通常よりも長くなり，垂直揃えの位置も変化しました。U+2212であれば問題ありません。

* ACI0102710 `VP SET CELL STYLE`に`Null`を渡した場合，指定したレンジの最初のセルは背景がクリアされましたが，残りのセルは背景がクリアされませんでした。

* ACI0102670 4D ViewスプレッドシートをView Proに変換した場合，セルの参照が正しくコンバートされないことがありました。*AB*のような後方のセルで問題が発生します。`Sheet1!$AB$2`となるべきところが`Sheet1!$\\\\$2`のような参照に変換されました。

* ACI0102664 View Proの`HYPERLINK`関数でパス名に日本語が使用されているローカルファイルを開くことができませんでした。

* ACI0102643 `VP SET DATE TIME VALUE`で空の日付値（`!00-00-00!`）を渡した場合，1899年11月30日になりました。無効な日付は`null`になるべきです。

* ACI0102194 `VP SET PRINT INFO`で用紙サイズを文字列で指定した場合，`VP Get print info`から返されるオブジェクトの`paperSize.kind`プロパティが正しくありませんでした。用紙サイズの名称ではなく，SpreadJSの定数値が返されました。

* ACI0102121 入力フォームにView Proエリアを表示し，自動アクションのナビゲーションを使用して別レコードに移動した場合，View Proエリアのデータソースオブジェクトが空になりました。

* ACI0102748 オブジェクト型フィールドにはクラスのインスタンスを保存することができますが，バックアップからデータファイルを復元した場合，そのようなオブジェクトのメンバー関数が失われました。

* ACI0102705 *On Losing Focus*イベントで`EDIT ITEM`を実行し，リストボックスのシングルクリック編集と同時に別のリストボックスの編集を開始した場合，一方のセルに点滅カーソルが表示され，他方のセルがテキスト入力の対象になりました。

* ACI0102610 `File(Debug log file)`が*null*を返しました。

* ACI0102464 `WP Get view properties`は，スペルチェックの情報（標準アクションの`spell/enabled`）ではなく自動スペルチェックの情報（`OBJECT Get auto spellcheck`）を返しました。

* ACI0102689 `Char(2)`のようなASCII制御コードをセパレーターに使用して`Split string`で文字列をコレクションに分解した場合，正しい結果が返されませんでした。

* ACI0102337 バイナリモードのみ。リストボックスの列に64ビット整数フィールドを表示した場合，数値フォーマットを適用できませんでした。

* ACI0102720 `SQL EXECUTE`でSybaseに対して実行したクエリが`null`を返した場合，空の要素１個の配列が返されました。`null`が返された場合は空の配列が返されるべきです。

* ACI0102662 データベース設定でWebサーバーの文字セットをUTF-8以外に設定されていても，ユーザーエージェントから`GET`または`POST`で送信したフォーム変数が常にUTF-8でデコードされました。

* ACI0102579 プロジェクトモードのみ。フォームエディターとプロパティリストを表示した状態でプロジェクトを閉じた場合，次回の起動でフォームエディターは表示されますが，プロパティリストは表示されませんでした。
