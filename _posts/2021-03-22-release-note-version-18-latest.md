---
layout: fix
title: "4D v18 修正リスト"
date: 2021-04-13 08:00:00
categories: 修正リスト
tags: "18.4"
build: 264643
version: 18.4
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}}  

* ACI0099508 Windows版のみ。`GET PRINT OPTION`の第３パラメーターを省略して`Double sided option`を取得しようとすると，ランタイムエラーが返されました。「丁合い」は任意のパラメーターなので，省略しても問題ないはずです。

* ACI0101813 Windows版のみ。スタティックテキストの内容がオブジェクトのサイズに収まらない場合，フォームエディターではオブジェクトの下端で表示が切れますが，ランタイムのレンダリングでは，テキストが`1`行でフォントサイズに対してオブジェクトの高さが不足している場合，テキストが下揃えになり，オブジェクトの上端を超えて表示されました。

**注記**: ランタイムのレンダリングは，単一行のスタティックテキストが完全に表示されるようにするための措置であり，仕様です。修正により，バイナリモードのフォームエディターが変更され，ランタイムのレンダリングと同じになりました。

* ACI0101775 Write Proドキュメントに挿入されたフォーミュラ内で`WP TABLE DELETE ROWS`を実行した場合，表組の行が削除されませんでした。

* ACI0100164 Windows版のみ。`PRINT SELECTION`でフォームを印刷した場合，v15よりも時間がかかりました。`SET PRINT OPTION` で `Legacy printing layer option` オプションを有効にし，旧式プリントレイヤー（GDI）を使用すれば問題ありません。また，プリントマージンを変更しなければ問題ありません。

* ACI0101843 `U+FFFF` または `U+FFFE` のような制御文字を含むテキストをスタイル付きテキスト入力エリアにペーストすることができませんでした。外部HTMLソースには，制御文字が含まれていることがあります。

**注記**: Write Proエリア，`ST`コマンドおよびスタイルテキストエリアのデータソースに対する代入も修正されました。制御文字は無効なシンボルであることを示す文字で置換されます。

* ACI0101801 4D WriteドキュメントをWrite Proに変換した場合，FuturaフォントのcondensedスタイルがHelveticaフォントのregularスタイルで置換されました。

* ACI0101805 ヘッドレスモードで実行中のサーバーで`PRINT RECORD` または `PRINT LABEL` のアスタリスク（`*`）オプションを省略した場合，アプリケーションが無反応になりました。ヘッドレスモードの場合，印刷ダイアログを表示することはできないので，アスタリスク（`*`）オプションが省略された場合，コマンドは何もせず，`OK`には`0`が代入されるべきです。

* ACI0101832 Mac版のみ。macOS Big Surでは，サーモメーターのフォーマットを「バーバーショップ」に設定した場合，データソースに`0`以外の値をセットしても，プログレスバーがアニメーション表示されませんでした。Catalinaでは問題ありません。

* ACI0101782 Windows版のみ。MDIウィンドウ内でフォームのウィンドウを最大化してからMDIウィンドウをリサイズした場合，フォーム上のオブジェクトが正しくリサイズされません。オブジェクトが過剰に拡大され，元のサイズに戻すことができなくなりました。リサイズが「なし」に設定されているオブジェクトもMDIと一緒にリサイズされます。

* ACI0101665 Windows版のみ。サービス起動したサーバーで`PRINT SELECTION`を使用し，Microsoft Print to PDFドライバー経由でPDFを出力した場合，`0`バイトのファイルが作成されました。`Print form`であれば問題ありません。

* ACI0101796 クライアント側でトランザクションを開始してから「サーバー側で実行メソッド」を実行した場合，すぐにはトランザクション状態がサーバー側のツインプロセスに反映されませんでした。`Find in field`のようなデータベースアクセスコマンドをクライアント側で実行すれば，トランザクション状態の同期が取られました。

* ACI0101761 `112`文字を下回るテキストを`COMPRESS BLOB`で圧縮した場合，`EXPAND BLOB`で展開することができませんでした。圧縮ではなくgzipアルゴリズムの展開に問題があります。

* ACI0101642 Mac版のみ。`ON EVENT CALL`でイベントハンドラーメソッドをインストールした場合，リストボックスのヘッダーをタップをしても`On Header Click`イベントが発生しませんでした。クリックであれば問題ありません。

* ACI0101626 チェコ語版の「ようこそ画面」でWebサイトのリンクをクリックした場合，"cz.4d.com"ではなく"us.4d.com"にジャンプしました。

* ACI0101786 Mac版のみ。最前面ではないウィンドウの3Dボタンはタイトルテキストがグレーアウト表示されました。

* ACI0101683 `METHOD SET CODE`でテーブルフォームのメソッドをセットした場合，定数の`On Load`が当該テーブルの１番フィールドの名前にトークナイズされました。テーブルフォームのメソッドでなければ，問題ありません。
