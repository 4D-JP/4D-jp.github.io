---
layout: post
title: "実数の減算について"
date: 2022-06-18 15:00:00
categories: 仕様
tags: programming 
version: 19
---

`128.1-128.08`という数式を4Dで評価すると`0.01999999999998`という値が返されます。`127.1-127.08`であれば`0.02`が返されるのとは対照的です。

プログラミングで小数を扱う場合，実数は近似値を表現したものであることを憶えておきましょう。小学校で習った算数とは違うことをしている，ということです。計算の結果がぴったり割り切れるかどうかは，実数の内部的なデジタル値に左右されます。上述した例では，どちらも「およそ`0.02`」という近似値が返されているのであり，これを「およそ等しい」と判定するために<i class="fa fa-external-link" aria-hidden="true"></i> [SET REAL COMPARISON LEVEL](https://doc.4d.com/4Dv19/4D/19.1/SET-REAL-COMPARISON-LEVEL.301-5654413.ja.html)のような仕組みが存在します。これは計算間違いではなく仕様です。
