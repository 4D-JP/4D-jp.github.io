---
layout: fix
title: "4D v19r4 修正リスト"
date: 2022-01-14 08:00:00
categories: 修正リスト
tags: 19r4
build: 274873
version: 19r4
permalink: /14/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0099046 macOS Big Surのみ。結合文字のダイアクリティカルマーク（`^`など）を入力した場合，別々の文字になりました。

* ACI0101935 ドキュメントの範囲外にあるセルにスタイルが設定されているView ProエリアをSVG形式でエクスポートした場合，ドキュメントの範囲外までスプレッドシートが変換されました。

* ACI0101929 クイックレポートエディターのクロスタブツールに問題がありました。セルを選択したときに表示される吹き出し（ポップアップウィンドウ）の位置が左に寄っていました。

* ACI0101857 `LAUNCH EXTERNAL PROCESS`で実行したCLIプログラムの出力ストリームに無効な文字列が含まれる場合，空の文字列が返されました。

* ACI0101359 Write Proドキュメントに`ST SET TEXT`でフォントを指定せずに`span`要素を挿入した場合，ドキュメントから継承されたフォントではなく，デフォルトフォントが文字列に適用されました。`p`要素であれば問題ありません。

* ACI0100940 クイックレポートのセルにフォーマットが設定されているのに，リストでは「なし」が選択されていることがありました。

* ACI0100938 クイックレポートのセルにフォーマットを設定した場合，セルだけでなく，ヘッダーにもフォーマットが適用されました。

* ACI0102530 新規データファイルを作成した直後にトランザクションを開始し，レコードを追加してトランザクションを確定しないままインデックスフィールドの並び替えを実行した場合，アプリケーションがクラッシュしました。

* ACI0102542 モバイルプロジェクトエディターの「ストラクチャ」セクションでリレーションを追加した場合，リレーションで結ばれたデータクラスの計算属性が公開（`exposed`）されていなくても，フィールドリストに表示されました。そのような計算属性をフォームに追加しようとすると，エラーが返されました。明示的に公開されていないリレーション計算属性は，フィールドのリストに表示されるべきではありません。

* ACI0102472 アップグレードしたデータベースの場合，一部のプロジェクトメソッドがWSDLで公開されないことがありました。

* ACI0102479 数値の桁区切り記号にNarrow No-Break Space文字が使用されている場合，正しくフォーマットされた数字が表示されませんでした。

* ACI0102481 Mac版のみ。フォームエディターでチェックボックス・ボタン・ラジオボタンをリサイズした場合，オブジェクトのタイトルが高さに応じて段階的に小さく変化しませんでした。

* ACI0102505 メソッドエディターでクラスを開き，関数を右クリックした場合，コンテキストメニューに参照の検索が表示されませんでした。メソッドメニューの該当項目もグレーアウトされました。

* ACI0102503 プロジェクトモードでは，コンパイラーのシンボルファイルおよびエラーファイルはいずれもログフォルダーに出力されますが，[ドキュメント](https://developer.4d.com/docs/ja/Project/compiler.html)には「プロジェクトフォルダー内に・・・」と[バイナリモード](https://doc.4d.com/4Dv19R3/4D/19-R3/Compiler-page.300-5612618.ja.html)の動作が記載されていました。

* ACI0102494 未定義の変数を`DOM Parse XML variable`に渡した場合，アプリケーションがクラッシュしました。

* ACI0102486 バイナリモードからプロジェクトをエクスポートした場合，名前が数字で始まるスタイルシートのCSSファイル名やクラス名がバックスラッシュ記号でエスケープされ，正しく参照されませんでした。

* ACI0102374 インタープリターモードのみ。配列型リストボックスの制御配列プロパティに倍長整数型の配列が使用されている場合，フォームのロード時に配列がブール型で再初期化されました。

**注記**: ブール型配列で行の表示/非表示だけを制御する古い仕様は，互換性のために引き続きサポートされています。修正により，フォームのロード時に制御配列プロパティの配列が宣言されていない場合，デフォルトで倍長整数型の配列が使用されるようになりました（修正前はブール型）。すでにブール型で宣言されている場合に限り，制御配列がブール型となります。今後，制御配列がプロパティリストに入力されているだけで，コードのどこでも宣言されていない場合，制御配列に対するブール値の代入はエラーとなります。

* ACI0102533 Mac版のみ。関連フォルダーを含めずにプロジェクトをコンパイルした場合，*Librairies*フォルダー内の*lib4d-arm64.dylib*ファイルが上書きされませんでした。

* ACI0102454 プリエンプティブプロセスでSQLコードを実行し，`FN`ステートメント経由でメソッドをコールした場合，サーバーがクラッシュしました。

* ACI0102197 クライアント/サーバー版のみ。ストアドプロシージャを起動したクライアントのネットワーク接続が強制的に切断された場合，ユーザー数とライセンス数の計算が合わなくなりました。クライアントがクラッシュしたり，ネットワーク接続が切断された場合には，クライアント接続ライセンスが解放されるべきです。

* ACI0102536 未確定（入力中）の日本語変換文字列を`delete`キーですべて削除した場合，確定済の文字列も`1`文字削除されました。

* ACI0102566 Mac版のみ。`Folder("/").folders()`から返されるフォルダーオブジェクトは`///`というプリフィックスがパスに追加されました。親フォルダーのパスが`8`文字に満たない場合に問題が発生します。

* ACI0102565 ポインターの逆参照でフォーミュラを作成した場合（例：`Formula(gPtr->:=2)`）逆参照の演算子（`->`）が取り除かれました。

* ACI0102558 クライアント/サーバー版のみ。リレーション属性と一緒にエンティティセレクションを`entitySelection.toCollection()`でコレクションに変換した場合，クライアント接続が切断されるまでエンティティセレクションが解放されずにメモリーリークが発生しました。

* ACI0102523 ストラクチャエディターの検索ツールに入力された文字列を*delete*キーで削除した場合，検索ツールからフォーカスが外れましたs。

* ACI0102506 アカウント情報の氏名または会社名にアクセント記号が使用されている場合，ライセンスのアクティベーションができませんでした。

* ACI0102380 データ言語が日本語に設定されている場合，`Compare strings`を`sk strict`モードで使用すると，`sk case insensitive`を指定しなくても常に大文字と小文字が同等とみなされました。日本語版は，大文字と小文字を同等とみなさないのがデフォルトの動作です。

* ACI0102545 4D Mobile Goで電子メールによる認証とセッション管理が有効にされたiOSアプリをビルドした場合，ログアウトやアンインストールをしていなくても，約`24`時間が経過すると，再接続時にアドレスの再入力を求められました。

* ACI0102534 クライアントが終了してもサーバー側のエンティティセレクションが解放されないことがありました。

* ACI0102470 コメントアウトされたメソッド名を選択してコンテキストメニューで参照の検索を実行した場合，メソッドの参照がみつかりませんでした。

* ACI0102468 Windows版のみ。固定サイズのフォームのタイトルバーを右クリックしてウィンドウを最大化した場合，一部のボタンが消えてしまうことがありました。

* ACI0102466 `RESTORE`コマンドを実行した場合，シンタックスエラー`607`が返されました。ACI0102236が修正されたことによる副作用のようです。

* ACI0102465 プロジェクトモードのみ。階層リストボックスにフォント属性のボールドまたはイタリック体を設定できないことがありました。アンダーラインは問題ありません。CSSでシステムフォントが設定されている場合に問題が発生します。

* ACI0102462 特定のFTPサーバー（FileZilla）に対して`FTP_GetDirList`または`FTP_GetFileInfo`を実行した場合，コマンドが失敗しました。プラグインが`LIST -a`コマンドを送信しており，サーバーがこの命令に対応していないためです。

* ACI0102457 壊れた`.eml`ファイルを`MAIL Convert from MIME`で読み込もうとした場合，アプリケーションがクラッシュすることがありました。
