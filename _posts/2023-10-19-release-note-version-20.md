---
layout: fix
title: "4D v20.2 修正リスト"
date: 2023-11-27 08:00:00
categories: 修正リスト
tags: "20.2" 
build: 100956
version: "20.2"
permalink: /2023/292/:slug/
---

**バージョン**: {{page.version}}  
**ビルド**: {{page.build}} 

* ACI0104410 `dataClass.query()`に渡したクエリ条件の最後に`null`との比較演算を記述した場合，正しい結果が返されませんでした。ACI0104235が修正されたことによる副作用です。最後に`null`との比較演算が来ないようにクエリ条件の順序を変えれば問題ありません。

* ACI0104111 `1ECostBasis`のような変数名を宣言し，`+`または`-`演算子に続けて記述した場合，演算子が変数名の一部としてトークナイズされました。`1e`は指数標記の接頭辞であり，本来，変数名に使用するべきではありませんが，過去のバージョンでは変数名として認識されました。

* ACI0104397 オブジェクトリテラルを`\`で複数行に分割した場合，先頭に記述したプロパティ名がプロセス変数としてトークナイズされ，シンタックスエラーを返しました。ACI0103903が修正されたことによる副作用です。

* ACI0104369 View Proスプレッドシートの数値型セルにユーロ通貨フォーマットを設定した場合，カンマとピリオドの使い方に間違いがありました。フランス語またはドイツ語ではカンマが小数点，ピリオドが桁区切りとなるべきです。

* ACI0104296 Apple Silicon版の *DEVART ODBC Driver* を使用し，`SQL LOGIN`および`SQL LOGOUT`多重実行した場合，アプリケーションがクラッシュしました。

**注記**: 特定の処理（0除算）についてはODBCコールの前にエラーハンドリングをインストールすることにより，回避するようになりました。しかし，根本的な原因はDEVARTのドライバーがエラーの代わりに例外をスローしていることにあります。すべてのケースに対応したわけでありません。

* ACI0104351 フィーチャーリリースが開いているプロジェクトをLTS版でも開こうとした場合，読み込みモードであるとのメッセージが表示された後，アプリケーションがクラッシュしました。

* ACI0104370 *WebAdmin* は空いているポート番号（デフォルトは`7080`および`7443`）を自動的にインクリメントしますが，`WebServer`のプロパティが動的に更新されないため，デザインモードから起動したデータエクスプローラーは常にデフォルトのURLにアクセスしました。

* ACI0104367 Windows版のみ。Windows 11 23H2で無効なプリンター名を指定し，`SET CURRENT PRINTER`を実行した場合，アプリケーションがクラッシュする恐れがありました。

* ACI0104133 プロジェクトモードのストラクチャ設定でデフォルトユーザー設定を変更した場合，*directory.json* が更新されませんでした。クライアントでは問題ありません。サーバーまたはシングルユーザーモードのストラクチャ設定に問題があります。

* ACI0104348 データソースに時間型が設定された入力オブジェクトにフォーカスを移動した場合，`00:00:00`と表示されました。ACI0104214が修正されたことによる副作用です。

* ACI0104271 *4D Server* ライセンスの有効性をチェックするリクエストが`5`秒間隔でサーバーに送信されました。*4D Team Developer Professional* ライセンスでは問題ありません。ライセンスはクライアントがサーバーに接続したタイミングでチェックすれば良いはずです。

* ACI0104332 `COPY BLOB`でBLOB自体のデータを上書きコピーした場合，*malloc* 保護またはページヒープによるメモリ違反が発生し，アプリケーションがクラッシュしました。

* ACI0104253 自動行高が設定されたエンティティセレクションまたはコレクション型リストボックスに大量のデータを表示した場合，スクロールができませんでした。ACI0103946が修正されたことによる副作用です。

* ACI0104228 デザインモードの「変数名…を以下の名称に変更」ダイアログにはチェックボックスがありますが，そのタイトルが「-- set by C code --」となっていました。

* ACI0104285 配列のサイズ宣言に`Size of array`およびタイプの異なる配列名を記述した場合，ヘルプTipsに間違った配列タイプが表示されました。

* ACI0104328 4D ViewスプレッドシートをView Proに変換した場合，フォーマッターが正しく変換されないことがありました。

* ACI0104254 シンタックスを修正してから再度シンタックスチェックを実行した場合，エラーや警告のアイコンがすぐには消えませんでした。

* ACI0104307 [`4D.SystemWorker`](https://developer.4d.com/docs/ja/API/SystemWorkerClass/)のコンストラクターに渡す *options* オブジェクトのプロパティを計算属性として定義した場合，ランゲージコンテキストが不足しているというエラーが返されました。

* ACI0104289 Windows版のみ。`OBJECT GET BEST SIZE`をテキストオブジェクトに対して使用した場合，正しい値が返されませんでした。

* ACI0104287 Windows版のみ。`CONFIRM`または`ALERT`のテキストが途切れて表示されることがありました。ACI0104289が関係しています。

* ACI0104284 空のジャーナルを`LOG FILE TO JSON`でテキストファイルに変換した場合，`[]`ではなく`[`という内容が出力されました。

* ACI0104211 プラグインSDKのエントリーポイント経由でピクチャ配列にアクセスした場合，メモリ違反でアプリケーションが終了することがありました。

* ACI0104329 `FileHandle.readText()`でUTF-8エンコーディングのテキストファイルを読み込んだ場合，バイトオーダーマーク（BOM）が除外されず，それが原因で`JSON Parse`がエラーを返しました。

* ACI0104015 空白を含む定数をオブジェクトリテラルに記述した場合，ワードがプロセス変数として解釈されました。

* ACI0104290 ビット`4` (`16`) を指定せずに *Current process debug log* を有効化した場合，プラグインコマンドの呼び出しでアプリケーションがクラッシュしました。さきに全プロセスのデバッグログを有効化していれば問題ありません。