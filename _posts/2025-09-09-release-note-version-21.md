---
layout: fix
title: "4D 21 修正リスト"
date: 2025-10-13 08:00:00
categories: 修正リスト
tags: "21.0"
build: 100125
version: "21.0"
permalink: /2025/279/:slug/
---

* ACI0105947 macOS 26 Tahoeのみ。ウィンドウのタイトルバーにLTSではなくフィーチャーリリースのアイコンが表示されました。

* ACI0105951 macOS 26 Tahoeのみ。「サーバーに接続」「シンタックスエラー」などのウィンドウに表示されるアイコンがバージョン`21`のものではありませんでした。

* ACI0105953 Windows版のみ。ODBCドライバーのインストーラーのアイコン画像がバージョン`21`のものではありあませんでした。

* ACI0105938 クライアント/サーバー版のみ。コンパイルモードでランタイムエクスプローラーを表示したままクライアントを終了しようとした場合，アプリケーションがフリーズしました。

* ACI0105936 アプリケーションビルド画面にライセンスを追加した場合，ビルド自体は成功しますが，追加したライセンスがリストに表示されませんでした。

* ACI0105882 タイムアウトを変えて`4D.HTTPRequest`の`wait()`メソッドを実行した場合，進行中のリクエストがアボートされました。

* ACI0105932 フォームオブジェクトの標準アクションをコンテキストメニューで変更し，他に何も変更しなかった場合，更新が保存されませんでした。

* ACI0105845 クライアント/サーバー版のみ。`entitySelection.orderByFormula()`でエンティティセレクションをフォーミュラに使用した場合（例: `This.indexOf(entitySelection)`），エラーが返されました。

**注記**: クライアント側のエンティティセレクションをクエリのフォーミュラに使用することはできません。修正により，エラーメッセージの内容が見直されました。

* ACI0105946 ASTインタープリターモードでは，コンパイル済みコンポーネントメソッドに対して`Call chain`を使用した場合，正しい呼び出し連鎖が返されないことがありました。

* ACI0105891 QUICネットワークレイヤー（`ngtcp2`）のみ。クライアント/サーバー版のみ。データベースパラメーターの`Remote connection sleep timeout (98)`を設定したクライアントのシステムがスリープモードに移行した場合，アプリケーションがクラッシュしました。QUICネットワークレイヤー（`lsquic`）では問題ありません。

* ACI0105944 ASTインタープリターモードでは，`Call chain`から`formula`プロパティが返されないことがありました。

* ACI0105850 メールに特定の文字が含まれる場合，[`MAIL Convert to MIME`](https://developer.4d.com/docs/ja/commands/mail-convert-to-mime)または[`MAIL Convert from MIME`](https://developer.4d.com/docs/ja/commands/mail-convert-from-mime)で本文を正しく変換できないことがありました。

* ACI0105891 QUICネットワークレイヤー（`ngtcp2`）のみ。クライアント/サーバー版のみ。データベースパラメーターの`Remote connection sleep timeout (98)`を設定したクライアントのシステムがスリープモードに移行した場合，アプリケーションがクラッシュしました。QUICネットワークレイヤー（`lsquic`）では問題ありません。

* ACI0105916 `JSON Validate`のコレクション型を渡すことができませんでした。

**注記**: コマンドのシンタックスが見直されました。

* ACI0105901 エクスプローラーでテーブルを選択した場合，すぐにプレビューが表示されませんでした。エクスプローラーのウィンドウを背面に移動してから再び最前面に移動すれば，プレビューが表示されます。

* ACI0105912 Windows版のみ。WinUIアピアランスのリストボックスが配置されたフォームを表示した場合，アプリケーションがクラッシュすることがありました。

* ACI0105908 `Choose`コマンドの引数としてクラスのプロパティを記述した場合，メソッドエディターのヘルプTipsに間違った型が表示されました。

* ACI0105911 同一セッションの複数プロセスから同時にユーザー＆グループにアクセスした場合，アプリケーションがクラッシュする恐れがありました。

* ACI0105921 コンポーネントがインストールされていない新規プロジェクトにGitHubコンポーネントを追加した場合，コンポーネントはダウンロードされますが，依存関係マネージャーの画面が閉じられませんでした。*lock.dependencies* が存在しない場合に問題が発生するようです。 

* ACI0105930 クライアント/サーバー版バイナリモードのみ。新規メソッドを作成しようとした場合，アプリケーションがクラッシュすることがありました。

* ACI0105923 クエリエディターを閉じてから再表示した場合，ランタイムエラーが返されました。

* ACI0105478 [`SET DATABASE PARAMETER`](https://developer.4d.com/docs/ja/commands/set-database-parameter)のセレクター`34`（デバッグログ）の「即時記録」モードを有効化した場合，二重にエントリーが記録されました。

**注記**: 遅延記録モードでコマンドのパラメーターが二重に出力される不具合が修正されました。
二重に記録されているようにみえること自体は不具合ではありません。即時記録モードは，クラッシュ等の原因を調査するために使用されることが想定されており，オペレーションの前後にコマンド名が記録されるように設計されています。一方，遅延記録モードはパフォーマンスの最適化を図るために使用されることが想定されており，オペレーションの回数を確認したり，ベンチマーク統計のために使用されることが想定されています。