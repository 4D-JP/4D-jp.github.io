---
layout: technote
title: "4D World Tour 2019（１日目）"
author: Keisuke Miyako
date: 2019-05-28 00:00:00
permalink: /event/2019-05-28/
standalone: true
---

## ビジネスアプリケーションの革新的な基盤
---

v17は，革新的なプラットフォームです。v2004やv11も印象的なバージョンでしたが，v17は，アプリケーションがすべての点で飛躍的な進歩を遂げています。

- プログラミング言語（ORDA）
- ユーザーエクスペリエンス（SDI リストボックス ダイナミックフォーム）
- パフォーマンス（キャッシュマネージャー プリエンプティブモード）
- セキュリティ
- 統合ソリューション（4D Write Pro・4D View Pro・4D for iOS）

### Ｒリリース

v14以降，アジャイル開発の手法が採用され，品質管理の体制が強化されています。

- 目標を数週間の小さな仕事（プロジェクト）に分割する
- 責任者・デベロッパー・ドキュメントライター・テスターがチームで開発する
- プロジェクト毎に計画から検証までの開発サイクルを繰り返す
- 定期的にソフトウェアをリリースする
- 期日内にサイクルを完了しなかったプロジェクトはリリースから除外する

アジャイル開発は，ビジネスアプリケーションという分野に特有の課題，つまり「先進性と互換性の両立」を達成する上で役立っています。

- リリース前製品の開発とリリース後製品の保守が明確に仕切られている
- リリース前製品の開発プロジェクトはベータテストで重点的に検証する
- 最新版がもっとも安定性している（経験則に基づく従来の認識は通用しない）

## キャッシュマネージャーの管理

v11以降のキャッシュマネージャーは，基本的に32ビット版アプリケーションを想定したデザインでした。

- キャッシュサイズは固定
- 無差別にパージ
- キャッシュサイズの25%単位でパージ
- ``4``から``12``GB程度のサイズを想定
- フラグメンテーションの恐れあり

v16以降の64ビット版は，新しいキャッシュマネージャーを使用しています。

- キャッシュサイズは可変<i class="fa fa-external-link" aria-hidden="true"></i> （[``SET CACHE SIZE``](https://doc.4d.com/4Dv17/4D/17.1/SET-CACHE-SIZE.301-4179631.ja.html)）
- オブジェクトの<i class="fa fa-external-link" aria-hidden="true"></i> [優先度](https://doc.4d.com/4Dv17/4D/17.1/Managing-priorities-in-database-cache.300-4179634.ja.html)に応じてパージ
- バイト単位でパージ（[FLUSH CACHE](https://doc.4d.com/4Dv17/4D/17.1/FLUSH-CACHE.301-4179629.ja.html)）
- ``100``MBから``100``GB以上まで幅広いサイズを想定
- フラグメンテーションの恐れなし







## 4D Remote のプリエンプティブモード
---

### Begin SQL/End SQL

カレントセレクションを変更しないクエリは，ORDAで記述することができます。今後，SQL言語を拡張する予定はありません。しかし，既存をコードをサポートするため，``Begin SQL`` ``End SQL``ブロックがプリエンプティブモード対応になりました。

#### 用途

- ローカルデータベース
- C/Sアプリケーション
- エクスターナルデータベース（``USE DATABASE``）

#### 非サポート

- ``ODBC``
- ``INTO LISTBOX``
- ``QUERY BY SQL``
- ``REPLICATE`` ``SYNCHRONIZE``
- ``SQL LOGIN``

### ローカルプロセスのサーバーアクセス

ローカルプロセスまたはローカルワーカーからデータベースにアクセスした場合，あるいは``Current time (*)``など，サーバー側との通信が必要なコマンドを実行した場合，そのプロセスを起動したコマンドによってアクセスの方法が違います。

- ``CALL WORKER``: サーバー側に作成されるツインプロセスと通信

- ``New process``アプリケーションプロセスと通信
